<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="描述啊">
  <meta name="keywords" content="undefined">
  
    <link rel="icon" href="">
  
    
  <title>java异常 | LeoChan&#39;s 个人博客</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
</head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>LeoChan's 个人博客</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
        <section class="content markdown-body">
          <h1>java异常</h1>
          <div class='post-meta'>
            <i class="fa fa-calendar" aria-hidden="true"></i> <time>2017年08月15日</time>
            
              | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>/ <a class="article-category-link" href="/categories/Java/基础/">基础</a>
  </div>



            
            
          </div>
          <p>　　异常分类</p>
<p><img src="http://diycode.b0.upaiyun.com/photo/2016/ecb86e28e5df3a76a107f50d989f6123.png" alt="image"></p>
<h4 id="Throwable"><a href="#Throwable" class="headerlink" title="Throwable"></a>Throwable</h4><p>Throwable 类是 Java 语言中所有错误或异常的超类。只有当对象是此类（或其子类之一）的实例时，才能通过 Java 虚拟机或者 Java throw 语句抛出。类似地，只有此类或其子类之一才可以是 catch 子句中的参数类型。</p>
<h4 id="Error（错误）"><a href="#Error（错误）" class="headerlink" title="Error（错误）"></a>Error（错误）</h4><p>表示程序无法处理的错误，一般与程序员的执行操作无关。理论上这些错误是不允许发生的，如果发生，也不应该试图通过程序去处理，所以Error不是try-catch的处理对象，而JVM一般的处理方式是终止发生错误的线程。</p>
<h4 id="Exception（异常）"><a href="#Exception（异常）" class="headerlink" title="Exception（异常）"></a>Exception（异常）</h4><p>Java的异常分为两种</p>
<ul>
<li>checked Exception:检查型异常 或者 编译时异常，也叫非运行时异常</li>
<li>unchecked Exception, RuntimeException：不检查异常，也叫运行时异常</li>
</ul>
<p>运行时异常都是RuntimeException类及其子类异常，如NullPointerException、IndexOutOfBoundsException等，这些异常是不检查异常，程序中可以选择捕获处理，也可以不处理。这些异常一般是由程序逻辑错误引起的，程序应该从逻辑角度尽可能避免这类异常的发生。</p>
<p>非运行时异常是RuntimeException以外的异常，类型上都属于Exception类及其子类。从程序语法角度讲是必须进行处理的异常，如果不处理，程序就不能编译通过。如IOException、SQLException等以及用户自定义的Exception异常，一般情况下不自定义检查异常。</p>
<p>java认为checked异常都是可以再编译阶段被处理的异常，所以它强制程序处理所有的checked异常，而Runtime异常无须处理，java程序必须显式处理checked异常，如果程序没有处理，则在编译时会发生错误，无法通过编译。</p>
<p>Java异常机制主要依赖于try、catch、finally、throw、throws五个关键字。</p>
<ol>
<li><p><code>try</code>：它里面放置可能引发异常的代码</p>
</li>
<li><p><code>catch</code>：后面对应异常类型和一个代码块，用于表明该catch块用于处理这种类型的代码块，可以有多个catch块。</p>
</li>
<li><p><code>finally</code>：主要用于回收在try块里打开的物力资源（如数据库连接、网络连接和磁盘文件），异常机制总是保证finally块总是被执行。</p>
</li>
</ol>
<p>finally的作用：</p>
<ul>
<li>无论try所指定的程序块中是否抛出异常，也无论catch语句的异常类型是否与所抛弃的异常的类型一致，finally中的代码一定会得到执行</li>
<li>finally语句为异常处理提供一个统一的出口，使得在控制流程转到程序的其他部分以前，能够对程序的状态作统一的管理</li>
<li>通常再finally语句中可以进行资源的清楚工作，如关闭打开的文件，删除临时文件等</li>
</ul>
<p>当在try块或catch块中遇到return语句时，finally语句块将在方法返回之前被执行。<br>在以下4种特殊情况下，finally块不会被执行：<br>1）在finally语句块中抛出了异常且未处理。<br>2）在前面的代码中用了System.exit()退出程序。<br>3）程序所在的线程死亡。<br>4）CPU出现异常被关闭。  </p>
<ol>
<li><p><code>throw</code>：用于抛出一个实际的异常，可以单独作为语句使用，抛出一个具体的异常对象。</p>
</li>
<li><p><code>throws</code>：用在方法头部中，用于声明该方法可能抛出的异常。</p>
</li>
</ol>
<h5 id="异常执行步骤"><a href="#异常执行步骤" class="headerlink" title="异常执行步骤"></a>异常执行步骤</h5><ol>
<li><p>如果执行try块中的业务逻辑代码时出现异常，系统自动生成一个异常对象，该异常对象被提交给java运行环境，这个过程称为<strong>抛出（throw）异常</strong>。</p>
</li>
<li><p>当java运行环境收到异常对象时，会寻找能处理该异常对象的catch块，如果找到合适的cathc块并把该异常对象交给catch块处理，那这个过程称为<strong>捕获（catch）异常</strong>；如果java运行时环境找不到捕获异常的catch块，则运行时环境终止，jav程序也将退出。</p>
</li>
</ol>
<h5 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h5><ol>
<li><p>不管程序代码块是否处于try块中，甚至包括catch块中代码，只要执行该代码时出现了异常，系统都会自动生成一个异常对象，如果程序没有为这段代码定义任何catch块，java运行环境肯定找不到处理该异常的catch块，程序肯定在此退出。</p>
</li>
<li><p>try块后可以有多个catch块，try块后使用多个catch块是为了针对不同异常类提供的不同的异常处理方式。当系统发生不同意外情况时，系统会生成不同的异常对象，java运行时就会根据该异常对象所属的异常类来决定使用哪个catch块来处理该异常。</p>
</li>
<li><p>通常情况下，如果try块被执行一次，则try块后只有一个catch块会被执行，绝不可能有多个catch块被执行，除非在循环中使用类continue开始下一次循环，下一次循环又重新运行了try块，这才可能导致多个catch块被执行。</p>
</li>
<li><p>异常捕获顺序是从上到下的，所以一般将异常范围小放在前面，进行异常捕获时，一定要记住先捕获小的异常，再捕获大的异常。</p>
</li>
<li><p>只有try块石必须的，也就是说如果没有try块，则不可能有后面的catch块和finally块，catch块和finally块都是可选的，但catch块和finally块至少出现其中之一，也可以同时出现</p>
</li>
<li><p>使用throws声明抛出异常时有一个限制：就是方法重写时的“两小”中的一条规则：子类方法声明抛出的异常类型应该是父类方法声明抛出的异常类型的子类或或相等，子类方法中不允许比父类方法声明抛出更多异常。即如果子类抛出的异常是父类抛出的异常的父类，那么程序无法通过编译。</p>
</li>
</ol>
<h4 id="常见的运行时异常"><a href="#常见的运行时异常" class="headerlink" title="常见的运行时异常"></a>常见的运行时异常</h4><p>NullPointerException(空指针)，ArrayIndexOutOfBoundsException(数组下标越界),IndexOutOfBoundsException(索引越界异常),NumberFormatException(数字格式异常),IllegalArgumentException(方法参数错误)</p>
<h4 id="常见的非运行时异常"><a href="#常见的非运行时异常" class="headerlink" title="常见的非运行时异常"></a>常见的非运行时异常</h4><p>IOException(输入输出异常),SQLException(SQL异常)</p>

        </section>
    </article>
    
        
  </div>
  <aside>
    
    <div class="toc-container">
        <h1>目录</h1>
        <div class="content">
            <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Throwable"><span class="toc-number">1.</span> <span class="toc-text">Throwable</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Error（错误）"><span class="toc-number">2.</span> <span class="toc-text">Error（错误）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Exception（异常）"><span class="toc-number">3.</span> <span class="toc-text">Exception（异常）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#异常执行步骤"><span class="toc-number">3.1.</span> <span class="toc-text">异常执行步骤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#注意："><span class="toc-number">3.2.</span> <span class="toc-text">注意：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常见的运行时异常"><span class="toc-number">4.</span> <span class="toc-text">常见的运行时异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常见的非运行时异常"><span class="toc-number">5.</span> <span class="toc-text">常见的非运行时异常</span></a></li></ol>
        </div>
    </div>
    
  </aside>
</main>



  <footer>
  <div class="copyright">
    <div>
      &copy; 2018 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath" target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="/lib/in-view.min.js"></script>
<script src="/lib/lodash.min.js"></script>
<script>
  var isDown = true
  var oldY = 0
  inView.offset(50)

  document.body.addEventListener('touchstart', function(){});
  
  window.addEventListener('scroll', _.throttle(e => {
    var currentY = window.scrollY
    if((oldY - currentY) < 0) {
      isDown = true
    } else {
      isDown = false
    }
    oldY = currentY
  }, 250))

  $("article img").each(function() {
      var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
      $(this).wrapAll(strA);
  });

  $('.toc-link').each(function() {
      var href = $(this).attr("href");
      
      inView(href).on('exit', () => {
        if (isDown) {
          handleActive(href)
        }
      })

      inView(href).on('enter', () => {
        if (!isDown) {
          handleActive(href)
        }
      })

      this.onclick = function(e) {
        var pos = $(href).offset().top - 10;
        $("html,body").animate({scrollTop: pos}, 300);
        setTimeout(() => {
          handleActive(href)
        }, 350)
        return false
      }
  })

  function handleActive(href) {
    document.querySelectorAll('.toc-link').forEach(elm => {
      elm.classList.remove('active')
    })
    document.querySelector(".toc [href='"+ href +"']").classList.add('active')
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>


</body>
</html>
