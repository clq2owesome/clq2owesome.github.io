<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LeoChan&#39;s 个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="描述啊">
<meta property="og:type" content="website">
<meta property="og:title" content="LeoChan&#39;s 个人博客">
<meta property="og:url" content="https://clq2owesome.github.io/page/4/index.html">
<meta property="og:site_name" content="LeoChan&#39;s 个人博客">
<meta property="og:description" content="描述啊">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeoChan&#39;s 个人博客">
<meta name="twitter:description" content="描述啊">
  
    <link rel="alternate" href="/atom.xml" title="LeoChan&#39;s 个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LeoChan&#39;s 个人博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">技术都是通用的，重要的是是否具有自主解决问题的能力！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://clq2owesome.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Java/时间日期/Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Java/时间日期/Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>►<a class="article-category-link" href="/categories/Java/时间日期/">时间日期</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Java/时间日期/Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转/">Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Java 8中 java.util.Date 类新增了两个方法，分别是from(Instant instant)和toInstant()方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// Obtains an instance of Date from an Instant object.</div><div class="line">public static Date from(Instant instant) &#123;</div><div class="line">    try &#123;</div><div class="line">        return new Date(instant.toEpochMilli());</div><div class="line">    &#125; catch (ArithmeticException ex) &#123;</div><div class="line">        throw new IllegalArgumentException(ex);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// Converts this Date object to an Instant.</div><div class="line">public Instant toInstant() &#123;</div><div class="line">    return Instant.ofEpochMilli(getTime());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这两个方法使我们可以方便的实现将旧的日期类转换为新的日期类，具体思路都是通过Instant当中介，然后通过Instant来创建LocalDateTime（这个类可以很容易获取LocalDate和LocalTime），新的日期类转旧的也是如此，将新的先转成LocalDateTime，然后获取Instant，接着转成Date，具体实现细节如下：</p>
<h6 id="java-util-Date-–-gt-java-time-LocalDateTime"><a href="#java-util-Date-–-gt-java-time-LocalDateTime" class="headerlink" title="java.util.Date –&gt; java.time.LocalDateTime"></a>java.util.Date –&gt; java.time.LocalDateTime</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public void dateToLocalDateTime() &#123;</div><div class="line">    java.util.Date date = new java.util.Date();</div><div class="line">    Instant instant = date.toInstant();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-util-Date-–-gt-java-time-LocalDate"><a href="#java-util-Date-–-gt-java-time-LocalDate" class="headerlink" title="java.util.Date –&gt; java.time.LocalDate"></a>java.util.Date –&gt; java.time.LocalDate</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public void dateToLocalDate() &#123;</div><div class="line">    java.util.Date date = new java.util.Date();</div><div class="line">    Instant instant = date.toInstant();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);</div><div class="line">    LocalDate localDate = localDateTime.toLocalDate();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-util-Date-–-gt-java-time-LocalTime"><a href="#java-util-Date-–-gt-java-time-LocalTime" class="headerlink" title="java.util.Date –&gt; java.time.LocalTime"></a>java.util.Date –&gt; java.time.LocalTime</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public void dateToLocalTime() &#123;</div><div class="line">    java.util.Date date = new java.util.Date();</div><div class="line">    Instant instant = date.toInstant();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);</div><div class="line">    LocalTime localTime = localDateTime.toLocalTime();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-time-LocalDateTime-–-gt-java-util-Date"><a href="#java-time-LocalDateTime-–-gt-java-util-Date" class="headerlink" title="java.time.LocalDateTime –&gt; java.util.Date"></a>java.time.LocalDateTime –&gt; java.util.Date</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public void localDateTimeToDate() &#123;</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.now();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    Instant instant = localDateTime.atZone(zone).toInstant();</div><div class="line">    java.util.Date date = Date.from(instant);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-time-LocalDate-–-gt-java-util-Date"><a href="#java-time-LocalDate-–-gt-java-util-Date" class="headerlink" title="java.time.LocalDate –&gt; java.util.Date"></a>java.time.LocalDate –&gt; java.util.Date</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public void localDateToDate() &#123;</div><div class="line">    LocalDate localDate = LocalDate.now();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    Instant instant = localDate.atStartOfDay().atZone(zone).toInstant();</div><div class="line">    java.util.Date date = Date.from(instant);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-time-LocalTime-–-gt-java-util-Date"><a href="#java-time-LocalTime-–-gt-java-util-Date" class="headerlink" title="java.time.LocalTime –&gt; java.util.Date"></a>java.time.LocalTime –&gt; java.util.Date</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public void localTimeToDate() &#123;</div><div class="line">    LocalTime localTime = LocalTime.now();</div><div class="line">    LocalDate localDate = LocalDate.now();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.of(localDate, localTime);</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    Instant instant = localDateTime.atZone(zone).toInstant();</div><div class="line">    java.util.Date date = Date.from(instant);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Java/时间日期/Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转/" data-id="cjfvvphk10047m9fya3zspnlt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java/时间日期/格式化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Java/时间日期/格式化/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>►<a class="article-category-link" href="/categories/Java/时间日期/">时间日期</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Java/时间日期/格式化/">格式化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> 格式化参数说明</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>y</td>
<td>年</td>
</tr>
<tr>
<td>M</td>
<td>年中的月份</td>
</tr>
<tr>
<td>w</td>
<td>年中的周数</td>
</tr>
<tr>
<td>W</td>
<td>月份中的周数</td>
</tr>
<tr>
<td>D</td>
<td>年中的天数</td>
</tr>
<tr>
<td>d</td>
<td>月份中的天数</td>
</tr>
<tr>
<td>F</td>
<td>月份中的星期</td>
</tr>
<tr>
<td>H</td>
<td>一天中的小时数（0-23）</td>
</tr>
<tr>
<td>k</td>
<td>一天中的小时数（1-24）</td>
</tr>
<tr>
<td>K</td>
<td>am/pm 中的小时数（0-11）</td>
</tr>
<tr>
<td>h</td>
<td>am/pm 中的小时数（1-12）</td>
</tr>
<tr>
<td>m</td>
<td>小时中的分钟数</td>
</tr>
<tr>
<td>s</td>
<td>分钟中的秒数</td>
</tr>
<tr>
<td>S</td>
<td>毫秒数</td>
</tr>
<tr>
<td>z</td>
<td>时区</td>
</tr>
<tr>
<td>Z</td>
<td>时区</td>
</tr>
<tr>
<td>EE</td>
<td>周中的星期几</td>
</tr>
</tbody>
</table>
<h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><h4 id="日期转成String"><a href="#日期转成String" class="headerlink" title="日期转成String"></a>日期转成String</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Date date = new Date(System.currentTimeMillis());</div><div class="line">SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss S&quot;);</div><div class="line">sf.format(date)</div></pre></td></tr></table></figure>
<h4 id="String转成日期"><a href="#String转成日期" class="headerlink" title="String转成日期"></a>String转成日期</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss S&quot;);</div><div class="line">try &#123;</div><div class="line">	Date d = sf.parse(&quot;2017-10-17&quot;);</div><div class="line">&#125; catch (ParseException e) &#123;</div><div class="line">	e.printStackTrace();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Java/时间日期/格式化/" data-id="cjfvvphk2004am9fygmwiwga7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java/时间日期/Calendar" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Java/时间日期/Calendar/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>►<a class="article-category-link" href="/categories/Java/时间日期/">时间日期</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Java/时间日期/Calendar/">Calendar</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> 创建Calendar</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Calendar calendar = Calendar.getInstance()</div><div class="line"></div><div class="line">Calendar calendar = Calendar.getInstance(Locale aLocale)</div><div class="line"></div><div class="line">Calendar calendar = Calendar.getInstance(TimeZone zone)</div><div class="line"></div><div class="line">Calendar calendar = Calendar.getInstance(TimeZone zone,Locale aLocale)</div></pre></td></tr></table></figure>
<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><table>
<thead>
<tr>
<th>常量</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATE</td>
<td>日期</td>
</tr>
<tr>
<td>DAY_OF_MONTH</td>
<td>同DATE</td>
</tr>
<tr>
<td>DAY_OF_WEEK</td>
<td>当第几天，用数字（1～7）表示（星期日～星期六）</td>
</tr>
<tr>
<td>DAY_OF_WEEK_IN_MONTH</td>
<td>当月中第几周（按这个月1号算，1号起就是第1周，8号起就是第2周，以此类推。以月份天数为标准 ）</td>
</tr>
<tr>
<td>HOUR</td>
<td>当天小时（12小时制）</td>
</tr>
<tr>
<td>HOUR_OF_DAY</td>
<td>当天小时（24小时制）</td>
</tr>
<tr>
<td>MINUTE</td>
<td>分钟</td>
</tr>
<tr>
<td>MILLISECOND</td>
<td>毫秒</td>
</tr>
<tr>
<td>MONTH</td>
<td>月份（从0开始）</td>
</tr>
<tr>
<td>SECOND</td>
<td>秒</td>
</tr>
<tr>
<td>WEEK_OF_MONTH</td>
<td>当月中第几周（日历式的第几周，按日历的为准）</td>
</tr>
<tr>
<td>WEEK_OF_YEAR</td>
<td>当年第几周</td>
</tr>
<tr>
<td>YEAR</td>
<td>年份</td>
</tr>
</tbody>
</table>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss S&quot;);</div><div class="line">Calendar calendar = Calendar.getInstance();</div><div class="line">System.out.println(sf.format(calendar.getTime()));</div><div class="line">System.out.println(&quot;日期：&quot;+calendar.get(Calendar.DATE));</div><div class="line">System.out.println(&quot;当月第几天：&quot;+calendar.get(Calendar.DAY_OF_MONTH));</div><div class="line">System.out.println(&quot;当周第几天:&quot;+calendar.get(Calendar.DAY_OF_WEEK));</div><div class="line">System.out.println(&quot;当月第几周：&quot;+calendar.get(Calendar.DAY_OF_WEEK_IN_MONTH));</div><div class="line">System.out.println(&quot;当天小时（12小时制）：&quot;+calendar.get(Calendar.HOUR));</div><div class="line">System.out.println(&quot;当天小时（24小时制）：&quot;+calendar.get(Calendar.HOUR_OF_DAY));</div><div class="line">System.out.println(&quot;分钟：&quot;+calendar.get(Calendar.MINUTE));</div><div class="line">System.out.println(&quot;毫秒：&quot;+calendar.get(Calendar.MILLISECOND));</div><div class="line">System.out.println(&quot;月份：&quot;+calendar.get(Calendar.MONTH));</div><div class="line">System.out.println(&quot;秒：&quot;+calendar.get(Calendar.SECOND));</div><div class="line">System.out.println(&quot;当月第几周：&quot;+calendar.get(Calendar.WEEK_OF_MONTH));</div><div class="line">System.out.println(&quot;当年第几周：&quot;+calendar.get(Calendar.WEEK_OF_YEAR));</div><div class="line">System.out.println(&quot;年份：&quot;+calendar.get(Calendar.YEAR));</div></pre></td></tr></table></figure></p>
<p>结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">2017-11-05 16:05:56 702</div><div class="line">日期：5</div><div class="line">当月第几天：5</div><div class="line">当周第几天:1</div><div class="line">当月第几周：1</div><div class="line">当天小时（12小时制）：4</div><div class="line">当天小时（24小时制）：16</div><div class="line">分钟：5</div><div class="line">毫秒：702</div><div class="line">月份：10</div><div class="line">秒：56</div><div class="line">当月第几周：2</div><div class="line">当年第几周：45</div><div class="line">年份：2017</div></pre></td></tr></table></figure></p>
<h3 id="获取Date"><a href="#获取Date" class="headerlink" title="获取Date"></a>获取Date</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">calendar.getTime()</div></pre></td></tr></table></figure>
<h3 id="获取毫秒数"><a href="#获取毫秒数" class="headerlink" title="获取毫秒数"></a>获取毫秒数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">long getTimeInMillis()</div></pre></td></tr></table></figure>
<h3 id="Date转Calendar"><a href="#Date转Calendar" class="headerlink" title="Date转Calendar"></a>Date转Calendar</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Date date = new Date(System.currentTimeMillis());</div><div class="line">1. calendar.setTime(date);</div><div class="line">2. calendar.setTimeInMillis(date.getTime());</div></pre></td></tr></table></figure>
<h3 id="lenient"><a href="#lenient" class="headerlink" title="lenient"></a>lenient</h3><p>检查日期/时间是否有效，默认为true，不检查,Calendar自动适应<br>如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">calendar.set(2017, 10, 32, 0, 0, 0);  </div><div class="line"></div><div class="line">输出：2017-12-02 00:00:00 0</div><div class="line">//-------------------------------</div><div class="line"></div><div class="line">calendar.setLenient(false); </div><div class="line">calendar.set(2017, 10, 32, 0, 0, 0);  </div><div class="line">报错</div></pre></td></tr></table></figure></p>
<h3 id="设置时间"><a href="#设置时间" class="headerlink" title="设置时间"></a>设置时间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">set(int field, int value)</div><div class="line">set(int year, int month, int date)</div><div class="line">set(int year, int month, int date, int hourOfDay, int minute)</div><div class="line">set(int year, int month, int date, int hourOfDay, int minute,int second)</div></pre></td></tr></table></figure>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Date date = new Date();</div><div class="line">Calendar calendar = new GregorianCalendar();</div><div class="line">calendar.setTime(date);</div><div class="line">calendar.add(Calendar.DATE, +31);//设置从第二天凌晨开始的30天后的23:59:59结束</div><div class="line">calendar.set(Calendar.HOUR_OF_DAY, 23);</div><div class="line">calendar.set(Calendar.MINUTE, 59);</div><div class="line">calendar.set(Calendar.SECOND, 59);</div><div class="line">calendar.set(Calendar.MILLISECOND, 000);//需要把毫秒数清0，否则存入数据库有时会有问题</div><div class="line">//清0也可以用这样</div><div class="line">//calendar.clear(Calendar.MILLISECOND)</div></pre></td></tr></table></figure></p>
<h3 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h3><p>清除时间<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">calendar.clear();//1970-01-01 00:00:00 0</div><div class="line"></div><div class="line">clear(int field);</div></pre></td></tr></table></figure></p>
<h3 id="时间比较"><a href="#时间比较" class="headerlink" title="时间比较"></a>时间比较</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">boolean after(Object when): 判断此 Calendar 表示的时间是否在指定 Object 表示的时间之后，返回判断结果。</div><div class="line">boolean before(Object when): 判断此 Calendar 表示的时间是否在指定 Object 表示的时间之前，返回判断结果。</div><div class="line">int compareTo(Calendar anotherCalendar):比较此 Calendar与给定的Calendar的大小，大于返回1，等于返回0，小于返回0</div></pre></td></tr></table></figure>
<h3 id="add"><a href="#add" class="headerlink" title="add"></a>add</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void add(int field, int amount);//根据日历的规则，为给定的日历字段添加或减去指定的时间量，会自动调整时间</div></pre></td></tr></table></figure>
<h3 id="roll"><a href="#roll" class="headerlink" title="roll"></a>roll</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void roll(int field, int amount):只会调整给定field的值，值在给定的field内循环，不会自动调整时间</div></pre></td></tr></table></figure>
<h3 id="getActualMaximum"><a href="#getActualMaximum" class="headerlink" title="getActualMaximum"></a>getActualMaximum</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int getActualMaximum(int field):获取给定field的最大值</div></pre></td></tr></table></figure>
<p>例如：获取当月的天数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">calendar.getActualMaximum(Calendar.DAY_OF_MONTH);//31</div></pre></td></tr></table></figure></p>
<h3 id="getActualMinimum"><a href="#getActualMinimum" class="headerlink" title="getActualMinimum"></a>getActualMinimum</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int getActualMinimum(int field):获取给定field的最小值</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Java/时间日期/Calendar/" data-id="cjfvvphk3004cm9fyvx6pk6fx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-服务器相关/redis/5种数据结构" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/服务器相关/redis/5种数据结构/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/服务器相关/">服务器相关</a>►<a class="article-category-link" href="/categories/服务器相关/redis/">redis</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/服务器相关/redis/5种数据结构/">5种数据结构</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th>结构类型</th>
<th>存储结构的值</th>
<th>结构的读写能力</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td>可以是字符串，整数，或者浮点数</td>
<td>对整个字符串或者字符串的其中一部分执行操作；对整数和浮点数执行自增（increment）或者自减（decrement）操作</td>
</tr>
<tr>
<td>LIST</td>
<td>一个链表，链表上的每个节点都包含了一个字符串</td>
<td>从链表的两端推入或者弹出元素；根据偏移量对链表进行修剪（trim）；读取单个或者多个元素；根据值查找或者移除元素</td>
</tr>
<tr>
<td>SET</td>
<td>包含字符串的无序收集器（unordered collection），并且被包含的每个字符串都是独一无二，各不相同的</td>
<td>添加，获取，移除元素；检查一个元素是否存在于集合中；计算交集，并集，差集；从集合里面随机获取元素</td>
</tr>
<tr>
<td>HASH</td>
<td>包含键值对的无序散列表</td>
<td>添加，获取，移除单个键值对；获取所有的键值对</td>
</tr>
<tr>
<td>ZSET（有序集合）</td>
<td>字符串成员（member）与浮点数分值（score）之间的有序映射，元素的排列顺序由分值的大小决定</td>
<td>添加，获取，删除单个元素；根据分值范围（range）或者成员来获取元素</td>
</tr>
</tbody>
</table>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><h5 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>get</td>
<td>get key-name 获取存储在给定键中的值</td>
</tr>
<tr>
<td>set</td>
<td>set key-name value 设置存储在给定键中的值</td>
</tr>
<tr>
<td>del</td>
<td>del  key-name 删除存储在给定键中的值</td>
</tr>
</tbody>
</table>
<h5 id="自增命令和自减命令"><a href="#自增命令和自减命令" class="headerlink" title="自增命令和自减命令"></a>自增命令和自减命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>incr</td>
<td>incr key-name 将键存储的值加上1</td>
</tr>
<tr>
<td>decr</td>
<td>decr key-name 将键存储的值减去1</td>
</tr>
<tr>
<td>incrby</td>
<td>incrby key-name amount 将键存储的值加上整数amount</td>
</tr>
<tr>
<td>decrby</td>
<td>将键存储的值减去整数amount</td>
</tr>
<tr>
<td>incrbyfloat</td>
<td>incrbyfloat key-name amount 将键存储的值加上浮点数amount，这个命令在Redis 2.6 或以上的版本可用</td>
</tr>
</tbody>
</table>
<h5 id="处理子串和二进制位的命令"><a href="#处理子串和二进制位的命令" class="headerlink" title="处理子串和二进制位的命令"></a>处理子串和二进制位的命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>append</td>
<td>append key-name value 将值value追加到给定键key-name当前存储的值的末尾</td>
</tr>
<tr>
<td>getrange</td>
<td>getrange key-name start end 获取一个由偏移量start至偏移量end范围内所有字符组成的子串，包括start和end在内</td>
</tr>
<tr>
<td>setrange</td>
<td>setrange ke-name offset value 将从offset偏移量开始的字串设置为给定值</td>
</tr>
<tr>
<td>getbit</td>
<td>getbit key-name offset 将字符串看作是二进制位串（bit string），并返回位串中偏移量位offset的二进制位的值</td>
</tr>
<tr>
<td>setbit</td>
<td>setbit key-name offset value 将字节串看作是二进制位串，并将位串中的偏移量为offset的二进制位的值设置为value</td>
</tr>
<tr>
<td>bitcount</td>
<td>bitcount key-name [start end] 将统计二进制位串里面值为1的二进制位的数量，如果给定了可选的start偏移量和end偏移量，那么只对偏移量指定范围内的二进制位进行统计</td>
</tr>
<tr>
<td>bitof</td>
<td>bitof operation dest-key key-name [key-name …] 对一个或多个二进制位串执行包括并（and），或（or），异或（xor），非（not）在内的任意一种位运算操作（bitwise operation），并将计算得出的结果保存在dest-key键里面</td>
</tr>
</tbody>
</table>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><h5 id="基础命令-1"><a href="#基础命令-1" class="headerlink" title="基础命令"></a>基础命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rpush</td>
<td>rpush key-name value [value .. .] 将一个或者多个推入列表的右端</td>
</tr>
<tr>
<td>lpush</td>
<td>lpush key-name value [value…] 将一个或者多个值推入列表的左端</td>
</tr>
<tr>
<td>lrange</td>
<td>lrange key-name start end 返回列表从start偏移量到end偏移量范围内的所有元素，其中偏移量为start和end的元素也会包含在被返回的元素之内</td>
</tr>
<tr>
<td>lindex</td>
<td>lindex key-name offset 返回列表中偏移量为offset的元素</td>
</tr>
<tr>
<td>lpop</td>
<td>lpop key-name 移除并返回列表最左端的元素</td>
</tr>
<tr>
<td>rpop</td>
<td>rpop key-name 移除并返回列表最右端的元素</td>
</tr>
<tr>
<td>ltrim</td>
<td>ltrim key-name start end 对列表进行修剪，只保留从start偏移量到end偏移量范围内的元素，其中偏移量为start和end的元素也会被保留</td>
</tr>
</tbody>
</table>
<h5 id="阻塞式的列表弹出命令以及在列表之间移动元素的命令"><a href="#阻塞式的列表弹出命令以及在列表之间移动元素的命令" class="headerlink" title="阻塞式的列表弹出命令以及在列表之间移动元素的命令"></a>阻塞式的列表弹出命令以及在列表之间移动元素的命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>blpop</td>
<td>blpop key-name [key-name …] timeout 从第一个非空列表中弹出位于最左端的元素，或者在timeout秒之内阻塞并等待可弹出的元素出现</td>
</tr>
<tr>
<td>brpop</td>
<td>brpop key-name [key-name …] timeout 从第一个非空列表中弹出位于最右端的元素，或者在timeout秒之内阻塞并等待可弹出的元素出现</td>
</tr>
<tr>
<td>rpoplpush</td>
<td>rpoplrush source-key dest-key 从source-key列表中弹出位于最右端的元素，然后将这个元素推入dest-key列表的最左端，并向用户返回这个元素</td>
</tr>
<tr>
<td>brpoplpush</td>
<td>brpoplrush source-key dest-key timeout 从source-key列表中弹出位于最右端的元素，然后将这个元素推入dest-key列表的最左端，并向用户返回这个元素；如果source-key为空，那么在timeout秒之内阻塞并等待可弹出的元素出现</td>
</tr>
</tbody>
</table>
<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><h5 id="基础命令-2"><a href="#基础命令-2" class="headerlink" title="基础命令"></a>基础命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sadd</td>
<td>sadd key-name item [item …] 将一个或者多个元素添加到集合里面，并返回被添加元素当中原本并不存在于集合里面的元素数量</td>
</tr>
<tr>
<td>srem</td>
<td>srem key-name item [item …] 从集合里面移除一个或者多个元素，并返回被移除元素的数量</td>
</tr>
<tr>
<td>sismember</td>
<td>sismember key-name item 检查元素item是否存在于集合key-name里</td>
</tr>
<tr>
<td>scard</td>
<td>scard key-name 返回集合包含的元素的数量</td>
</tr>
<tr>
<td>smembers</td>
<td>smembers key-name 返回集合包含的所有元素</td>
</tr>
<tr>
<td>srandmember</td>
<td>srandmember key-name [count] 从集合里面随机地返回一个或者多个元素。当count为正数时，命令返回的随机元素不会重复；当count为负数时，命令返回的随机元素可能会出现重复</td>
</tr>
<tr>
<td>spop</td>
<td>spop key-name 随机地移除集合中的一个元素，并返回被移除的元素</td>
</tr>
<tr>
<td>smove</td>
<td>smove source-key dest-key item 如果集合source-key包含元素item，那么从集合source-key里面移除元素item，并将元素item添加到集合dest-key中；如果item被成功移除，那么命令返回1，否则返回0</td>
</tr>
</tbody>
</table>
<h5 id="用于组合和处理多个集合的命令"><a href="#用于组合和处理多个集合的命令" class="headerlink" title="用于组合和处理多个集合的命令"></a>用于组合和处理多个集合的命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sdiff</td>
<td>sdiff key-name [key-name …] 返回那些存在于第一集合，但不存在于其他集合中的元素（数学上的差集运算）</td>
</tr>
<tr>
<td>sdiffstore</td>
<td>sdiffstore dest-key key-name [key-name…] 将那些存在于第一个集合但并不存在于其他集合中的元素存储到dest-key键里面</td>
</tr>
<tr>
<td>sinter</td>
<td>sinter key-name [key-name…] 返回那些同时存在于所有集合中的元素（数学上的交集运算）</td>
</tr>
<tr>
<td>sinterstore</td>
<td>sinterstore dest-key key-name [key-name …] 返回那些同时存在于所有集合中的元素并存储到dest-key键里面</td>
</tr>
<tr>
<td>sunion</td>
<td>sunion key-name [key-name…] 返回那些至少存在于一个集合中的元素（数学上的并集计算）</td>
</tr>
<tr>
<td>sunionstore</td>
<td>sunionstore dest-key key-name [key-name…] 返回那些至少存在于一个集合中的元素并存储到dest-key键里面</td>
</tr>
</tbody>
</table>
<h3 id="散列"><a href="#散列" class="headerlink" title="散列"></a>散列</h3><h5 id="基础命令-3"><a href="#基础命令-3" class="headerlink" title="基础命令"></a>基础命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>hset</td>
<td>hset key-name key 为散列里面设置一个值</td>
</tr>
<tr>
<td>hget</td>
<td>hget key-name 为散列里面获取一个键的值</td>
</tr>
<tr>
<td>hgetall</td>
<td>获取散列包含的所有键值对</td>
</tr>
<tr>
<td>hmget</td>
<td>hmget key-name key [key …] 从散列里面获取一个或多个键的值</td>
</tr>
<tr>
<td>hmset</td>
<td>hmset key-name key value [key value …] 为散列里面的一个或多个键设置值</td>
</tr>
<tr>
<td>hdel</td>
<td>hdel key-name key [key …] 删除散列里面的一个或多个键值对，返回成功找到并删除的键值对数量</td>
</tr>
<tr>
<td>hlen</td>
<td>hlen key-name 返回散列表包含的键值对数量</td>
</tr>
</tbody>
</table>
<h5 id="散列的更高级特性"><a href="#散列的更高级特性" class="headerlink" title="散列的更高级特性"></a>散列的更高级特性</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>hexists</td>
<td>hexists key-name key 检查给定键是否存在于散列中</td>
</tr>
<tr>
<td>hkeys</td>
<td>hkeys key-name 获取散列包含的所有键</td>
</tr>
<tr>
<td>hvals</td>
<td>获取散列包含的所有值</td>
</tr>
<tr>
<td>hgetall</td>
<td>hgetall key-name 获取散列包含的所有键值对</td>
</tr>
<tr>
<td>hincrby</td>
<td>hincrby key-name key increment 将键key存储的值加上整数increment</td>
</tr>
<tr>
<td>hincrbyfloat</td>
<td>hincrbyfloat key-name key increment 将键key存储的值加上浮点数increment</td>
</tr>
</tbody>
</table>
<h3 id="有序集合"><a href="#有序集合" class="headerlink" title="有序集合"></a>有序集合</h3><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>zadd</td>
<td>zadd key-name score member [score member …] 将带有给定分值的成员添加到有序集合里面</td>
</tr>
<tr>
<td>zrem</td>
<td>zrem key-name member [member …] 从有序集合里面移除给定的成员，并返回被移除成员的数量</td>
</tr>
<tr>
<td>zcard</td>
<td>zcard key-name 返回有序集合包含的成员数量</td>
</tr>
<tr>
<td>zincrby</td>
<td>zincrby key-name increment member 将member成员的分值加上</td>
</tr>
<tr>
<td>zcount</td>
<td>zcount key-name min max 返回分值介于min和max之间的成员数量</td>
</tr>
<tr>
<td>zrank</td>
<td>zrank key-name member 返回成员member在有序集合中的排名</td>
</tr>
<tr>
<td>zscore</td>
<td>zscore key-name member 返回成员member的分值</td>
</tr>
<tr>
<td>zrange</td>
<td>zrange key-name start stop [withscores] 返回有序集合中排名介于start和stop之间的成员，如果给定了可选的withscores选项，那么命令会将成员的分值也一并返回</td>
</tr>
</tbody>
</table>
<h5 id="范围型数据获取命令和范围型数据删除命令，以及并集和交集命令"><a href="#范围型数据获取命令和范围型数据删除命令，以及并集和交集命令" class="headerlink" title="范围型数据获取命令和范围型数据删除命令，以及并集和交集命令"></a>范围型数据获取命令和范围型数据删除命令，以及并集和交集命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>zrevrank</td>
<td>zrevrank key-name member 返回有序集合成员member的排名，成员按照分值从大到小排列</td>
</tr>
<tr>
<td>zrevrange</td>
<td>zrevrange key-name start stop [withscores] 返回有序集合给定排名范围内的成员，成员按照分值从大到小排列</td>
</tr>
<tr>
<td>zrangebyscore</td>
<td>zrangebyscore key min max [withscores] [limit offset count] 返回有序集合中，分值介于min和max之间的所有成员</td>
</tr>
<tr>
<td>zrevrangebyscore</td>
<td>zrevrangebyscore key min max [withscores] [limit offset count] 获取有序集合中分值介于min和max之间所有成员，并按照分值从大到小的顺序来返回它们</td>
</tr>
<tr>
<td>zremrangebyrank</td>
<td>zremrangebyrank key-name start stop 移除有序集合中排名介于start和stop之间的所有成员</td>
</tr>
<tr>
<td>zremrangebyscore</td>
<td>zremrangebyscore key-name min max 移除有序集合中分值介于min和max之间的所有成员</td>
</tr>
<tr>
<td>zinterstore</td>
<td>zinterstore dest-key key-count key [key …] [withscores weight [weight …]] [aggregate sum\</td>
<td>min\</td>
<td>max] 对给定的有序集合执行类似于集合的交集运算</td>
</tr>
<tr>
<td>zunionstore</td>
<td>zunionstore dest-key key-count key [key …] [withscores weight [weight …]] [aggregate sum\</td>
<td>min\</td>
<td>max] 对给定的有序集合执行类似于集合的并集运算</td>
</tr>
</tbody>
</table>
<h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sort</td>
<td>sort source-key [by pattern] [limit offset count] [get pattern [get pattern …]] [asc\</td>
<td>desc] [alpha] [store dest-key] 根据给定的选项，对输入列表，集合或者有序集合进行排序，然后返回或者存储排序的结果</td>
</tr>
</tbody>
</table>
<h5 id="用于处理过期时间的命令"><a href="#用于处理过期时间的命令" class="headerlink" title="用于处理过期时间的命令"></a>用于处理过期时间的命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用例和描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>persist</td>
<td>persist key-name 移除键的过期时间</td>
</tr>
<tr>
<td>ttl</td>
<td>ttl key-name 查看给定键距离过期还有多少秒</td>
</tr>
<tr>
<td>expire</td>
<td>expire key-name seconds 让给定键在指定的秒数之后过期</td>
</tr>
<tr>
<td>expireat</td>
<td>expireat key-name timestamp 将给定键的过期时间设置为给定的unix时间戳</td>
</tr>
<tr>
<td>pttl</td>
<td>pttl key-name 查看给定键距离过期时间还有多少毫秒，这个命令在Redis 2.6 或以上版本可用</td>
</tr>
<tr>
<td>pexpire</td>
<td>pexpire key-name milliseconds 让给定键在指定的毫秒数之后过期，这个命令在Redis 2.6 或以上版本可用</td>
</tr>
<tr>
<td>pexpireat</td>
<td>pexpireat key-name timestamp-milliseconds 将一个毫秒级精度的unix时间戳设置为给定键的过期时间，这个命令在Redis 2.6 或以上版本可用</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/服务器相关/redis/5种数据结构/" data-id="cjfvvphod00dwm9fyl2pr7r4r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Linux/shell script" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Linux/shell script/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Linux/shell script/">shell script</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="编写shell-script的需要注意以下事项："><a href="#编写shell-script的需要注意以下事项：" class="headerlink" title="编写shell script的需要注意以下事项："></a>编写shell script的需要注意以下事项：</h3><ol>
<li>命令的执行是从上而下，从左而右地分析与执行</li>
<li>命令，参数间的多个空白都会被忽略掉</li>
<li>空白行也将被忽略掉，并且[tab]按键所得的空白同样视为空格键</li>
<li>如果读取到一个Enter符号（CR），就尝试开始执行该行（或该串）命令</li>
<li>至于如果一行的内容太多，则可以使用“\Enter”来扩展至下一行</li>
<li>“#”可以作为批注。任何加在#后面的数据将全部被视为批注文字而被忽略</li>
</ol>
<h3 id="执行脚本"><a href="#执行脚本" class="headerlink" title="执行脚本"></a>执行脚本</h3><ol>
<li><p><strong>直接命令执行</strong>：shell.sh文件必须具备可读与可执行（rx）的权限，然后：</p>
<ol>
<li>绝对路径：使用<code>/home/dmtsai/shell.sh</code>来执行命令</li>
<li>相对命令：假设工作目录在/home/dmtsai/,则使用<code>./shell.sh</code>来执行</li>
<li>变量“PATH”功能：将shell.sh放在PATH指定的目录内，例如：~/bin/</li>
</ol>
</li>
<li><p><strong>以bash进程来执行</strong>：通过<code>bash shell.sh</code> 或 <code>sh shell.sh</code>来执行</p>
</li>
</ol>
<h3 id="脚本规范"><a href="#脚本规范" class="headerlink" title="脚本规范"></a>脚本规范</h3><ol>
<li><p>第一行<code>#!/bin/bash</code>声明这个script使用的shell名称</p>
<p> 因为我们使用的是bash，所以必须要以<code>#!/bin/bash</code>来声明这个内的语法使用bash的语法。那么当这个程序被执行时，它就能够加载bash的相关环境配置文件（一般来说就是non-login shell的~/.bashrc），并且执行bash来执行bash使我们下面的命令能够执行。这很重要的（在很多情况中，如果没有设置好这一行，那么该程序很可能会无法执行，因为系统可能无法判断该程序需要使用什么shell来执行）</p>
</li>
<li><p>程序内容的说明</p>
<p> 整个script当中，除了第一行的<code>#!</code>是用来声明shell的之外，其他的#都是“批注”用途。一般来说，建议你一定要养成说明该script的内容和功能，版本信息，作者与联系方式，建立日期，历史记录等习惯，这将有助于将来程序的改写与调试</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"># 功能：</div><div class="line">#   这里是功能描述</div><div class="line"># 历史：</div><div class="line">#   时间 作者 版本号</div></pre></td></tr></table></figure>
</li>
<li><p>主要环境变量的声明</p>
<p> 建议务必要将一些重要的环境变量设置好，PATH与LANG（如果有使用到输出相关的信息时）是当中最重要的！如此一来，则可让我们这个程序在进行时可以直接执行一些外部命令，而不必写绝对路径</p>
</li>
<li><p>主要程序部分</p>
<p> 就将主要的程序写好即可</p>
</li>
<li><p>告知执行结果</p>
<p> 可以利用exit这个命令来让程序中断，并且回传一个数值给系统。例如使用exit 0，这代表离开script并且回传一个0给系统。进一步，可以利用exit n（n为数字）的功能，自定义错误信息，让程序变得更加聪明</p>
</li>
</ol>
<p>注意：<strong>使用上述的方式执行script时，该script都会使用一个新的bash环境来执行脚本内的命令</strong>.</p>
<p>也就是说，<strong>使用这种执行方式时，其实script是在子进程的bash内执行的。当子进程完成后，子进程内的各项变量或操作将会结束而不会传回到父进程中</strong></p>
<p>如下图：<br><img src="https://raw.githubusercontent.com/clq2owesome/image/master/WechatIMG2436.jpeg" alt="image"><br>​    </p>
<h5 id="使用source来执行脚本：在父进程中执行"><a href="#使用source来执行脚本：在父进程中执行" class="headerlink" title="使用source来执行脚本：在父进程中执行"></a>使用source来执行脚本：在父进程中执行</h5><p><img src="https://raw.githubusercontent.com/clq2owesome/image/master/WechatIMG2438.jpeg" alt="image"></p>
<h3 id="数值运算"><a href="#数值运算" class="headerlink" title="数值运算"></a>数值运算</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var=$((运算内容))</div></pre></td></tr></table></figure>
<h3 id="自定义变量转成环境变量（export）"><a href="#自定义变量转成环境变量（export）" class="headerlink" title="自定义变量转成环境变量（export）"></a>自定义变量转成环境变量（export）</h3><p><strong>子进程仅会继承父进程的环境变量，子进程不会继承父进程的自定义变量</strong>，所以你原本bash中的自定义变量在进入了子进程后就会消失不见，一直到你离开子进程并回到原本的父进程后，这个变量才会又出现</p>
<p>换个角度来说，如果我能将自定义变量变成环境变量的话，那不就可以让该变量值继续存在于子进程了？如果想要让该变量内容继续在子进程中使用，那么就请执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export 变量名称</div></pre></td></tr></table></figure></p>
<p>为什么环境变量的数据可以被子进程所引用呢？这是因为内存配置的关系。理论上是这样的：</p>
<ul>
<li>当启动一个shell，操作系统会分配一记忆块给shell使用，此内存内的变量可让子进程取用</li>
<li>若在父进程利用export功能，可以让自定义变量的内容写到上述的记忆块当中（环境变量）</li>
<li>当加载另一个shell时（即启动子进程，而离开原本的父进程了），子shell可以将父shell的环境变量所在的记忆块导入自己的环境变量块当中</li>
</ul>
<h3 id="关于本shell的PID"><a href="#关于本shell的PID" class="headerlink" title="$(关于本shell的PID)"></a>$(关于本shell的PID)</h3><p>“$”本身也是个变量，这个代表的是目前这个shell的线程代号，即是所谓的PID（Process ID）</p>
<h3 id="（关于上个执行命令的回传码）"><a href="#（关于上个执行命令的回传码）" class="headerlink" title="?（关于上个执行命令的回传码）"></a>?（关于上个执行命令的回传码）</h3><p>问号也是一个特殊的变量，在bash里面这个变量很重要。<strong>这个变量是上一个执行的命令所回传的值</strong>。当我们执行某些命令时，这些命令都会回传一个执行后的代码。一般来说，<strong>如果成功执行该命令，则会回传一个0值，如果执行过程中发生错误，就会回传“错误代码”才对。一般就是以非0的数值来替代</strong></p>
<h3 id="test命令"><a href="#test命令" class="headerlink" title="test命令"></a>test命令</h3><h6 id="关于某个文件名的“文件类型”判断"><a href="#关于某个文件名的“文件类型”判断" class="headerlink" title="关于某个文件名的“文件类型”判断"></a>关于某个文件名的“文件类型”判断</h6><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-e</td>
<td>该文件名是否存在（常用）</td>
</tr>
<tr>
<td>-f</td>
<td>该文件名是否存在且为文件（file）（常用）</td>
</tr>
<tr>
<td>-d</td>
<td>是否存在且为目录（常用）</td>
</tr>
<tr>
<td>-b</td>
<td>是否存在且为一个block device设备</td>
</tr>
<tr>
<td>-c</td>
<td>是否存在且为一个character device设备</td>
</tr>
<tr>
<td>-S</td>
<td>是否存在且为一个Socket文件</td>
</tr>
<tr>
<td>-p</td>
<td>是否存在且为一个FIFO（pipe）文件</td>
</tr>
<tr>
<td>-L</td>
<td>是否存在且为一个连接文件</td>
</tr>
</tbody>
</table>
<h6 id="关于文件的权限检测"><a href="#关于文件的权限检测" class="headerlink" title="关于文件的权限检测"></a>关于文件的权限检测</h6><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-r</td>
<td>检测该文件是否存在且具有“可读”的权限</td>
</tr>
<tr>
<td>-w</td>
<td>检测该文件是否存在且具有“可写”的权限</td>
</tr>
<tr>
<td>-x</td>
<td>检测该文件是否存在且具有“可执行”的权限</td>
</tr>
<tr>
<td>-u</td>
<td>检测该文件是否存在且具有“SUID”的属性</td>
</tr>
<tr>
<td>-g</td>
<td>检测该文件是否存在且具有“SGID”的属性</td>
</tr>
<tr>
<td>-k</td>
<td>检测该文件是否存在且具有“Sticky bit”的属性</td>
</tr>
<tr>
<td>-s</td>
<td>检测该文件是否存在且为“非空白文件”</td>
</tr>
</tbody>
</table>
<h6 id="关于文件的权限检测-1"><a href="#关于文件的权限检测-1" class="headerlink" title="关于文件的权限检测"></a>关于文件的权限检测</h6><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-nt</td>
<td>判断file1是否比file2新</td>
</tr>
<tr>
<td>-ot</td>
<td>判断file1是否比file2旧</td>
</tr>
<tr>
<td>-ef</td>
<td>判断file1与file2是否为同一文件，可用在判断hard link的判定上。主要意义在于判定两个文件是否均指向同一个node</td>
</tr>
</tbody>
</table>
<h6 id="关于两个整数之间的判定"><a href="#关于两个整数之间的判定" class="headerlink" title="关于两个整数之间的判定"></a>关于两个整数之间的判定</h6><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-eq</td>
<td>两数值相等</td>
</tr>
<tr>
<td>-ne</td>
<td>两数值不等</td>
</tr>
<tr>
<td>-gt</td>
<td>n1大于n2</td>
</tr>
<tr>
<td>-lt</td>
<td>n1小于n2</td>
</tr>
<tr>
<td>-ge</td>
<td>n1大于等于n2</td>
</tr>
<tr>
<td>-le</td>
<td>n1小于等于n2</td>
</tr>
</tbody>
</table>
<h6 id="判定字符串的数据"><a href="#判定字符串的数据" class="headerlink" title="判定字符串的数据"></a>判定字符串的数据</h6><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test -Z string</td>
<td>判定字符串是否为0，若string为空字符串，则为true</td>
</tr>
<tr>
<td>Test -n string</td>
<td>判定字符串是否为非0，若string为空字符串，则为false<br>注：-n也可以省略</td>
</tr>
<tr>
<td>test str1 = str2</td>
<td>判定str1是否等于str2，若相等，则回传true</td>
</tr>
<tr>
<td>test str1 != str2</td>
<td>判定str1是否不等于str2，若相等，则返回false</td>
</tr>
</tbody>
</table>
<h6 id="多重条件判定"><a href="#多重条件判定" class="headerlink" title="多重条件判定"></a>多重条件判定</h6><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>两个条件同时成立！例如test -r file -a -x file，则file同时具有r与x的权限时，才返回true</td>
</tr>
<tr>
<td>-o</td>
<td>任何一个条件成立！例如test -r file -o -x file，则file具有r或x权限时，就会返回true</td>
</tr>
<tr>
<td>!</td>
<td>反向状态！例如 test ! -x file，当file不具有x时，就会回传true</td>
</tr>
</tbody>
</table>
<h3 id="利用判断符号"><a href="#利用判断符号" class="headerlink" title="利用判断符号[]"></a>利用判断符号[]</h3><p>中括号的用法与test几乎一模一样，只是中括号比较常用在条件判断式 if…then…fi 的情况</p>
<p>例如：如果想要知道$HOME这个变量是否为空的，可以这样做：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># [ -z &quot;$HOME&quot; ];echo $?</div><div class="line">1</div></pre></td></tr></table></figure></p>
<p>必须要注意：</p>
<ol>
<li>在中括号[]内的每个组件的两端都需要有空格符来分隔</li>
<li>中中括号内的变量，最好都以双引号括起来</li>
<li>在中括号内的常量，最好都以单或双引号括起来</li>
</ol>
<h3 id="shell-script-的默认变量"><a href="#shell-script-的默认变量" class="headerlink" title="shell script 的默认变量"></a>shell script 的默认变量</h3><p>script针对参数已经有设置好一些变量名称了，对应如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/path/to/scriptname opt1 opt2 opt3 opt4</div><div class="line">     $0              $1   $2   $3   $4</div></pre></td></tr></table></figure></p>
<p>除了这些数字的变量之外，我们还有一些较为特殊的变量可以在script内使用来调用这些参数</p>
<ul>
<li>$#:代表后接的参数的个数</li>
<li>$@:代表“$1”，“$2”，“$3”，“$4”之意，每个变量是独立的（用双引号括起来）</li>
<li>$*:代表“”$1c$2c$3c$4””，其中c为分隔字符，默认为空格键，所以本例中代表“”$1 $2 $3 $4””之意</li>
</ul>
<h3 id="判断式"><a href="#判断式" class="headerlink" title="判断式"></a>判断式</h3><h6 id="单层，简单条件判断式"><a href="#单层，简单条件判断式" class="headerlink" title="单层，简单条件判断式"></a>单层，简单条件判断式</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if [条件];then</div><div class="line">    当条件成立时，可以进行的命令工作内容</div><div class="line">fi &lt;---结束之意</div></pre></td></tr></table></figure>
<h6 id="多重，复杂条件判断式"><a href="#多重，复杂条件判断式" class="headerlink" title="多重，复杂条件判断式"></a>多重，复杂条件判断式</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">if [条件]; then</div><div class="line">    当条件成立时，可以进行的命令工作内容</div><div class="line">elif [条件]; then</div><div class="line">    当条件成立时，可以进行的命令工作内容</div><div class="line">fi &lt;---结束之意</div><div class="line"></div><div class="line">或者</div><div class="line"></div><div class="line">if [条件]; then</div><div class="line">    当条件成立时，可以进行的命令工作内容</div><div class="line">elif [条件]; then</div><div class="line">    当条件成立时，可以进行的命令工作内容</div><div class="line">else </div><div class="line">    当条件成立时，可以进行的命令工作内容</div><div class="line">fi &lt;---结束之意</div><div class="line"></div><div class="line">例如：</div><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">if [ &quot;$1&quot; == &quot;hello&quot; ]; then</div><div class="line">	echo &quot;Hello, how are you?&quot;</div><div class="line">elif [ &quot;$1&quot; == &quot;&quot; ]; then</div><div class="line">	echo &quot;you must input params, ex&gt; &#123;$0 someword&#125;&quot;</div><div class="line">else </div><div class="line">	echo &quot;the only params is &apos;hello&apos;, ex&gt; &#123;$0 hello&#125;&quot;</div><div class="line">fi</div></pre></td></tr></table></figure>
<h3 id="netstat-简单使用"><a href="#netstat-简单使用" class="headerlink" title="netstat 简单使用"></a>netstat 简单使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">~# netstat -tuln</div><div class="line">Active Internet connections (only servers)</div><div class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State      </div><div class="line">tcp        0      0 127.0.0.1:8005          0.0.0.0:*               LISTEN     </div><div class="line">tcp        0      0 0.0.0.0:8009            0.0.0.0:*               LISTEN     </div><div class="line">tcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN     </div><div class="line">tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN     </div><div class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN     </div><div class="line">tcp        0      0 0.0.0.0:8081            0.0.0.0:*               LISTEN     </div><div class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     </div><div class="line">tcp6       0      0 :::3306                 :::*                    LISTEN     </div><div class="line">tcp6       0      0 :::3000                 :::*                    LISTEN     </div><div class="line">tcp6       0      0 :::88                   :::*                    LISTEN     </div><div class="line">udp        0      0 0.0.0.0:33848           0.0.0.0:*                          </div><div class="line">udp        0      0 0.0.0.0:5353            0.0.0.0:*                          </div><div class="line">udp        0      0 172.18.79.196:123       0.0.0.0:*                          </div><div class="line">udp        0      0 127.0.0.1:123           0.0.0.0:*                          </div><div class="line">udp        0      0 0.0.0.0:123             0.0.0.0:*                          </div><div class="line">udp6       0      0 :::123                  :::*</div></pre></td></tr></table></figure>
<p>上面的重点是Local Address（本地主机的IP与端口对应）那个字段，它代表的是本机所启动的网络服务。IP的部分说明的是该服务位于哪个接口上，若为127.0.0.1则是针对本机开放，若是0.0.0.0 或 ::: 则代表对整个Internet开发。每个端口都有其特定的网络服务，几个常见与相关网络服务的关系是：</p>
<ul>
<li>80:www</li>
<li>22:ssh</li>
<li>21:ftp</li>
<li>25:mail</li>
<li>111:RPC（远程过程调用）</li>
<li>631:CUPS（打印服务功能）</li>
</ul>
<h3 id="利用case…esac判断"><a href="#利用case…esac判断" class="headerlink" title="利用case…esac判断"></a>利用case…esac判断</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">case $变量名称 in </div><div class="line">    &quot;第一个变量内容&quot;) &lt;==每个变量内容建议用双引号括起来，关键字则为小括号</div><div class="line">    程序段</div><div class="line">    ;;</div><div class="line">    </div><div class="line">    &quot;第二个变量内容&quot;)</div><div class="line">    程序段</div><div class="line">    ;;</div><div class="line">    </div><div class="line">    *) &lt;==最后一个变量内容都会用*来代表所有其他值，不包含第一个变量内容与第二个变量内容的其他程序执行段</div><div class="line">    ;;</div><div class="line">esac  &lt;== case反过来写，表示结尾</div><div class="line"></div><div class="line">例如：</div><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">case $1 in </div><div class="line">	&quot;hello&quot;)</div><div class="line">		echo &quot;你好&quot;</div><div class="line">		;;</div><div class="line">	</div><div class="line">	&quot;&quot;)</div><div class="line">		echo &quot;请输入参数：ex&gt; &#123;$0 someword&#125;&quot;</div><div class="line">		;;</div><div class="line">	</div><div class="line">	*)</div><div class="line">		echo &quot;usage $0 &#123;hello&#125;&quot;</div><div class="line">		;;</div><div class="line">esac</div></pre></td></tr></table></figure>
<p>每一个变量内容的程序段最后都需要两个分号（;;）来代表该程序段落的结束，这很重要</p>
<p>使用“case $变量 in”这个语法中，当中的那个“$变量”大致有两种取得的方式：</p>
<ul>
<li>直接执行式：例如上面提到的，利用“script.sh variable”的方式来直接给予$1这个变量的内容，这也是在/etc/init.d目录下大多数程序的设计方式</li>
<li>交互式：通过read这个命令来让用户输入变量的内容</li>
</ul>
<h6 id="交互式"><a href="#交互式" class="headerlink" title="交互式"></a>交互式</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">echo &quot;this program will print your selection&quot;</div><div class="line"># 交互式</div><div class="line">read -p &quot;input your choice:&quot; choice</div><div class="line">case $choice in</div><div class="line">	&quot;one&quot;)</div><div class="line">		echo &quot;your choice is one&quot;</div><div class="line">		;;</div><div class="line">	</div><div class="line">	&quot;two&quot;)</div><div class="line">		echo &quot;your choice is two&quot;</div><div class="line">		;;</div><div class="line">		</div><div class="line">	&quot;three&quot;)</div><div class="line">	echo &quot;your choice is three&quot;</div><div class="line">	;;</div><div class="line">	</div><div class="line">	*)</div><div class="line">		echo &quot;usage $0 &#123;one|two|three&#125;&quot;</div><div class="line">		;;</div><div class="line">esac</div></pre></td></tr></table></figure>
<h6 id="直接执行式"><a href="#直接执行式" class="headerlink" title="直接执行式"></a>直接执行式</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">echo &quot;this program will print your selection&quot;</div><div class="line"></div><div class="line">case $1 in </div><div class="line">	&quot;one&quot;)</div><div class="line">		echo &quot;your choice is one&quot;</div><div class="line">		;;</div><div class="line">	</div><div class="line">	&quot;two&quot;)</div><div class="line">		echo &quot;your choice is two&quot;</div><div class="line">		;;</div><div class="line">		</div><div class="line">	&quot;three&quot;)</div><div class="line">	echo &quot;your choice is three&quot;</div><div class="line">	;;</div><div class="line">	</div><div class="line">	*)</div><div class="line">		echo &quot;usage $0 &#123;one|two|three&#125;&quot;</div><div class="line">		;;</div><div class="line">esac</div></pre></td></tr></table></figure>
<h3 id="function"><a href="#function" class="headerlink" title="function"></a>function</h3><p>语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function fname() &#123;</div><div class="line">    程序段</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>因为shell script 的执行方式是由上而下，由左而右，因此在shell script当中的function的设置一定要在程序最前面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">echo &quot;this program will print your selection&quot;</div><div class="line">function printit() &#123;</div><div class="line">	echo -n &quot;your choice is &quot;  # 加上-n可以不断行继续在同一行显示</div><div class="line">&#125;</div><div class="line"># 直接执行式</div><div class="line">case $1 in </div><div class="line">	&quot;one&quot;)</div><div class="line">		printit; echo $1 | tr &apos;a-z&apos; &apos;A-Z&apos; # 将参数大小写转换</div><div class="line">		;;</div><div class="line">	</div><div class="line">	&quot;two&quot;)</div><div class="line">		printit; echo $1 | tr &apos;a-z&apos; &apos;A-Z&apos;</div><div class="line">		;;</div><div class="line">		</div><div class="line">	&quot;three&quot;)</div><div class="line">		printit; echo $1 | tr &apos;a-z&apos; &apos;A-Z&apos;</div><div class="line">		;;</div><div class="line">	</div><div class="line">	*)</div><div class="line">		echo &quot;usage $0 &#123;one|two|three&#125;&quot;</div><div class="line">		;;</div><div class="line">esac</div></pre></td></tr></table></figure></p>
<p>function 也是拥有内置变量的，它的内置变量与shell script很类似，函数名称代表$0,而后续的变量也是以$1,$2…来替代的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">echo &quot;this program will print your selection&quot;</div><div class="line">function printit() &#123;</div><div class="line">	echo -n &quot;your choice is $1 &quot;  # 加上-n可以不断行继续在同一行显示</div><div class="line">&#125;</div><div class="line"># 直接执行式</div><div class="line">case $1 in </div><div class="line">	&quot;one&quot;)</div><div class="line">		printit 1; echo $1 | tr &apos;a-z&apos; &apos;A-Z&apos; # 将参数大小写转换</div><div class="line">		;;</div><div class="line">	</div><div class="line">	&quot;two&quot;)</div><div class="line">		printit 2; echo $1 | tr &apos;a-z&apos; &apos;A-Z&apos;</div><div class="line">		;;</div><div class="line">		</div><div class="line">	&quot;three&quot;)</div><div class="line">		printit 3; echo $1 | tr &apos;a-z&apos; &apos;A-Z&apos;</div><div class="line">		;;</div><div class="line">	</div><div class="line">	*)</div><div class="line">		echo &quot;usage $0 &#123;one|two|three&#125;&quot;</div><div class="line">		;;</div><div class="line">esac</div></pre></td></tr></table></figure></p>
<h3 id="循环（loop）"><a href="#循环（loop）" class="headerlink" title="循环（loop）"></a>循环（loop）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"># 当condition成立时开始循环</div><div class="line">while [condition]</div><div class="line">do  &lt;== do是循环的开始</div><div class="line">    程序段</div><div class="line">done  &lt;== done 是循环的结束</div><div class="line"></div><div class="line"></div><div class="line"># 当condition 成立时结束循环</div><div class="line">until [condition]</div><div class="line">do  </div><div class="line">    程序段</div><div class="line">done</div></pre></td></tr></table></figure>
<h3 id="for…do…done（固定循环）"><a href="#for…do…done（固定循环）" class="headerlink" title="for…do…done（固定循环）"></a>for…do…done（固定循环）</h3><p>语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for var in con1 con2 con3 ...</div><div class="line">do </div><div class="line">    程序段</div><div class="line">done</div></pre></td></tr></table></figure></p>
<p>以上来的语法来说，这个$var 的变量内容在循环工作时：</p>
<ol>
<li>第一次循环时，$var的内容为con1</li>
<li>第二次循环时，$var的内容为con2</li>
<li>第三次循环时，$var的内容为con3</li>
</ol>
<p>例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for animal in dog cat elepant</div><div class="line">do </div><div class="line">	echo &quot;there are $&#123;animal&#125;s...&quot;</div><div class="line">done</div></pre></td></tr></table></figure></p>
<h3 id="for…do…done数值处理"><a href="#for…do…done数值处理" class="headerlink" title="for…do…done数值处理"></a>for…do…done数值处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for(( 初始值; 限制值; 执行步长))</div><div class="line">do</div><div class="line">    程序段</div><div class="line">done</div></pre></td></tr></table></figure>
<p>这种语法适合于数值方式的运算当中，在for后面的括号内的三串内容意义为：</p>
<ol>
<li>初始值：某个变量在循环当中的初始值，直接以类似i=1设置好</li>
<li>限制值：当变量的值在这个限制值的范围内，就继续进行循环，例如i&lt;=100</li>
<li>执行步长：每做一次循环时变量的变化值，例如i=i+1</li>
</ol>
<h3 id="shell-script的追踪与调试"><a href="#shell-script的追踪与调试" class="headerlink" title="shell script的追踪与调试"></a>shell script的追踪与调试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sh [-nvx] scripts.sh</div><div class="line">参数：</div><div class="line">-n：不要执行script，仅查询语法的问题</div><div class="line">-v：在执行script前，先将script的内容输出到屏幕上</div><div class="line">-x：将使用到的script内容显示到屏幕上，这是很有用的参数</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Linux/shell script/" data-id="cjfvvphhg0019m9fyxoqbmbde" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Linux/shell 变量" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Linux/shell 变量/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Linux/shell 变量/">shell 变量</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="什么是变量"><a href="#什么是变量" class="headerlink" title="什么是变量"></a>什么是变量</h3><p>变量就是以一组文件或符号等，来替代一些设置或者是一串保留的数据</p>
<p>可以使用<code>echo</code>这个命令来显示变量，但是变量在被显示时，前面必须要加上字符<code>$</code>或者以<code>${变量}</code>的方式来显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">echo $PATH</div><div class="line">echo $&#123;PATH&#125;</div></pre></td></tr></table></figure></p>
<h3 id="变量的设置规则"><a href="#变量的设置规则" class="headerlink" title="变量的设置规则"></a>变量的设置规则</h3><p>在bash当中，当一个变量名称尚未被设置时，默认的内容是“空”的，另外变量在设置时，还是需要符合某些规定的，否则会设置失败</p>
<ol>
<li><p>变量与变量内容以一个等号“=”来连接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">myname=VBird</div></pre></td></tr></table></figure>
</li>
<li><p>等号两边不能直接接空格符，如下显示是错误的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">myname= VBird</div><div class="line">myname=VBird Tsai</div></pre></td></tr></table></figure>
</li>
<li><p>变量的名称只能是英文字母与数字，但是开头字符不能是数字，如下为错误的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2myname=VBird</div></pre></td></tr></table></figure>
</li>
<li><p>变量的内容若有空格符号可使用双引号””或者单引号’’将变量内容结合起来，但是</p>
<ul>
<li><p>双引号内的特殊字符如$等，可以保持原本的特性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var=&quot;lang is $LANG&quot;</div><div class="line">echo $var 输出为:lang is zh_CN.UTF-8</div></pre></td></tr></table></figure>
</li>
<li><p>单引号内的特殊字符则仅为一般字符（纯文本）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var=&apos;lang is $LANG&apos;</div><div class="line">echo $var 输出为:lang is $LANG</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>可用转义字符“\”将特殊符号（如[Enter],$,空格符,! 等）变为一般字符</p>
</li>
<li><p>在一串命令中，还需要通过其他的命令提供信息，可以使用反单引号“`命令`”或“$(命令)”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">test=$(echo $PATH)</div><div class="line">echo $test 输出PATH的内容</div></pre></td></tr></table></figure>
</li>
<li><p>若该变量为了增加变量内容时，则可使用“$变量名称”或“${变量}”累加内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PATH=&quot;$PATH&quot;:/home/bin</div></pre></td></tr></table></figure>
</li>
<li><p>若该变量需要在其他子进程执行，则需要以<code>export</code>来使变量变成环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export PATH</div></pre></td></tr></table></figure>
</li>
<li><p>通常大写字符为系统默认变量，自行设置变量可以使用小写字符，方便判断</p>
</li>
<li>取消变量的方法为使用“unset变量名称”<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unset myname</div></pre></td></tr></table></figure>
</li>
</ol>
<p>注意：在一串命令中，在反单引号（`）之内的命令将会被先执行，而其执行出来的结果将作为外部的输入信息</p>
<h3 id="环境变量的功能"><a href="#环境变量的功能" class="headerlink" title="环境变量的功能"></a>环境变量的功能</h3><h4 id="用env查看环境变量与常见环境变量说明"><a href="#用env查看环境变量与常见环境变量说明" class="headerlink" title="用env查看环境变量与常见环境变量说明"></a>用env查看环境变量与常见环境变量说明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">env</div><div class="line">-------------------------------</div><div class="line">TERM_PROGRAM=Apple_Terminal</div><div class="line">SHELL=/bin/bash</div><div class="line">TERM=xterm-256color</div><div class="line">CATALINA_HOME=/Users/chenliqiang/software/apache-tomcat-test</div><div class="line">TMPDIR=/var/folders/mx/gn0s9skj0jzgxdzn68wtj8_h0000gn/T/</div><div class="line">Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.ElGvcw57Yf/Render</div><div class="line">TERM_PROGRAM_VERSION=400</div><div class="line">TERM_SESSION_ID=60C62703-2490-444F-86A8-3C0827EC0DF0</div><div class="line">USER=chenliqiang</div><div class="line">SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.jD69alTKH6/Listeners</div><div class="line">MAVEN_HOME=/usr/local/Cellar/maven/3.5.2</div><div class="line">PATH=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/bin:/usr/local/Cellar/maven/3.5.2/bin:/Users/chenliqiang/software/apache-tomcat-test/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin</div><div class="line">PWD=/Users/chenliqiang</div><div class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home</div><div class="line">LANG=zh_CN.UTF-8</div><div class="line">XPC_FLAGS=0x0</div><div class="line">XPC_SERVICE_NAME=0</div><div class="line">SHLVL=1</div><div class="line">HOME=/Users/chenliqiang</div><div class="line">LOGNAME=chenliqiang</div><div class="line">CLASSPATH=.:/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/lib/tools.jar:/Users/chenliqiang/software/apache-tomcat-test/lib</div><div class="line">_=/usr/bin/env</div></pre></td></tr></table></figure>
<h4 id="查看所有变量（含环境变量和自定义变量）（set）"><a href="#查看所有变量（含环境变量和自定义变量）（set）" class="headerlink" title="查看所有变量（含环境变量和自定义变量）（set）"></a>查看所有变量（含环境变量和自定义变量）（set）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">set</div></pre></td></tr></table></figure>
<h3 id="变量键盘的读取，数组与声明（read，array，declare）"><a href="#变量键盘的读取，数组与声明（read，array，declare）" class="headerlink" title="变量键盘的读取，数组与声明（read，array，declare）"></a>变量键盘的读取，数组与声明（read，array，declare）</h3><h4 id="read"><a href="#read" class="headerlink" title="read"></a>read</h4><p>要读取来自键盘输入的变量，就需要用read命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">read [-pt] variable</div><div class="line">参数：</div><div class="line">-p：后面可以接提示符</div><div class="line">-t：后面可以接等待的“秒数”，这个比较有趣，不会一直等待用户</div><div class="line"></div><div class="line">chenliqiangdeMacBook-Pro:~ chenliqiang$ read -p &quot;Please keyin your name:&quot; -t 30 atest</div><div class="line">Please keyin your name:test</div><div class="line">chenliqiangdeMacBook-Pro:~ chenliqiang$ echo $atest</div><div class="line">test</div></pre></td></tr></table></figure></p>
<h4 id="声明变量类型（declare）"><a href="#声明变量类型（declare）" class="headerlink" title="声明变量类型（declare）"></a>声明变量类型（declare）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">declare [-aixr] variable</div><div class="line">参数：</div><div class="line">-a：将后面名为variable的变量定义成为数组类型</div><div class="line">-i：将后面名为variable的变量定义成为整数数字类型</div><div class="line">-x：用法与export一样，就是将variable变成环境变量，把-改为+可以将variable变为非环境变量</div><div class="line">-r：将变量设置为readonly类型，该变量不可被更改内容，也不能重设</div></pre></td></tr></table></figure>
<p>注意：</p>
<ul>
<li>变量类型默认为“字符串”，所以若不指定变量类型，则1+2为一个“字符串”而不是“计算式”</li>
<li>bash环境中的数值运算，默认最多仅能达到整数类型，所以1/3的结果是0</li>
</ul>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>数组的设置方式是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var[index]=content</div></pre></td></tr></table></figure></p>
<p>一般来说，建议直接以<code>${数组}</code>的方式来读取，会比较正确无误</p>
<h3 id="变量的测试与内容替换"><a href="#变量的测试与内容替换" class="headerlink" title="变量的测试与内容替换"></a>变量的测试与内容替换</h3><table>
<thead>
<tr>
<th>变量设置方式</th>
<th>str没有设置</th>
<th>str为空字符串</th>
<th>str已设置为非空字符串</th>
</tr>
</thead>
<tbody>
<tr>
<td>var=${str-expr}</td>
<td>var=expr</td>
<td>var=</td>
<td>var=$str</td>
</tr>
<tr>
<td>var=${str:-expr}</td>
<td>var=expr</td>
<td>var=expr</td>
<td>var=$str</td>
</tr>
<tr>
<td>var=${str+expr}</td>
<td>var=</td>
<td>var=expr</td>
<td>var=expr</td>
</tr>
<tr>
<td>var=${str:+expr}</td>
<td>var=</td>
<td>var=</td>
<td>var=expr</td>
</tr>
<tr>
<td>var=${str=expr}</td>
<td>str=expr<br>var=expr</td>
<td>str不变<br>var=</td>
<td>str不变<br>var=$str</td>
</tr>
<tr>
<td>var=${str:=expr}</td>
<td>str=expr<br>var=expr</td>
<td>str=expr<br>var=expr</td>
<td>str不变<br>var=$str</td>
</tr>
<tr>
<td>var=${str?expr}</td>
<td>expr输出至stderr</td>
<td>var=</td>
<td>var=str</td>
</tr>
<tr>
<td>var=${str:?expr}</td>
<td>expr输出至stderr</td>
<td>expr输出至stderr</td>
<td>var=str</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">例一：测试一下是否存在username这个变量，若不存在则给予username内容为root</div><div class="line">username=$&#123;username-root&#125;</div><div class="line">echo $username 输出：root</div><div class="line">username=&quot;vbird tsai&quot;</div><div class="line">username=$&#123;username-root&#125;</div><div class="line">echo $username 输出：vbird tsai</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Linux/shell 变量/" data-id="cjfvvphhi001am9fy3l92mqza" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Linux/别名，历史命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Linux/别名，历史命令/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Linux/别名，历史命令/">别名，历史命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="设置和取消别名（alias，unalias）"><a href="#设置和取消别名（alias，unalias）" class="headerlink" title="设置和取消别名（alias，unalias）"></a>设置和取消别名（alias，unalias）</h3><p>alias的定义规则和变量定义规则几乎相同，所以你只要在alias后面加上你的（”别名”=’命令参数…’）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alias lm=&apos;ls -l | more&apos;</div></pre></td></tr></table></figure></p>
<p>取消别名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unalias lm</div></pre></td></tr></table></figure></p>
<h3 id="历史命令"><a href="#历史命令" class="headerlink" title="历史命令"></a>历史命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">history [n]</div><div class="line">history [-c]</div><div class="line">history [-raw] histfiles</div><div class="line">参数：</div><div class="line">n：数字，是要列出最近的n条命令行</div><div class="line">-c：将目前的shell中的所有history内容全部消除</div><div class="line">-a：将目前新增的history命令新增入histfiles中，若没有加histfiles，则默认写入~/.bash_history</div><div class="line">-r：将histfiles的内容读到目前这个shell的history记忆中</div><div class="line">-w：将目前的history记忆内容写入histfiles中</div><div class="line"></div><div class="line"></div><div class="line">!number</div><div class="line">!command</div><div class="line">!!</div><div class="line">参数：</div><div class="line">number：执行第几条命令</div><div class="line">command：由最近的命令向前搜寻命令串开头为command的那个命令，并执行</div><div class="line">!!：就是执行上一条命令（相当于按↑按键后，按[Enter]）</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Linux/别名，历史命令/" data-id="cjfvvphhj001em9fy939xwsu5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Spring/Spring Boot/常用的配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Spring/Spring Boot/常用的配置/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Spring/">Spring</a>►<a class="article-category-link" href="/categories/Spring/Spring-Boot/">Spring Boot</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Spring/Spring Boot/常用的配置/">常用的配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">#Banner</div><div class="line">banner.charset=UTF-8</div><div class="line">banner.location=classpath:banner.txt</div><div class="line"></div><div class="line"></div><div class="line">#Spring Config(ConfigFileApplicationListener)</div><div class="line">spring.config.name=Spring配置文件名，默认为application</div><div class="line">spring.config.location=Spring配置文件的路径</div><div class="line"></div><div class="line">#Profiles</div><div class="line">spring.profiles.active=激活使用哪个环境的配置文件</div><div class="line">spring.profiles.include=无条件的激活指定的配置文件</div><div class="line"></div><div class="line">#logging</div><div class="line">logging.path=/var/logs</div><div class="line">logging.file=myapp.log</div><div class="line">logging.level.org.springframework=DEBUG，TRACE，INFO，WARN，ERROR，FATAL，OFF</div><div class="line"></div><div class="line">#inentity</div><div class="line">spring.application.name=</div><div class="line">spring.application.index=</div><div class="line"></div><div class="line">#embedded server configuration （ServerProperties）</div><div class="line">server.port=8080</div><div class="line">server.address= #bind to a specific NIC</div><div class="line">server.session-timeout=session过期时间（秒）</div><div class="line">server.context-path=#the context path，默认为/</div><div class="line">server.servlet-path=#the servlet path，默认为/</div><div class="line">server.display-name=应用的显示名称</div><div class="line"></div><div class="line">#Spring Mvc</div><div class="line">spring.mvc.locate=en_UK</div><div class="line">spring.mvc.date-format=yyyy-MM-dd</div><div class="line">spring.mvc.favicon.enabled=true</div><div class="line">spring.view.prefix=</div><div class="line">spring.view.suffix=</div><div class="line"></div><div class="line">#datasource</div><div class="line">spring.datasource.url</div><div class="line">spring.datasource.username</div><div class="line">spring.datasource.password</div><div class="line">spring.datasource.jndi-name</div><div class="line"></div><div class="line">#mongodb</div><div class="line">spring.data.mongodb.host=</div><div class="line">spring.data.mongodb.port=</div><div class="line">spring.data.mongodb.uri=mongodb://location/test</div><div class="line">spring.data.mongodb.database=</div><div class="line">spring.data.mongodb.authentication-database=</div><div class="line">spring.data.mongodb.grid-fs-database=</div><div class="line">spring.data.mongodb.username=</div><div class="line">spring.data.mongodb.password=</div><div class="line">spring.data.mongodb.repositories,enabled=</div><div class="line"></div><div class="line">#jpa</div><div class="line">spring.jpa.open-in-view=true</div><div class="line">spring.jpa.show-sql=true</div><div class="line">spring.jpa.database-platform=</div><div class="line">spring.jpa.database=</div><div class="line">spring.jpa.generate-ddl=false</div><div class="line">spring.jpa.hibernate.naming-strategy=</div><div class="line">spring.jpa.hibernate.ddl-auto=</div><div class="line">spring.data.jpa.repositories.enabled=true</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Spring/Spring Boot/常用的配置/" data-id="cjfvvphn300avm9fyxcu2pdi9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Linux/设置主机SSH连接不需要密码" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Linux/设置主机SSH连接不需要密码/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Linux/设置主机SSH连接不需要密码/">设置主机SSH连接不需要密码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="单一连接"><a href="#单一连接" class="headerlink" title="单一连接"></a>单一连接</h2><ol>
<li><p>在本机生成私匙和公匙</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa</div></pre></td></tr></table></figure>
</li>
<li><p>把公匙放到需要连接的服务器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">scp ~/.ssh/id_rsa.pub 连接的账户@服务器ip:.ssh/id_rsa.pub</div><div class="line"></div><div class="line">如：</div><div class="line">scp ~/.ssh/id_rsa.pub root@120.77.81.95:.ssh/id_rsa.pub</div></pre></td></tr></table></figure>
</li>
<li><p>生成authorized_keys文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">检查是否存在该文件：</div><div class="line">cat /root/.ssh/authorized_keys</div><div class="line">不存在则生成</div><div class="line">touch /root/.ssh/authorized_keys</div></pre></td></tr></table></figure>
</li>
<li><p>将id_rsa.pub的内容追加到authorized_keys 中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /root/.ssh/id_rsa.pub &gt;&gt; /root/.ssh/authorized_keys</div></pre></td></tr></table></figure>
</li>
<li><p>测试<br>回到主机,ssh连接服务器，不需要密码则成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh root@120.77.81.95</div></pre></td></tr></table></figure>
</li>
</ol>
<p>如出现Agent admitted failure to sign using the key错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-add   ~/.ssh/id_rsa</div></pre></td></tr></table></figure></p>
<h3 id="控制n个机器如上所述自动登录"><a href="#控制n个机器如上所述自动登录" class="headerlink" title="控制n个机器如上所述自动登录"></a>控制n个机器如上所述自动登录</h3><p>需要n对钥匙(密钥和公钥), ssh-keygen 命令可以随意更改钥匙对的名字, 比如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># ssh-keygen -t rsa</div><div class="line">Generating public/private rsa key pair.</div><div class="line">Enter file in which to save the key (/root/.ssh/id_rsa): /root/.ssh/id_rsa_192.168.60.110</div></pre></td></tr></table></figure></p>
<p>这样私钥和公钥的名字分别就是: id_rsa_192.168.60.110和 id_rsa_192.168.60.110.pub;然后将 id_rsa_192.168.60.110.pub 文件的内容, 追加到sever的 ~/.ssh/authorized_keys文件中,最后, 在本地用ssh命令的 -i 参数指定本地密钥, 并登录:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># ssh -i /root/.ssh/id_rsa_192.168.60.110 someone@192.168.60.110</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Linux/设置主机SSH连接不需要密码/" data-id="cjfvvphhk001hm9fywhurpe6g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Spring/Spring Session/Spring Session配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/25/Spring/Spring Session/Spring Session配置/" class="article-date">
  <time datetime="2018-02-25T02:09:45.000Z" itemprop="datePublished">2018-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Spring/">Spring</a>►<a class="article-category-link" href="/categories/Spring/Spring-Session/">Spring Session</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/25/Spring/Spring Session/Spring Session配置/">Spring Session配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="安装容器"><a href="#安装容器" class="headerlink" title="安装容器"></a>安装容器</h2><p>这里选择redis</p>
<h2 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h2><p><a href="http://docs.spring.io/spring-session/docs/current/reference/html5/" target="_blank" rel="external">http://docs.spring.io/spring-session/docs/current/reference/html5/</a></p>
<h2 id="Maven依赖"><a href="#Maven依赖" class="headerlink" title="Maven依赖"></a>Maven依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.session<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-session-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>biz.paluch.redis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lettuce<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="加入配置文件"><a href="#加入配置文件" class="headerlink" title="加入配置文件"></a>加入配置文件</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span>  </span></div><div class="line">    <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span>   </div><div class="line">    <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span>  </div><div class="line">    <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span>   </div><div class="line">    <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span>  </div><div class="line">    <span class="attr">xmlns:cache</span>=<span class="string">"http://www.springframework.org/schema/cache"</span>   </div><div class="line">    <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span>  </div><div class="line">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans   </span></div><div class="line">     http://www.springframework.org/schema/beans/spring-beans-4.0.xsd  </div><div class="line">     http://www.springframework.org/schema/aop  </div><div class="line">     http://www.springframework.org/schema/aop/spring-aop-4.0.xsd  </div><div class="line">     http://www.springframework.org/schema/context  </div><div class="line">     http://www.springframework.org/schema/context/spring-context-4.0.xsd  </div><div class="line">     http://www.springframework.org/schema/tx  </div><div class="line">     http://www.springframework.org/schema/tx/spring-tx-4.0.xsd  </div><div class="line">     http://www.springframework.org/schema/cache   </div><div class="line">     http://www.springframework.org/schema/cache/spring-cache-4.0.xsd"&gt;  </div><div class="line">  </div><div class="line">	<span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></div><div class="line">	</div><div class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration"</span>/&gt;</span></div><div class="line">	</div><div class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"lettuceConnectionFactory"</span> <span class="attr">class</span>=<span class="string">"org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory"</span> </span></div><div class="line">	    <span class="attr">p:host-name</span>=<span class="string">"127.0.0.1"</span> <span class="attr">p:port</span>=<span class="string">"6379"</span>/&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="web-xml中的配置"><a href="#web-xml中的配置" class="headerlink" title="web.xml中的配置"></a>web.xml中的配置</h2><p>加入过滤器<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Spring session --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>springSessionRepositoryFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.DelegatingFilterProxy<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>springSessionRepositoryFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>REQUEST<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>ERROR<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- Spring session --&gt;</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/02/25/Spring/Spring Session/Spring Session配置/" data-id="cjfvvphn200asm9fyk9bq00xw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/5/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Eclipse/">Eclipse</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Cookie/">Cookie</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JAXB/">JAXB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JavaMail/">JavaMail</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/分布式/">分布式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/加密解密／编码解码/">加密解密／编码解码</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/基础/">基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/数据类型/">数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/日记/">日记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/时间日期/">时间日期</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/线程/">线程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/网络NIO/">网络NIO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/队列/">队列</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/集合/">集合</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Application-Event/">Application Event</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/JPA/">JPA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Security/">Security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/">Spring Boot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Session/">Spring Session</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Task/">Task</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/spring-MVC/">spring MVC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/spring-data-redis/">spring data redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/基础/">基础</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/">前端技术相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/forever/">forever</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/javascript/">javascript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库相关/">数据库相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据库相关/mysql/">mysql</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/">服务器相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Hessian/">Hessian</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Hudson-Jenkins/">Hudson & Jenkins</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Memcached/">Memcached</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/red5/">red5</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/redis/">redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/resin/">resin</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则表达式/">正则表达式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/04/12/服务器相关/Tomcat/TOMCAT原理详解及请求过程/">TOMCAT原理详解及请求过程</a>
          </li>
        
          <li>
            <a href="/2018/04/12/网络/HTTPS工作原理/">HTTPS工作原理</a>
          </li>
        
          <li>
            <a href="/2018/04/12/网络/三次握手和四次挥手/">三次握手和四次挥手</a>
          </li>
        
          <li>
            <a href="/2018/04/12/服务器相关/Tomcat/内存分配/">内存分配</a>
          </li>
        
          <li>
            <a href="/2018/04/12/服务器相关/Tomcat/Tomcat整体架构浅析/">Tomcat整体架构浅析</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 LeoChan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>