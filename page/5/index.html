<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="描述啊">
<meta property="og:type" content="website">
<meta property="og:title" content="LeoChan&#39;s 个人博客">
<meta property="og:url" content="https://clq2owesome.github.io/page/5/index.html">
<meta property="og:site_name" content="LeoChan&#39;s 个人博客">
<meta property="og:description" content="描述啊">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeoChan&#39;s 个人博客">
<meta name="twitter:description" content="描述啊">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://clq2owesome.github.io/page/5/"/>





  <title>LeoChan's 个人博客</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LeoChan's 个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">技术都是通用的，重要的是是否具有自主解决问题的能力！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2018/02/25/Java/时间日期/Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/25/Java/时间日期/Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转/" itemprop="url">Java 8 中 Date与LocalDateTime、LocalDate、LocalTime互转</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-25T10:09:45+08:00">
                2018-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/时间日期/" itemprop="url" rel="index">
                    <span itemprop="name">时间日期</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java 8中 java.util.Date 类新增了两个方法，分别是from(Instant instant)和toInstant()方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// Obtains an instance of Date from an Instant object.</div><div class="line">public static Date from(Instant instant) &#123;</div><div class="line">    try &#123;</div><div class="line">        return new Date(instant.toEpochMilli());</div><div class="line">    &#125; catch (ArithmeticException ex) &#123;</div><div class="line">        throw new IllegalArgumentException(ex);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// Converts this Date object to an Instant.</div><div class="line">public Instant toInstant() &#123;</div><div class="line">    return Instant.ofEpochMilli(getTime());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这两个方法使我们可以方便的实现将旧的日期类转换为新的日期类，具体思路都是通过Instant当中介，然后通过Instant来创建LocalDateTime（这个类可以很容易获取LocalDate和LocalTime），新的日期类转旧的也是如此，将新的先转成LocalDateTime，然后获取Instant，接着转成Date，具体实现细节如下：</p>
<h6 id="java-util-Date-–-gt-java-time-LocalDateTime"><a href="#java-util-Date-–-gt-java-time-LocalDateTime" class="headerlink" title="java.util.Date –&gt; java.time.LocalDateTime"></a>java.util.Date –&gt; java.time.LocalDateTime</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public void dateToLocalDateTime() &#123;</div><div class="line">    java.util.Date date = new java.util.Date();</div><div class="line">    Instant instant = date.toInstant();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-util-Date-–-gt-java-time-LocalDate"><a href="#java-util-Date-–-gt-java-time-LocalDate" class="headerlink" title="java.util.Date –&gt; java.time.LocalDate"></a>java.util.Date –&gt; java.time.LocalDate</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public void dateToLocalDate() &#123;</div><div class="line">    java.util.Date date = new java.util.Date();</div><div class="line">    Instant instant = date.toInstant();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);</div><div class="line">    LocalDate localDate = localDateTime.toLocalDate();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-util-Date-–-gt-java-time-LocalTime"><a href="#java-util-Date-–-gt-java-time-LocalTime" class="headerlink" title="java.util.Date –&gt; java.time.LocalTime"></a>java.util.Date –&gt; java.time.LocalTime</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public void dateToLocalTime() &#123;</div><div class="line">    java.util.Date date = new java.util.Date();</div><div class="line">    Instant instant = date.toInstant();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);</div><div class="line">    LocalTime localTime = localDateTime.toLocalTime();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-time-LocalDateTime-–-gt-java-util-Date"><a href="#java-time-LocalDateTime-–-gt-java-util-Date" class="headerlink" title="java.time.LocalDateTime –&gt; java.util.Date"></a>java.time.LocalDateTime –&gt; java.util.Date</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public void localDateTimeToDate() &#123;</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.now();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    Instant instant = localDateTime.atZone(zone).toInstant();</div><div class="line">    java.util.Date date = Date.from(instant);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-time-LocalDate-–-gt-java-util-Date"><a href="#java-time-LocalDate-–-gt-java-util-Date" class="headerlink" title="java.time.LocalDate –&gt; java.util.Date"></a>java.time.LocalDate –&gt; java.util.Date</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public void localDateToDate() &#123;</div><div class="line">    LocalDate localDate = LocalDate.now();</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    Instant instant = localDate.atStartOfDay().atZone(zone).toInstant();</div><div class="line">    java.util.Date date = Date.from(instant);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="java-time-LocalTime-–-gt-java-util-Date"><a href="#java-time-LocalTime-–-gt-java-util-Date" class="headerlink" title="java.time.LocalTime –&gt; java.util.Date"></a>java.time.LocalTime –&gt; java.util.Date</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public void localTimeToDate() &#123;</div><div class="line">    LocalTime localTime = LocalTime.now();</div><div class="line">    LocalDate localDate = LocalDate.now();</div><div class="line">    LocalDateTime localDateTime = LocalDateTime.of(localDate, localTime);</div><div class="line">    ZoneId zone = ZoneId.systemDefault();</div><div class="line">    Instant instant = localDateTime.atZone(zone).toInstant();</div><div class="line">    java.util.Date date = Date.from(instant);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2018/02/25/Linux/文件和目录管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/25/Linux/文件和目录管理/" itemprop="url">文件和目录管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-25T10:09:45+08:00">
                2018-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="显示目前所在的目录（pwd）"><a href="#显示目前所在的目录（pwd）" class="headerlink" title="显示目前所在的目录（pwd）"></a>显示目前所在的目录（pwd）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pwd [-P]</div><div class="line">参数：</div><div class="line">-P：显示出当前的路径，而非使用连接路径</div></pre></td></tr></table></figure>
<h3 id="新建目录（mkdir）"><a href="#新建目录（mkdir）" class="headerlink" title="新建目录（mkdir）"></a>新建目录（mkdir）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkdir [-mp] 目录名称</div><div class="line">参数：</div><div class="line">-m：配置目录的权限，直接设置，不需要看默认权限（umask）</div><div class="line">-p：帮助你直接将所需的目录（包含上层目录）递归创建起来</div></pre></td></tr></table></figure>
<h3 id="删除空的目录（rmdir）"><a href="#删除空的目录（rmdir）" class="headerlink" title="删除空的目录（rmdir）"></a>删除空的目录（rmdir）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">rmdir [-p] 目录名称</div><div class="line">参数：</div><div class="line">-p：连同上层“空的”目录也一起删除</div></pre></td></tr></table></figure>
<h3 id="查看文件与目录（ls）"><a href="#查看文件与目录（ls）" class="headerlink" title="查看文件与目录（ls）"></a>查看文件与目录（ls）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ls [-aAdfFhilnrRSt] 目录名称</div><div class="line">参数：</div><div class="line">-a：全部的文件，连同隐藏文件（开头为.的文件）一起列出来（常用）</div><div class="line">-d：仅列出目录本身，而不是列出目录内的文件数据（常用）</div><div class="line">-l：列出长数据串，包含文件的属性与权限等数据（常用）</div></pre></td></tr></table></figure>
<h3 id="复制文件或目录（cp）"><a href="#复制文件或目录（cp）" class="headerlink" title="复制文件或目录（cp）"></a>复制文件或目录（cp）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">cp [-adfilprsu] 源文件（source） 目标文件（destination）</div><div class="line">cp [options] source1 source2 source3 ... directory</div><div class="line">参数：</div><div class="line">-a：相当于-pdr的意思（常用）</div><div class="line">-i：若目标文件已经存在时，在覆盖时会先询问操作的进行（常用）</div><div class="line">-r：递归持续复制，用于目录的复制行为（常用）</div><div class="line">-d：若源文件为连接文件的属性，则复制连接文件属性而非文件本身</div><div class="line">-p：连同文件的属性一起复制过期，而非使用默认属性（备份常用）</div></pre></td></tr></table></figure>
<p>在默认的条件中，cp的源文件与目的文件的权限是不同的，目的文件的所有者通常会是命令操作者本身</p>
<p>由于具有这个特性，因为当我们在进行备份的时候，某些需要特别注意的特殊权限文件，例如密码文件（/etc/shadow）以及一些配置文件，就不能直接以cp来复制，而必须要加上-a或者是-p等可以完整复制文件权限的参数才行。另外，如果你想要复制文件给其他的用户，也必须要注意到文件的权限（包含读，写，执行以及文件所有者等），否则，其他人还是无法针对你给予的文件进行修订的操作</p>
<h3 id="移除文件或目录（rm）"><a href="#移除文件或目录（rm）" class="headerlink" title="移除文件或目录（rm）"></a>移除文件或目录（rm）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">rm [-fir] 文件或目录</div><div class="line">参数：</div><div class="line">-f：就是force意思，忽略不存在的文件，不会出现警告信息</div><div class="line">-i：互动模式，在删除前会询问用户是否操作</div><div class="line">-r：递归删除，最常用在目录的删除了，这是个非常危险的参数！！！！</div></pre></td></tr></table></figure>
<h3 id="移动文件与目录，或更名（mv）"><a href="#移动文件与目录，或更名（mv）" class="headerlink" title="移动文件与目录，或更名（mv）"></a>移动文件与目录，或更名（mv）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mv [-fiu] source destination</div><div class="line">mv [options] source1 source2 source3 ... directory</div><div class="line">参数：</div><div class="line">-f：就是force强制的意思，如果目标文件以及存在，不会询问直接覆盖</div><div class="line">-i：若目标文件已经存在时，就会询问是否覆盖</div><div class="line">-u：若目标文件已经存在，且source比较新，才会更新</div></pre></td></tr></table></figure>
<h3 id="取得路径的文件名与目录名称（basename，dirname）"><a href="#取得路径的文件名与目录名称（basename，dirname）" class="headerlink" title="取得路径的文件名与目录名称（basename，dirname）"></a>取得路径的文件名与目录名称（basename，dirname）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">basename /etc/sysconfig/network</div><div class="line">network #取得最后的文件名</div><div class="line"></div><div class="line">dirname /etc/sysconfig/network</div><div class="line">/etc/sysconfig #取得目录名</div></pre></td></tr></table></figure>
<h3 id="文件内容查阅"><a href="#文件内容查阅" class="headerlink" title="文件内容查阅"></a>文件内容查阅</h3><ul>
<li>cat：由第一行开始显示文件内容</li>
<li>tac：从最后一行开始显示，可以看出tac是cat的倒写形式</li>
<li>nl：显示的时候，顺便输出行号</li>
<li>more：一页一页地显示文件内容</li>
<li>less：与more类似，但是比more更好的是，它可以往前翻页</li>
<li>head：只看头几行</li>
<li>tail：只看结尾几行</li>
<li>od：以二进制的方式读取文件内容</li>
</ul>
<h5 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cat [-AbEnTv]</div><div class="line">参数：</div><div class="line">-n：打印出行号，连同空白行也会有行号</div></pre></td></tr></table></figure>
<h5 id="nl"><a href="#nl" class="headerlink" title="nl"></a>nl</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">nl [-bnw] 文件</div><div class="line">参数：</div><div class="line">-b：指定行号指定的方式，主要有两种：</div><div class="line">    -b a：表示不论是否为空行，也同样列出行号（类似 cat -n）</div><div class="line">    -b t：如果有空行，空的那一行不要列出行号（默认值）</div><div class="line">-n：列出行号的表示方法，主要有三种：</div><div class="line">    -n ln：行号在屏幕的最左方显示</div><div class="line">    -n rn：行号在自己字段的最右方显示，且不加0</div><div class="line">    -n rz：行号在自己字段的最右方显示，且加0</div><div class="line">-w：行号字段占用的位数</div></pre></td></tr></table></figure>
<h5 id="more"><a href="#more" class="headerlink" title="more"></a>more</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">空格键：向下翻一页</div><div class="line">Enter：向下滚一行</div><div class="line">/字符串</div><div class="line">:f：立刻显示出文件名以及目前显示的行数</div><div class="line">q：立刻离开more，不再显示该文件内容</div><div class="line">b：往回翻页，不过这操作只对文件有用，对管道无用</div></pre></td></tr></table></figure>
<h5 id="less"><a href="#less" class="headerlink" title="less"></a>less</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">空格键：向下翻一页</div><div class="line">[PageDown]：向下翻动一页</div><div class="line">[PageUp]：向上翻动一页</div><div class="line">/字符串：向下查询“字符串”的功能</div><div class="line">?字符串：向上查询“字符串”的功能</div><div class="line">n：重复前一个查询（与/或?有关）</div><div class="line">N：反向重复前一个查询（与/或?有关）</div><div class="line">q：离开</div></pre></td></tr></table></figure>
<h5 id="head"><a href="#head" class="headerlink" title="head"></a>head</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">head [-n number] 文件</div><div class="line">参数：</div><div class="line">-n：后面接数字，代表显示几行的意思（默认显示10行）</div></pre></td></tr></table></figure>
<h5 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">tail [-n number] 文件</div><div class="line">参数：</div><div class="line">-n：后面接数字，代表显示几行的意思</div><div class="line">-f：表示持续输出文件内容，要等到按下[ctrl]+c才会结束tail的输出</div></pre></td></tr></table></figure>
<h3 id="修改文件时间或创建新文件（touch）"><a href="#修改文件时间或创建新文件（touch）" class="headerlink" title="修改文件时间或创建新文件（touch）"></a>修改文件时间或创建新文件（touch）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">touch [-acdmt] 文件</div><div class="line">参数：</div><div class="line">-a：仅修改访问时间</div><div class="line">-c：仅修改文件的时间，若该文件不存在则不创建新文件</div><div class="line">-d：后面可以接欲修改的日期而不用目前的日期，也可以使用 --date=&quot;日期或时间&quot;</div><div class="line">-m：仅修改mtime</div><div class="line">-t：后面可以接欲修改的时间而不用目前的时间，格式为[YYMMDDhhmm]</div></pre></td></tr></table></figure>
<h3 id="文件默认权限（umask）"><a href="#文件默认权限（umask）" class="headerlink" title="文件默认权限（umask）"></a>文件默认权限（umask）</h3><p>umask就是指定“<strong>目前用户在新建文件或目录时候的权限默认值</strong>”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">umask</div><div class="line">0022</div><div class="line"></div><div class="line">umask -S</div><div class="line">u=rwx,g=rx,o=rx</div></pre></td></tr></table></figure></p>
<p>查看的方式有两种，一种可以直接输入umask，就可以看到数字形态的权限设置分数，一种则是加入-S这个参数，就会以符号类型的方式来显示出权限</p>
<p>在默认权限的属性上，目录与文件是不一样的，默认的情况如下：</p>
<ul>
<li>若用户创建“文件”则默认没有可执行（x）权限，即只有r，w这两个选项，也就是最大为666，默认权限为：<code>-rw-rw-rw-</code></li>
<li>若用户新建“目录”，则由于x与是否可以进入此目录有关，因此默认所有权限均开放，即为777，默认权限为：<code>drwxrwxrwx</code></li>
</ul>
<p>要注意的是，umask的分数是指“<strong>该默认值需要减掉的权限</strong>”。因为r，w，x分别是4，2，1，也就是说当要拿掉能写的权限，就是输入2，而如果要拿掉能读的权限，也就是4，那么要拿掉读与写的权限，也就是6，而要拿掉执行与写入的权限，也就是3，要拿掉读与执行的权限，也就是5</p>
<p>所以在设置了umask的时候，默认新建文件和目录的权限为：</p>
<ul>
<li>新建文件时：（-rw-rw-rw-）-（—–w–w-）==&gt;-rw-r–r–(644)</li>
<li>新建目录时：（drwxrwxrwx）-（d—-w–w-）==&gt;drwxr-xr-x(755)</li>
</ul>
<h3 id="命令与文件的查询"><a href="#命令与文件的查询" class="headerlink" title="命令与文件的查询"></a>命令与文件的查询</h3><h4 id="脚本文件名的查询（which）"><a href="#脚本文件名的查询（which）" class="headerlink" title="脚本文件名的查询（which）"></a>脚本文件名的查询（which）</h4><p>which是根据用户所设置的PATH变量内的目录去查找可执行文件的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">which [-a] command</div><div class="line">参数：</div><div class="line">-a：将所有有PATH目录中可以找到的命令均列出，而不只第一个被找到的命令名称</div></pre></td></tr></table></figure></p>
<h4 id="文件名的查询（whereis，locate）"><a href="#文件名的查询（whereis，locate）" class="headerlink" title="文件名的查询（whereis，locate）"></a>文件名的查询（whereis，locate）</h4><p>whereis与locate是利用数据库来查找数据，所以速度相当快速，而且并没有实际查询硬盘，比较节省时间<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">whereis [-bmsu] 文件或目录名</div><div class="line">参数：</div><div class="line">-b：只找二进制格式的文件</div><div class="line">-m：只找在说明文件mamual路径下的文件</div><div class="line">-s：只找source源文件</div><div class="line">-u：查找不在上述三个选项当中的其他特殊文件</div></pre></td></tr></table></figure></p>
<p>locate的使用更简单，直接在后面输入“文件的部分名称”后就能够得到结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">locate [-ir] keyword</div><div class="line">参数：</div><div class="line">-i：忽略大小写的差异</div><div class="line">-r：后面可接正则表达式的显示方式</div></pre></td></tr></table></figure></p>
<p>locate是依据/var/lib/mlocate内的数据库记载，查出用户输入的关键字文件名</p>
<p>可以输入<code>updatedb</code>来手动更新数据库，updatedb命令回去读取<code>/etc/updatedb.conf</code>这个配置文件的设置，然后再去硬盘里面进行查找文件名的操作，最后就更新整个数据库文件（/var/lib/mlocate）</p>
<h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">find [PATH] [option] [action]</div><div class="line">参数：</div><div class="line">1.与时间有关的参数：共有-atime，-ctime，-mtime，下面以-mtime说明</div><div class="line">-mtime n：n为数字，意义为在n天之前的“一天之内”被更改过的文件</div><div class="line">-mtime +n：列出在n天之前（不含n天本身）被更改过的文件名</div><div class="line">-mtime -n：列出n天之内（含n本身）被更改过的文件名</div><div class="line">-newer file：file为一个存在的文件，列出比file还要新的文件名</div><div class="line"></div><div class="line">2.用户或用户组名有关的参数：</div><div class="line">-uid n：n为数字，这个数字是用户的账号ID，即UID，这个UID是记录在/etc/passwd里面与账号名称对应的数字</div><div class="line">-gid n：n为数字，这个数字是用户组名的ID，即GID，这个GID记录在/etc/group中</div><div class="line">-user name：name为用户账号名称</div><div class="line">-group name：name为用户组名称</div><div class="line">-nouser：寻找文件的所有者不在/etc/passwd的人</div><div class="line">-nogroup：选找文件的所有用户组不存在于/etc/group中的文件</div><div class="line">当你自行安装软件时，很可能该软件的属性当中并没有文件所有者，这是可能的，在这个时候，就可以使用-nouser和-nogroup查找</div><div class="line"></div><div class="line">3.与文件权限及名称有关的参数：</div><div class="line">-name filename：查找文件名为filename的文件</div><div class="line">-size [+-]SIZE:查找比SIZE还要大（+）或小（-）的文件，这个SIZE的规格有：</div><div class="line">    c：代表byte k：代表1024bytes 。所以，要找比50KB还要大的文件，就是“-size +50k”</div><div class="line">-type TYPE：查找文件的类型为TYPE的，类型主要有：一般正规文件（f），设备文件（b，c），目录（d），连接文件（l），socket（s）及FIFO（p）等属性</div><div class="line">-perm mode：查找文件权限“刚好等于”mode的文件，这个mode类似chmod的属性值，举例来说，-rwsr-xr-x的属性为4755</div><div class="line">-perm -mode：查找文件权限“必须要全部包括mode的权限”的文件，举例来说，我们要查找-rwxr--r--，即0744的文件，使用-perm -0744，当一个文件的权限为-rwsr-xr-x，即4755时，也会被列出，因为-rwsr-xr-x的属性已经包括了-rwxr--r--的属性了</div><div class="line">-perm +mode：查找文件权限“包含任一mode的权限”的文件，举例来说，我们查找-rwxr-xr-x，即-perm +755时，但一个文件属性为-rw-------也会被列出来，因为它有-rw...的属性存在</div><div class="line"></div><div class="line">4.其他可进行的操作：</div><div class="line">-exec command：command为其他命令，-exec后面可再接其他的命令来处理查找到的结果</div><div class="line">-print：将结果打印到屏幕上，这个操作是默认操作</div><div class="line"></div><div class="line">例子：find / -perm +7000 -exec ls -l &#123;&#125; \;</div><div class="line">&#123;&#125;代表的是“由find找到的内容”，find的结果会被放置在&#123;&#125;位置中</div><div class="line">-exec 一直到“\;”是关键字，代表find额外命令的开始（-exec）到结束（\;）,在这个中间的就是find命令内的额外命令，在本例中就是“ls -l &#123;&#125;”</div><div class="line">因为“;”在bash环境下是有特殊意义的，因此利用反斜杠来转义</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2018/02/25/Linux/权限相关/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/25/Linux/权限相关/" itemprop="url">权限相关</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-25T10:09:45+08:00">
                2018-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="列出所有的文件详细的权限与属性"><a href="#列出所有的文件详细的权限与属性" class="headerlink" title="列出所有的文件详细的权限与属性"></a>列出所有的文件详细的权限与属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ls -al</div><div class="line">drwxr-xr-x+  42 chenliqiang  staff   1344 12  2 14:20 .</div><div class="line">drwxr-xr-x    6 root         admin    192 11 15 11:23 ..</div><div class="line">-r--------    1 chenliqiang  staff      9 11 15 15:44 .CFUserTextEncoding</div><div class="line">-rw-r--r--@   1 chenliqiang  staff  18436 12  2 15:05 .DS_Store</div><div class="line">drwxr-xr-x   11 chenliqiang  staff    352  4 24  2017 .MarkEditorData</div><div class="line">drwx------    2 chenliqiang  staff     64 12  2 15:08 .Trash</div><div class="line">-rw-------    1 chenliqiang  staff  18925 12  2 14:31 .bash_history</div><div class="line">-rw-r--r--@   1 chenliqiang  staff    354 11 30 17:27 .bash_profile</div><div class="line">drwx------  459 chenliqiang  staff  14688 12  2 14:31 .bash_sessions</div><div class="line">drwx------    6 chenliqiang  staff    192 11 28 17:46 .config</div><div class="line">[权限]      [连接]   [所有者] [用户组] [容量：B] [修改时间]   [文件名]</div></pre></td></tr></table></figure>
<h4 id="第一列代表这个文件的类型与权限"><a href="#第一列代表这个文件的类型与权限" class="headerlink" title="第一列代表这个文件的类型与权限"></a>第一列代表这个文件的类型与权限</h4><h5 id="第一个字符代表这个文件是“目录，文件或链接文件等”"><a href="#第一个字符代表这个文件是“目录，文件或链接文件等”" class="headerlink" title="第一个字符代表这个文件是“目录，文件或链接文件等”"></a>第一个字符代表这个文件是“目录，文件或链接文件等”</h5><ul>
<li>d：目录</li>
<li>-：文件</li>
<li>l：连接文件</li>
<li>b：设备文件里面的可供存储的接口设备</li>
<li>c：设备文件里面的串行端口设备</li>
</ul>
<h5 id="接下来的字符中，以3个为一组，且均为“rwx”的3个参数的组合。其中-r-代表可读（read），-w-代表可写（write），-x-代表可执行（execute）"><a href="#接下来的字符中，以3个为一组，且均为“rwx”的3个参数的组合。其中-r-代表可读（read），-w-代表可写（write），-x-代表可执行（execute）" class="headerlink" title="接下来的字符中，以3个为一组，且均为“rwx”的3个参数的组合。其中[r]代表可读（read）， [w]代表可写（write），[x]代表可执行（execute）"></a>接下来的字符中，以3个为一组，且均为“rwx”的3个参数的组合。其中[r]代表可读（read）， [w]代表可写（write），[x]代表可执行（execute）</h5><p>注意：这3个权限的位置不会改变，如果没有权限，就会出现减号[-]而已</p>
<ul>
<li>第一组为“文件所有者的权限”</li>
<li>第二组为“同用户组的权限”</li>
<li>第三组为“其他非本用户组的权限”</li>
</ul>
<h3 id="查看文件或者目录的权限"><a href="#查看文件或者目录的权限" class="headerlink" title="查看文件或者目录的权限"></a>查看文件或者目录的权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">ls -l webapps</div><div class="line">total 0</div><div class="line">drwxr-xr-x  17 chenliqiang  staff   544  9 29 20:27 ROOT</div><div class="line">drwxr-xr-x  54 chenliqiang  staff  1728  9 29 20:27 docs</div><div class="line">drwxr-xr-x   8 chenliqiang  staff   256  9 29 20:27 examples</div><div class="line">drwxr-xr-x   7 chenliqiang  staff   224  9 29 20:27 host-manager</div><div class="line">drwxr-xr-x   8 chenliqiang  staff   256  9 29 20:27 manager</div><div class="line"></div><div class="line">//包括隐藏文件</div><div class="line">ls -al webapps</div><div class="line">total 16</div><div class="line">drwxr-xr-x   8 chenliqiang  staff   256 12  1 15:35 .</div><div class="line">drwxrwxr-x  14 chenliqiang  staff   448 11 30 15:52 ..</div><div class="line">-rw-r--r--@  1 chenliqiang  staff  6148 12  2 15:49 .DS_Store</div><div class="line">drwxr-xr-x  17 chenliqiang  staff   544  9 29 20:27 ROOT</div><div class="line">drwxr-xr-x  54 chenliqiang  staff  1728  9 29 20:27 docs</div><div class="line">drwxr-xr-x   8 chenliqiang  staff   256  9 29 20:27 examples</div><div class="line">drwxr-xr-x   7 chenliqiang  staff   224  9 29 20:27 host-manager</div><div class="line">drwxr-xr-x   8 chenliqiang  staff   256  9 29 20:27 manager</div></pre></td></tr></table></figure>
<h3 id="改变文件属性与权限"><a href="#改变文件属性与权限" class="headerlink" title="改变文件属性与权限"></a>改变文件属性与权限</h3><ul>
<li><code>chgrp</code>：改变文件所属用户组</li>
<li><code>chown</code>：改变文件所属者</li>
<li><code>chmod</code>：改变文件的权限</li>
</ul>
<h4 id="改变所属用户组：chgrp"><a href="#改变所属用户组：chgrp" class="headerlink" title="改变所属用户组：chgrp"></a>改变所属用户组：chgrp</h4><p>注意：要被改变的组名必须要在<code>/etc/group</code>文件内存在才行，否则就会显示错误</p>
<p>用法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">chgrp [-R] 用户组名 目录名/文件名</div><div class="line">选项与参数：</div><div class="line">—R:进行递归（recursive）的持续更改，也即连同子目录下的所有文件，目录</div></pre></td></tr></table></figure></p>
<h4 id="改变文件所有者：chown"><a href="#改变文件所有者：chown" class="headerlink" title="改变文件所有者：chown"></a>改变文件所有者：chown</h4><p>注意：用户必须已经存在与系统中的账号，也就是在<code>/etc/passwd</code>这个文件中有记录的用户名称才能改变</p>
<p>chown还可以直接修改用户组的名称</p>
<p>用法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">chown [-R] 用户名 目录名/文件名</div><div class="line">chown [-R] 用户名:组名 目录名/文件名</div><div class="line">chown [-R] 用户名.组名 目录名/文件名(不建议这样的写法，因为账号中可能会有小数点，如：vbird.tsai)</div><div class="line">选项与参数：</div><div class="line">—R:进行递归（recursive）的持续更改，也即连同子目录下的所有文件，目录</div></pre></td></tr></table></figure></p>
<h4 id="改变权限：chmod"><a href="#改变权限：chmod" class="headerlink" title="改变权限：chmod"></a>改变权限：chmod</h4><p>权限的设置方法有两种，可以使用数字或者是符号来进行权限的更改</p>
<h6 id="1-数字类型改变文件权限"><a href="#1-数字类型改变文件权限" class="headerlink" title="1.数字类型改变文件权限"></a>1.数字类型改变文件权限</h6><p>Linux文件的基本权限就有9个，分别是owner，group，others三种身份各有自己的read，write，execute权限</p>
<p>我们可以使用数字来代表各个权限，各权限的分数对照表如下：</p>
<ul>
<li>r：4</li>
<li>w：2</li>
<li>x：1</li>
</ul>
<p>每种身份（owner，group，others）各自三个权限（r，w，x）分数是需要累加的，例如当权限为[-rwxrwx—],分数则是：</p>
<ul>
<li>owner=rwx=4+2+1=7</li>
<li>group=rwx=4+2+1=7</li>
<li>others=—=0+0+0=0</li>
</ul>
<p>用法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">chmod [-R] rwx 目录名/文件名</div><div class="line">选项与参数：</div><div class="line">—R:进行递归（recursive）的持续更改，也即连同子目录下的所有文件，目录</div></pre></td></tr></table></figure></p>
<h6 id="2-符号类型改变文件权限"><a href="#2-符号类型改变文件权限" class="headerlink" title="2.符号类型改变文件权限"></a>2.符号类型改变文件权限</h6><p>user，group，others3种身份可以通过u，g，o来代表，此外，a代表all，也即全部的身份</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>身份简写</th>
<th>权限操作</th>
<th>权限</th>
<th>参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>chmod</td>
<td><code>u:用户身份</code><br> <code>g:组身份</code><br> <code>o:其他身份</code><br> <code>a:所有身份</code><br></td>
<td>+（加入）<br> -（除去）<br>=（设置）</td>
<td>r <br>w <br>x</td>
<td>文件或者目录</td>
</tr>
</tbody>
</table>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">1.设置一个文件的权限为“-rwxr-xr-x”</div><div class="line">chmod u=rwx,go=rx .bashrc  注意：那个u=rwx,go=rx是连在一起的，中间没有任何空格</div><div class="line"></div><div class="line">2.如果只想要增加.bashrc这个文件的每个人均可写入的权限，那么可以使用</div><div class="line">chmod a+w .bashrc</div><div class="line"></div><div class="line">3.去掉全部人的可执行权限</div><div class="line">chmod a-x .bashrc</div></pre></td></tr></table></figure></p>
<p>在+与-的状态下，只要是没有指定到的选项，则该权限“不会被变动”，例如上面的例子中，由于仅以-去掉x，则其他两个权限保持当时的值不变</p>
<p>如果让一个程序可以拥有执行的权限，但你又不知道该文件原本的权限，此时利用<code>chmod a+x filename</code>就可以让该程序拥有执行的权限了</p>
<h3 id="目录与文件的权限意义"><a href="#目录与文件的权限意义" class="headerlink" title="目录与文件的权限意义"></a>目录与文件的权限意义</h3><h4 id="权限对文件的重要性"><a href="#权限对文件的重要性" class="headerlink" title="权限对文件的重要性"></a>权限对文件的重要性</h4><ul>
<li>r：可读取此文件的实际内容，如读取文本文件的文字内容等</li>
<li>w：可以编辑，新增，或者是修改该文件的内容（但不含删除该文件）</li>
<li>x：该文件具有可以被系统执行的权限</li>
</ul>
<p>对于文件的r，w，x来说，主要都是针对“文件的内容”而言，与文件名的存在与否没有关系的，因为文件记录的是实际的数据</p>
<h4 id="权限对目录的重要性"><a href="#权限对目录的重要性" class="headerlink" title="权限对目录的重要性"></a>权限对目录的重要性</h4><p>文件是存放实际数据的所在，目录主要的内容是记录文件名列表，文件名与目录有强烈的关联</p>
<ul>
<li>r：表示具有读取目录结构列表的权限，所以当你具有读取一个目录的权限时，表示你可以查询该目录下的文件名数据</li>
<li>w：表示你具有更改该目录结构列表的权限，也就是下面这些权限<ul>
<li>新建心的文件与目录</li>
<li>删除已经存在的文件与目录</li>
<li>将已存在的文件或者目录进行重命名</li>
<li>转移该目录内的文件，目录位置</li>
</ul>
</li>
<li>x：<strong>目录的x代表的是用户能否进入该目录成为工作目录</strong>的用途。所谓的工作目录（work directory）就是你目前所在的目录。工作目录对于命令的执行是非常重要的，如果你在某目录下不具有x的权限，那么你就无法切换到该目录下，也就无法执行该目录下的任何命令，即使你具有该目录的r权限</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2018/02/25/Java/时间日期/Calendar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/25/Java/时间日期/Calendar/" itemprop="url">Calendar</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-25T10:09:45+08:00">
                2018-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/时间日期/" itemprop="url" rel="index">
                    <span itemprop="name">时间日期</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p> 创建Calendar</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Calendar calendar = Calendar.getInstance()</div><div class="line"></div><div class="line">Calendar calendar = Calendar.getInstance(Locale aLocale)</div><div class="line"></div><div class="line">Calendar calendar = Calendar.getInstance(TimeZone zone)</div><div class="line"></div><div class="line">Calendar calendar = Calendar.getInstance(TimeZone zone,Locale aLocale)</div></pre></td></tr></table></figure>
<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><table>
<thead>
<tr>
<th>常量</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATE</td>
<td>日期</td>
</tr>
<tr>
<td>DAY_OF_MONTH</td>
<td>同DATE</td>
</tr>
<tr>
<td>DAY_OF_WEEK</td>
<td>当第几天，用数字（1～7）表示（星期日～星期六）</td>
</tr>
<tr>
<td>DAY_OF_WEEK_IN_MONTH</td>
<td>当月中第几周（按这个月1号算，1号起就是第1周，8号起就是第2周，以此类推。以月份天数为标准 ）</td>
</tr>
<tr>
<td>HOUR</td>
<td>当天小时（12小时制）</td>
</tr>
<tr>
<td>HOUR_OF_DAY</td>
<td>当天小时（24小时制）</td>
</tr>
<tr>
<td>MINUTE</td>
<td>分钟</td>
</tr>
<tr>
<td>MILLISECOND</td>
<td>毫秒</td>
</tr>
<tr>
<td>MONTH</td>
<td>月份（从0开始）</td>
</tr>
<tr>
<td>SECOND</td>
<td>秒</td>
</tr>
<tr>
<td>WEEK_OF_MONTH</td>
<td>当月中第几周（日历式的第几周，按日历的为准）</td>
</tr>
<tr>
<td>WEEK_OF_YEAR</td>
<td>当年第几周</td>
</tr>
<tr>
<td>YEAR</td>
<td>年份</td>
</tr>
</tbody>
</table>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss S&quot;);</div><div class="line">Calendar calendar = Calendar.getInstance();</div><div class="line">System.out.println(sf.format(calendar.getTime()));</div><div class="line">System.out.println(&quot;日期：&quot;+calendar.get(Calendar.DATE));</div><div class="line">System.out.println(&quot;当月第几天：&quot;+calendar.get(Calendar.DAY_OF_MONTH));</div><div class="line">System.out.println(&quot;当周第几天:&quot;+calendar.get(Calendar.DAY_OF_WEEK));</div><div class="line">System.out.println(&quot;当月第几周：&quot;+calendar.get(Calendar.DAY_OF_WEEK_IN_MONTH));</div><div class="line">System.out.println(&quot;当天小时（12小时制）：&quot;+calendar.get(Calendar.HOUR));</div><div class="line">System.out.println(&quot;当天小时（24小时制）：&quot;+calendar.get(Calendar.HOUR_OF_DAY));</div><div class="line">System.out.println(&quot;分钟：&quot;+calendar.get(Calendar.MINUTE));</div><div class="line">System.out.println(&quot;毫秒：&quot;+calendar.get(Calendar.MILLISECOND));</div><div class="line">System.out.println(&quot;月份：&quot;+calendar.get(Calendar.MONTH));</div><div class="line">System.out.println(&quot;秒：&quot;+calendar.get(Calendar.SECOND));</div><div class="line">System.out.println(&quot;当月第几周：&quot;+calendar.get(Calendar.WEEK_OF_MONTH));</div><div class="line">System.out.println(&quot;当年第几周：&quot;+calendar.get(Calendar.WEEK_OF_YEAR));</div><div class="line">System.out.println(&quot;年份：&quot;+calendar.get(Calendar.YEAR));</div></pre></td></tr></table></figure></p>
<p>结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">2017-11-05 16:05:56 702</div><div class="line">日期：5</div><div class="line">当月第几天：5</div><div class="line">当周第几天:1</div><div class="line">当月第几周：1</div><div class="line">当天小时（12小时制）：4</div><div class="line">当天小时（24小时制）：16</div><div class="line">分钟：5</div><div class="line">毫秒：702</div><div class="line">月份：10</div><div class="line">秒：56</div><div class="line">当月第几周：2</div><div class="line">当年第几周：45</div><div class="line">年份：2017</div></pre></td></tr></table></figure></p>
<h3 id="获取Date"><a href="#获取Date" class="headerlink" title="获取Date"></a>获取Date</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">calendar.getTime()</div></pre></td></tr></table></figure>
<h3 id="获取毫秒数"><a href="#获取毫秒数" class="headerlink" title="获取毫秒数"></a>获取毫秒数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">long getTimeInMillis()</div></pre></td></tr></table></figure>
<h3 id="Date转Calendar"><a href="#Date转Calendar" class="headerlink" title="Date转Calendar"></a>Date转Calendar</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Date date = new Date(System.currentTimeMillis());</div><div class="line">1. calendar.setTime(date);</div><div class="line">2. calendar.setTimeInMillis(date.getTime());</div></pre></td></tr></table></figure>
<h3 id="lenient"><a href="#lenient" class="headerlink" title="lenient"></a>lenient</h3><p>检查日期/时间是否有效，默认为true，不检查,Calendar自动适应<br>如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">calendar.set(2017, 10, 32, 0, 0, 0);  </div><div class="line"></div><div class="line">输出：2017-12-02 00:00:00 0</div><div class="line">//-------------------------------</div><div class="line"></div><div class="line">calendar.setLenient(false); </div><div class="line">calendar.set(2017, 10, 32, 0, 0, 0);  </div><div class="line">报错</div></pre></td></tr></table></figure></p>
<h3 id="设置时间"><a href="#设置时间" class="headerlink" title="设置时间"></a>设置时间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">set(int field, int value)</div><div class="line">set(int year, int month, int date)</div><div class="line">set(int year, int month, int date, int hourOfDay, int minute)</div><div class="line">set(int year, int month, int date, int hourOfDay, int minute,int second)</div></pre></td></tr></table></figure>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Date date = new Date();</div><div class="line">Calendar calendar = new GregorianCalendar();</div><div class="line">calendar.setTime(date);</div><div class="line">calendar.add(Calendar.DATE, +31);//设置从第二天凌晨开始的30天后的23:59:59结束</div><div class="line">calendar.set(Calendar.HOUR_OF_DAY, 23);</div><div class="line">calendar.set(Calendar.MINUTE, 59);</div><div class="line">calendar.set(Calendar.SECOND, 59);</div><div class="line">calendar.set(Calendar.MILLISECOND, 000);//需要把毫秒数清0，否则存入数据库有时会有问题</div><div class="line">//清0也可以用这样</div><div class="line">//calendar.clear(Calendar.MILLISECOND)</div></pre></td></tr></table></figure></p>
<h3 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h3><p>清除时间<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">calendar.clear();//1970-01-01 00:00:00 0</div><div class="line"></div><div class="line">clear(int field);</div></pre></td></tr></table></figure></p>
<h3 id="时间比较"><a href="#时间比较" class="headerlink" title="时间比较"></a>时间比较</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">boolean after(Object when): 判断此 Calendar 表示的时间是否在指定 Object 表示的时间之后，返回判断结果。</div><div class="line">boolean before(Object when): 判断此 Calendar 表示的时间是否在指定 Object 表示的时间之前，返回判断结果。</div><div class="line">int compareTo(Calendar anotherCalendar):比较此 Calendar与给定的Calendar的大小，大于返回1，等于返回0，小于返回0</div></pre></td></tr></table></figure>
<h3 id="add"><a href="#add" class="headerlink" title="add"></a>add</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void add(int field, int amount);//根据日历的规则，为给定的日历字段添加或减去指定的时间量，会自动调整时间</div></pre></td></tr></table></figure>
<h3 id="roll"><a href="#roll" class="headerlink" title="roll"></a>roll</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void roll(int field, int amount):只会调整给定field的值，值在给定的field内循环，不会自动调整时间</div></pre></td></tr></table></figure>
<h3 id="getActualMaximum"><a href="#getActualMaximum" class="headerlink" title="getActualMaximum"></a>getActualMaximum</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int getActualMaximum(int field):获取给定field的最大值</div></pre></td></tr></table></figure>
<p>例如：获取当月的天数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">calendar.getActualMaximum(Calendar.DAY_OF_MONTH);//31</div></pre></td></tr></table></figure></p>
<h3 id="getActualMinimum"><a href="#getActualMinimum" class="headerlink" title="getActualMinimum"></a>getActualMinimum</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int getActualMinimum(int field):获取给定field的最小值</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2018/02/25/Linux/设置主机SSH连接不需要密码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/25/Linux/设置主机SSH连接不需要密码/" itemprop="url">设置主机SSH连接不需要密码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-25T10:09:45+08:00">
                2018-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="单一连接"><a href="#单一连接" class="headerlink" title="单一连接"></a>单一连接</h2><ol>
<li><p>在本机生成私匙和公匙</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa</div></pre></td></tr></table></figure>
</li>
<li><p>把公匙放到需要连接的服务器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">scp ~/.ssh/id_rsa.pub 连接的账户@服务器ip:.ssh/id_rsa.pub</div><div class="line"></div><div class="line">如：</div><div class="line">scp ~/.ssh/id_rsa.pub root@120.77.81.95:.ssh/id_rsa.pub</div></pre></td></tr></table></figure>
</li>
<li><p>生成authorized_keys文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">检查是否存在该文件：</div><div class="line">cat /root/.ssh/authorized_keys</div><div class="line">不存在则生成</div><div class="line">touch /root/.ssh/authorized_keys</div></pre></td></tr></table></figure>
</li>
<li><p>将id_rsa.pub的内容追加到authorized_keys 中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /root/.ssh/id_rsa.pub &gt;&gt; /root/.ssh/authorized_keys</div></pre></td></tr></table></figure>
</li>
<li><p>测试<br>回到主机,ssh连接服务器，不需要密码则成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh root@120.77.81.95</div></pre></td></tr></table></figure>
</li>
</ol>
<p>如出现Agent admitted failure to sign using the key错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-add   ~/.ssh/id_rsa</div></pre></td></tr></table></figure></p>
<h3 id="控制n个机器如上所述自动登录"><a href="#控制n个机器如上所述自动登录" class="headerlink" title="控制n个机器如上所述自动登录"></a>控制n个机器如上所述自动登录</h3><p>需要n对钥匙(密钥和公钥), ssh-keygen 命令可以随意更改钥匙对的名字, 比如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># ssh-keygen -t rsa</div><div class="line">Generating public/private rsa key pair.</div><div class="line">Enter file in which to save the key (/root/.ssh/id_rsa): /root/.ssh/id_rsa_192.168.60.110</div></pre></td></tr></table></figure></p>
<p>这样私钥和公钥的名字分别就是: id_rsa_192.168.60.110和 id_rsa_192.168.60.110.pub;然后将 id_rsa_192.168.60.110.pub 文件的内容, 追加到sever的 ~/.ssh/authorized_keys文件中,最后, 在本地用ssh命令的 -i 参数指定本地密钥, 并登录:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># ssh -i /root/.ssh/id_rsa_192.168.60.110 someone@192.168.60.110</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2017/10/13/Java/基础/java中的访问修饰符/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/13/Java/基础/java中的访问修饰符/" itemprop="url">java中的访问修饰符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-10-13T10:09:45+08:00">
                2017-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/基础/" itemprop="url" rel="index">
                    <span itemprop="name">基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java面向对象的基本思想之一是封装细节并且公开接口。Java语言采用访问控制修饰符来控制类及类的方法和变量的访问权限，从而向使用者暴露接口，但隐藏实现细节。访问控制分为四种级别：</p>
<ol>
<li><p><code>public</code>： 用public修饰的类、类属变量及方法，包内及包外的任何类（包括子类和普通类）均可以访问；</p>
</li>
<li><p><code>protected</code>： 用protected修饰的类、类属变量及方法，包内的任何类及包外那些继承了该类的子类才能访问），==protected重点突出继承==；</p>
</li>
<li><p><code>default</code>： 如果一个类、类属变量及方法没有用任何修饰符（即没有用public、protected及private中任何一种修饰），则其访问权限为default（默认访问权限）。默认访问权限的类、类属变量及方法，包内的任何类（包括继承了此类的子类）都可以访问它，而对于包外的任何类都不能访问它（包括包外继承了此类的子类）。==default重点突出包==；</p>
</li>
<li><p><code>private</code>： 用private修饰的类、类属变量及方法，只有本类可以访问，而包内包外的任何类均不能访问它。　</p>
</li>
</ol>
<p>网上一些资料及一些书上用表格对java访问修饰符做了清楚的总结，如下表所示： </p>
<table>
<thead>
<tr>
<th>访问控制修饰符</th>
<th>访问级别</th>
<th>同类</th>
<th>同包</th>
<th>子类</th>
<th>不同的包</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>公开的</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>protected</td>
<td>受保护的</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td>✖️</td>
</tr>
<tr>
<td>default</td>
<td>默认的</td>
<td>✔️</td>
<td>✔️</td>
<td>✖️</td>
<td>✖️</td>
</tr>
<tr>
<td>private</td>
<td>私有的</td>
<td>✔️</td>
<td>✖️</td>
<td>✖️</td>
<td>✖️</td>
</tr>
</tbody>
</table>
<p>重要总结：通过上面的分析，我们可以看到：    </p>
<ol>
<li><p>顶层类只能用public访问修饰符和default（默认）访问修饰符修饰，其中用默认修饰符修饰的类（即没有任何修饰符的类，如class B{}）不能被其他包中的类继承，这也说明了default（默认）访问修饰符突出的是包权限</p>
</li>
<li><p>protected：本人做了一次实验，发现在不同包的子类中，new一个父类对象，并用该父类对象去访问父类中的用protected修饰的类属变量和方法时不能访问，而new一个子类对象时，子类对象可以访问（说明protected修饰的类可以被其他包中的类继承）。也可以在子类重写父类的方法中使用super关键字调用。　　　　</p>
<p> protected修饰符的修饰的成员变量和方法也称为受保护的成员变量和方法， 受保护的成员变量和方法可以在本类或同一个包中的其它类（包括子类）中通过类的实例进行访问，也可以被同一个包中的类或不同包中的类继承，但是不能在不同包中的其它类（包括子类）中通过类的实例进行访问。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//注：TestA和TestB位于不同的包中</div><div class="line">public class TestA &#123;</div><div class="line">	protected String aa = &quot;123&quot;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">public class TestB extends TestA &#123;</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		TestA a = new TestA();</div><div class="line">		System.out.println(a.aa);//报错</div><div class="line">		</div><div class="line">		TestB b = new TestB();</div><div class="line">		System.out.println(b.aa);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>如果一个类使用public修饰，那该类的类名必须与他所在的源文件名相同。一个.java源文件中有且只有一个public类，顶层类只能用public和默认修饰符（即无修饰符）修饰；</p>
</li>
<li><p>final修饰的类不能被继承，没有子类。</p>
</li>
<li><p>abstract修饰的类不能被实例化，必须被子类继承。类只要有一个抽象方法就必定是抽象类，但抽象类不一定要有抽象方法。</p>
</li>
</ol>
<p>最终总结，就一句话：<strong>protected修饰符所修饰的类（这句话中指父类）属成员变量和方法，只可以被子类访问，而不管子类是不是和父类位于同一个包中。default修饰符所修饰的类属成员变量和方法，只可被同一个包中的其他类访问，而不管其他类是不是该类的子类。protected属于子类限制修饰符，而default属于包限制修饰符</strong>。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2017/08/28/Java/基础/java三大特性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/28/Java/基础/java三大特性/" itemprop="url">java三大特性</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-28T10:09:45+08:00">
                2017-08-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/基础/" itemprop="url" rel="index">
                    <span itemprop="name">基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>所谓多态就是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量倒底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。因为在程序运行时才确定具体的类，这样，不用修改源程序代码，就可以让引用变量绑定到各种不同的类实现上，从而导致该引用调用的具体方法随之改变，即不修改程序代码就可以改变程序运行时所绑定的具体代码，让程序可以选择多个运行状态，这就是多态性。    </p>
<p>指向子类的父类引用由于向上转型了，它只能访问父类中拥有的方法和属性，而对于子类中存在而父类中不存在的方法，该引用是不能使用的，尽管是重载该方法。若子类重写了父类中的某些方法，在调用该些方法的时候，必定是使用子类中定义的这些方法（动态连接、动态调用）。    </p>
<p>多态有两种表现形式：编译时多态（方法重载）和运行时多态（方法重写）</p>
<p>Java实现多态有三个必要条件（运行时多态）：继承、重写、向上转型（子类引用指向父类）。</p>
<ul>
<li>继承：在多态中必须存在有继承关系的子类和父类。</li>
<li>重写：子类对父类中某些方法进行重新定义，在调用这些方法时就会调用子类的方法。</li>
<li>向上转型：在多态中需要将子类的引用赋给父类对象，只有这样该引用才能够具备技能调用父类的方法和子类的方法。</li>
</ul>
<p>方法的重写Overriding和重载Overloading是Java多态性的不同表现。重写Overriding是父类与子类之间多态性的一种表现，重载Overloading是一个类中多态性的一种表现。如果在子类中定义某方法与其父类有相同的名称和参数，我们说该方法被重写 (Overriding)。子类的对象使用这个方法时，将调用子类中的定义，对它而言，父类中的定义如同被“屏蔽”了。如果在一个类中定义了多个同名的方法，它们或有不同的参数个数或有不同的参数类型，则称为方法的重载(Overloading)。Overloaded的方法是可以改变返回值的类型。</p>
<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>封装从字面上来理解就是包装的意思，专业点就是信息隐藏，是指利用抽象数据类型将数据和基于数据的操作封装在一起，使其构成一个不可分割的独立实体，数据被保护在抽象数据类型的内部，尽可能地隐藏内部的细节，只保留一些对外接口使之与外部发生联系。系统的其他对象只能通过包裹在数据外面的已经授权的操作来与这个封装的对象进行交流和交互。也就是说用户是无需知道对象内部的细节（当然也无从知道），但可以通过该对象对外的提供的接口来访问该对象。</p>
<p>使用封装有三大好处：</p>
<ol>
<li>良好的封装能够减少耦合</li>
<li>类内部的结构可以自由修改，模块之间互不干扰</li>
<li>隐藏信息，对外只提供接口，提高安全性</li>
</ol>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>通过继承实现代码复用。Java中所有的类都是通过直接或间接地继承java.lang.Object类得到的。继承而得到的类称为子类，被继承的类称为父类。子类不能继承父类中访问权限为private的成员变量和方法。子类可以重写父类的方法，及命名与父类同名的成员变量。但Java不支持多重继承，即一个类从多个超类派生的能力。在开发中尽量减少继承关系，这样做是为了把程序的耦合度降低。  </p>
<h3 id="继承的特性"><a href="#继承的特性" class="headerlink" title="继承的特性"></a>继承的特性</h3><ol>
<li><p>构造函数<br>当子类继承一个父类时，构造子类时需要调用父类的构造函数，存在三种情况:<br>（1），父类无构造函数或者一个无参数构造函数，子类若无构造函数或者有无参数构造函数，子类构造函数中不需要显式调用父类的构造函数，系统会自动在调用子类构造函数前调用父类的构造函数<br>（2），父类只有有参数构造函数，子类在构造方法中必须要显示调用父类的构造函数，否则编译出错<br>（3），父类既有无参数构造函数，也有有参构造函数，子类可以不在构造方法中调用父类的构造函数，这时使用的是父类的无参数构造函数    </p>
</li>
<li><p>方法覆盖<br>（1）子类覆盖父类的方法，在jdk1.5后，参数返回类可以是父类方法返回类的子类<br>（2）子类覆盖父类方法，可以修改方法作用域修饰符，但只能把方法的作用域放大，而不能把public修改为private<br>(3) 子类方法能够访问父类的protected作用域成员，不能够访问默认的作用域成员<br>（4）子类的静态方法不能隐藏同名的父类实例方法<br>（5）继承的方法具有多态性    </p>
</li>
<li><p>成员覆盖<br>（1）当子类覆盖父类的成员变量时，父类方法使用的是父类的成员变量，子类方法使用的是子类的成员变量    </p>
</li>
</ol>
<h3 id="类的继承知识点"><a href="#类的继承知识点" class="headerlink" title="类的继承知识点"></a>类的继承知识点</h3><ol>
<li>java不支持多重继承，也就是说子类至多只能有一个父类</li>
<li>子类继承了其父类中不是私有的成员变量和成员方法，作为自己的成员变量和方法</li>
<li>子类中定义的成员变量和父类中定义的成员变量相同时，则父类中的成员变量不能被继承</li>
<li>子类中定义的成员方法，并且这个成员方法的名字，返回类型，及参数个数和类型与父类的某个成员方法完全相同，则父类的成员方法不能被继承。</li>
</ol>
<h3 id="谨慎继承"><a href="#谨慎继承" class="headerlink" title="谨慎继承"></a>谨慎继承</h3><p>首先我们需要明确，继承存在如下缺陷：</p>
<ol>
<li>父类变，子类就必须变。</li>
<li>继承破坏了封装，对于父类而言，它的实现细节对与子类来说都是透明的。</li>
<li>继承是一种强耦合关系。</li>
</ol>
<p>所以说当我们使用继承的时候，我们需要确信使用继承确实是有效可行的办法。那么到底要不要使用继承呢？《Think in java》中提供了解决办法：问一问自己是否需要从子类向父类进行向上转型。如果必须向上转型，则继承是必要的，但是如果不需要，则应当好好考虑自己是否需要继承。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2017/08/28/Java/基础/Filter过滤器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/28/Java/基础/Filter过滤器/" itemprop="url">Filter过滤器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-28T10:09:45+08:00">
                2017-08-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/基础/" itemprop="url" rel="index">
                    <span itemprop="name">基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Filter也称之为过滤器，它是Servlet技术中最激动人心的技术之一，WEB开发人员通过Filter技术，对web服务器管理的所有web资源：例如Jsp,Servlet,静态图片文件或静态html文件等进行拦截，从而实现一些特殊的功能。例如实现URL级别的权限访问控制、过滤敏感词汇、压缩响应信息等一些高级功能。  </p>
<p>Servlet API中提供了一个Filter接口，开发web应用时，如果编写的Java类实现了这个接口，则把这个java类称之为过滤器Filter。通过Filter技术，开发人员可以实现用户在访问某个目标资源之前，对访问的请求和响应进行拦截，Filter接口源代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public abstract interface Filter&#123;  </div><div class="line">    public abstract void init(FilterConfig paramFilterConfig) throws ServletException;  </div><div class="line">    public abstract void doFilter(ServletRequest paramServletRequest, ServletResponse paramServletResponse, FilterChain   </div><div class="line">        paramFilterChain) throws IOException, ServletException;  </div><div class="line">    public abstract void destroy();  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Servlet API中提供了一个Filter接口，开发web应用时，如果编写的Java类实现了这个接口，则把这个java类称之为过滤器Filter。通过Filter技术，开发人员可以实现用户在访问某个目标资源之前，对访问的请求和响应进行拦截，如下所示：<br><img src="http://images2015.cnblogs.com/blog/892393/201604/892393-20160425211729548-1717874729.png" alt="image"><br>filter是如何实现过滤的：<br>Filter接口中有一个doFilter方法，当我们编写好Filter，并配置对哪个web资源进行拦截后，WEB服务器每次在调用web资源的service方法之前，都会先调用一下filter的doFilter方法，因此，在该方法内编写代码可达到如下目的：</p>
<ol>
<li>调用目标资源之前，让一段代码执行。</li>
<li>是否调用目标资源（即是否让用户访问web资源）。</li>
<li>调用目标资源之后，让一段代码执行。</li>
</ol>
<p>web服务器在调用doFilter方法时，会传递一个filterChain对象进来，filterChain对象是filter接口中最重要的一个对 象，它也提供了一个doFilter方法，开发人员可以根据需求决定是否调用此方法，调用该方法，则web服务器就会调用web资源的service方 法，即web资源就会被访问，否则web资源不会被访问。</p>
<h4 id="Filter链"><a href="#Filter链" class="headerlink" title="Filter链"></a>Filter链</h4><p>在一个web应用中，可以开发编写多个Filter，这些Filter组合起来称之为一个Filter链。web服务器根据Filter在web.xml文件中的注册顺序，决定先调用哪个Filter，当第一个Filter的doFilter方法被调用时，web服务器会创建一个代表Filter链的FilterChain对象传递给该方法。在doFilter方法中，开发人员如果调用了FilterChain对象的doFilter方法，则web服务器会检查FilterChain对象中是否还有filter，如果有，则调用第2个filter，如果没有，则调用目标资源。</p>
<h2 id="Filter的生命周期"><a href="#Filter的生命周期" class="headerlink" title="Filter的生命周期"></a>Filter的生命周期</h2><h4 id="Filter的创建"><a href="#Filter的创建" class="headerlink" title="Filter的创建"></a>Filter的创建</h4><p>Filter的创建和销毁由web服务器负责。 web应用程序启动时，web服务器将创建Filter的实例对象，并调用其init方法，完成对象的初始化功能，从而为后续的用户请求作好拦截的准备工作，filter对象只会创建一次，init方法也只会执行一次。通过init方法的参数，可获得代表当前filter配置信息的FilterConfig对象。</p>
<h4 id="Filter的销毁"><a href="#Filter的销毁" class="headerlink" title="Filter的销毁"></a>Filter的销毁</h4><p>web容器调用destroy方法销毁Filter。destroy方法在Filter的生命周期中仅执行一次。在destroy方法中，可以释放过滤器使用的资源。</p>
<h4 id="FilterConfig接口"><a href="#FilterConfig接口" class="headerlink" title="FilterConfig接口"></a>FilterConfig接口</h4><p>用户在配置filter时，可以使用<init-param>为filter配置一些初始化参数，当web容器实例化Filter对象，调用其init方法时，会把封装了filter初始化参数的filterConfig对象传递进来。因此开发人员在编写filter时，通过filterConfig对象的方法，就可获得：</init-param></p>
<ul>
<li>String getFilterName()：得到filter的名称。</li>
<li>String getInitParameter(String name)： 返回在部署描述中指定名称的初始化参数的值。如果不存在返回null.</li>
<li>Enumeration getInitParameterNames()：返回过滤器的所有初始化参数的名字的枚举集合。</li>
<li>public ServletContext getServletContext()：返回Servlet上下文对象的引用。</li>
</ul>
<h2 id="Filter配置"><a href="#Filter配置" class="headerlink" title="Filter配置"></a>Filter配置</h2><h4 id="Filter实现"><a href="#Filter实现" class="headerlink" title="Filter实现"></a>Filter实现</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public class EncodingFilter implements Filter &#123;  </div><div class="line">    private String encoding;  </div><div class="line">    private Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();  </div><div class="line">    // 项目结束时就已经进行销毁  </div><div class="line">    public void destroy() &#123;  </div><div class="line">        //进行资源回收等，只调用一次</div><div class="line">    &#125;  </div><div class="line">    </div><div class="line">    public void doFilter(ServletRequest req, ServletResponse resp,  </div><div class="line">            FilterChain chain) throws IOException, ServletException &#123;  </div><div class="line">        //调用资源前的逻辑处理</div><div class="line">        ...</div><div class="line">        </div><div class="line">        //调用下一个过滤器，如果没有过滤器，则调用真正的service方法</div><div class="line">        chain.doFilter(req, resp);   </div><div class="line">        </div><div class="line">        //调用资源后的逻辑处理</div><div class="line">        ...</div><div class="line">    &#125;  </div><div class="line">   </div><div class="line">    // 项目启动时就已经进行读取  </div><div class="line">    public void init(FilterConfig config) throws ServletException &#123;  </div><div class="line">        //初始化资源，在web容器启动时只调用一次</div><div class="line">    &#125;  </div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h4 id="注册Filter"><a href="#注册Filter" class="headerlink" title="注册Filter"></a>注册Filter</h4><p>开发好Filter之后，需要在web.xml文件中进行注册，这样才能够被web服务器调用。在web.xml文件中注册Filter范例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;filter&gt;  </div><div class="line">    &lt;description&gt;过滤器描述&lt;/description&gt;  </div><div class="line">    &lt;filter-name&gt;过滤器名称&lt;/filter-name&gt;  </div><div class="line">    &lt;filter-class&gt;过滤器地址&lt;/filter-class&gt;  </div><div class="line">    &lt;!--配置FilterTest过滤器的初始化参数--&gt;  </div><div class="line">    &lt;init-param&gt;  </div><div class="line">        &lt;description&gt;配置过滤器的初始化参数&lt;/description&gt;  </div><div class="line">        &lt;param-name&gt;name&lt;/param-name&gt;  </div><div class="line">        &lt;param-value&gt;gacl&lt;/param-value&gt;  </div><div class="line">    &lt;/init-param&gt;  </div><div class="line">    &lt;init-param&gt;  </div><div class="line">        &lt;description&gt;配置FilterTest过滤器的初始化参数&lt;/description&gt;  </div><div class="line">        &lt;param-name&gt;like&lt;/param-name&gt;  </div><div class="line">        &lt;param-value&gt;java&lt;/param-value&gt;  </div><div class="line">    &lt;/init-param&gt;  </div><div class="line">&lt;/filter&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li><description>用于添加描述信息，该元素的内容可为空，<description>可以不配置。</description></description></li>
<li><filter-name>用于为过滤器指定一个名字，该元素的内容不能为空。</filter-name></li>
<li><filter-class>元素用于指定过滤器的完整的限定类名。</filter-class></li>
<li><init-param>元素用于为过滤器指定初始化参数，它的子元素<param-name>指定参数的名字，<param-value>指定参数的值。</param-value></param-name></init-param></li>
</ul>
<p>在过滤器中，<br>可以使用FilterConfig接口对象来访问初始化参数。如果过滤器不需要指定初始化参数，那么<init-param>元素可以不配置。</init-param></p>
<h4 id="映射Filter"><a href="#映射Filter" class="headerlink" title="映射Filter"></a>映射Filter</h4><p>在web.xml文件中注册了Filter之后，还要在web.xml文件中映射Filter<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;!--映射过滤器--&gt;</div><div class="line">&lt;filter-mapping&gt;</div><div class="line">  &lt;filter-name&gt;FilterTest&lt;/filter-name&gt;</div><div class="line">  &lt;!--“/*”表示拦截所有的请求 --&gt;</div><div class="line">  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</div><div class="line">&lt;/filter-mapping&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li><filter-mapping>元素用于设置一个 Filter 所负责拦截的资源。一个Filter拦截的资源可通过两种方式来指定：Servlet 名称和资源访问的请求路径</filter-mapping></li>
<li><filter-name>子元素用于设置filter的注册名称。该值必须是在<filter>元素中声明过的过滤器的名字</filter></filter-name></li>
<li><url-pattern>设置 filter 所拦截的请求路径(过滤器关联的URL样式)</url-pattern></li>
<li><servlet-name>指定过滤器所拦截的Servlet名称。</servlet-name></li>
<li><p><dispatcher>指定过滤器所拦截的资源被 Servlet 容器调用的方式，可以是<code>REQUEST</code>,<code>INCLUDE</code>,<code>FORWARD</code>和<code>ERROR</code>之一，<strong>默认REQUEST</strong>。用户可以设置多个<dispatcher> 子元素用来指定 Filter 对资源的多种调用方式进行拦截。如下：</dispatcher></dispatcher></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;filter-mapping&gt;</div><div class="line">    &lt;filter-name&gt;testFilter&lt;/filter-name&gt;</div><div class="line">    &lt;url-pattern&gt;/index.jsp&lt;/url-pattern&gt;</div><div class="line">    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;</div><div class="line">    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;</div><div class="line">&lt;/filter-mapping&gt;</div></pre></td></tr></table></figure>
<p>  <dispatcher> 子元素可以设置的值及其意义：</dispatcher></p>
<ul>
<li>REQUEST：当用户直接访问页面时，Web容器将会调用过滤器。如果目标资源是通过RequestDispatcher的include()或forward()方法访问<br>时，那么该过滤器就不会被调用。</li>
<li>INCLUDE：如果目标资源是通过RequestDispatcher的include()方法访问时，那么该过滤器将被调用。除此之外，该过滤器不会被调用。</li>
<li>FORWARD：如果目标资源是通过RequestDispatcher的forward()方法访问时，那么该过滤器将被调用，除此之外，该过滤器不会被调用。</li>
<li>ERROR：如果目标资源是通过声明式异常处理机制调用时，那么该过滤器将被调用。除此之外，过滤器不会被调用。</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2017/08/27/Java/基础/泛型/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/27/Java/基础/泛型/" itemprop="url">泛型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-27T10:09:45+08:00">
                2017-08-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/基础/" itemprop="url" rel="index">
                    <span itemprop="name">基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><strong>泛型，即“参数化类型”</strong>。一提到参数，最熟悉的就是定义方法时有形参，然后调用此方法时传递实参。那么参数化类型怎么理解呢？顾名思义，就是将类型由原来的具体的类型参数化，类似于方法中的变量参数，此时类型也定义成参数形式（可以称之为类型形参），然后在使用/调用时传入具体的类型（类型实参）。</p>
<p>泛型的本质是为了参数化类型（在不创建新的类型的情况下，通过泛型指定的不同类型来控制形参具体限制的类型）。也就是说在泛型使用过程中，操作的数据类型被指定为一个参数，<strong>这种参数类型可以用在类、接口和方法中，分别被称为泛型类、泛型接口、泛型方法</strong>。</p>
<h4 id="类型的好处"><a href="#类型的好处" class="headerlink" title="类型的好处"></a>类型的好处</h4><ul>
<li><strong>类型安全</strong>。泛型的主要目标是提高Java程序的类型安全。通过知道使用泛型定义的变量的类型限制，编译器可以在一个高得多的程度上验证类型假设。没有泛型，这些假设就只存在于程序员的头脑中（或者如果幸运的话，还存在于代码注释中）。通过在变量声明中捕获这一附加的类型信息，泛型允许编译器实施这些附加的类型约束。类型错误现在就可以在编译时被捕获了，而不是在运行时当作 ClassCastException 展示出来。将类型检查从运行时挪到编译时有助于您更容易找到错误，并可提高程序的可靠性。</li>
<li><strong>消除强制类型转换</strong>。泛型的一个附带好处是，消除源代码中的许多强制类型转换。这使得代码更加可读，并且减少了出错机会。</li>
</ul>
<h2 id="泛型的产生"><a href="#泛型的产生" class="headerlink" title="泛型的产生"></a>泛型的产生</h2><p>一个简单的例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">List arrayList = new ArrayList();</div><div class="line">arrayList.add(&quot;aaaa&quot;);</div><div class="line">arrayList.add(100);</div><div class="line"></div><div class="line">for(int i = 0; i&lt; arrayList.size();i++)&#123;</div><div class="line">    String item = (String)arrayList.get(i);</div><div class="line">    Log.d(&quot;泛型测试&quot;,&quot;item = &quot; + item);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>毫无疑问，程序的运行结果会以崩溃结束：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String</div></pre></td></tr></table></figure></p>
<p>ArrayList可以存放任意类型，例子中添加了一个String类型，添加了一个Integer类型，再使用时都以String的方式使用，因此程序崩溃了。为了解决类似这样的问题（在编译阶段就可以解决），泛型应运而生。    </p>
<p>我们将第一行声明初始化list的代码更改一下，编译器会在编译阶段就能够帮我们发现类似这样的问题。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();</div><div class="line">...</div><div class="line">//arrayList.add(100); 在编译阶段，编译器就会报错</div></pre></td></tr></table></figure></p>
<h2 id="泛型的特性"><a href="#泛型的特性" class="headerlink" title="泛型的特性"></a>泛型的特性</h2><p><strong>泛型只在编译阶段有效</strong>。看下面的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; stringArrayList = new ArrayList&lt;String&gt;();</div><div class="line">List&lt;Integer&gt; integerArrayList = new ArrayList&lt;Integer&gt;();</div><div class="line"></div><div class="line">Class classStringArrayList = stringArrayList.getClass();</div><div class="line">Class classIntegerArrayList = integerArrayList.getClass();</div><div class="line"></div><div class="line">if(classStringArrayList.equals(classIntegerArrayList))&#123;</div><div class="line">    Log.d(&quot;泛型测试&quot;,&quot;类型相同&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输出结果：D/泛型测试: 类型相同。    </p>
<p>通过上面的例子可以证明，<strong>在编译之后程序会采取去泛型化的措施。也就是说Java中的泛型，只在编译阶段有效。在编译过程中，正确检验泛型结果后，会将泛型的相关信息擦出，并且在对象进入和离开方法的边界处添加类型检查和类型转换的方法。也就是说，泛型信息不会进入到运行时阶段</strong>。  </p>
<p>对此总结成一句话：<strong>泛型类型在逻辑上看以看成是多个不同的类型，实际上都是相同的基本类型。</strong></p>
<h2 id="泛型的使用"><a href="#泛型的使用" class="headerlink" title="泛型的使用"></a>泛型的使用</h2><p>泛型有三种使用方式，分别为：泛型类、泛型接口、泛型方法</p>
<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><p>泛型类型用于类的定义中，被称为泛型类。通过泛型可以完成对一组类的操作对外开放相同的接口。最典型的就是各种容器类，如：List、Set、Map。  </p>
<p>一个最普通的泛型类：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//此处T可以随便写为任意标识，常见的如T、E、K、V等形式的参数常用于表示泛型</div><div class="line">//在实例化泛型类时，必须指定T的具体类型</div><div class="line">public class Generic&lt;T&gt;&#123; </div><div class="line">    //key这个成员变量的类型为T,T的类型由外部指定  </div><div class="line">    private T key;</div><div class="line"></div><div class="line">    public Generic(T key) &#123; //泛型构造方法形参key的类型也为T，T的类型由外部指定</div><div class="line">        this.key = key;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public T getKey()&#123; //泛型方法getKey的返回值类型为T，T的类型由外部指定</div><div class="line">        return key;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//泛型的类型参数只能是类类型（包括自定义类），不能是简单类型</div><div class="line">//传入的实参类型需与泛型的类型参数类型相同，即为Integer.</div><div class="line">Generic&lt;Integer&gt; genericInteger = new Generic&lt;Integer&gt;(123456);</div><div class="line"></div><div class="line">//传入的实参类型需与泛型的类型参数类型相同，即为String.</div><div class="line">Generic&lt;String&gt; genericString = new Generic&lt;String&gt;(&quot;key_vlaue&quot;);</div><div class="line">Log.d(&quot;泛型测试&quot;,&quot;key is &quot; + genericInteger.getKey());</div><div class="line">Log.d(&quot;泛型测试&quot;,&quot;key is &quot; + genericString.getKey());</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">泛型测试: key is 123456</div><div class="line">泛型测试: key is key_vlaue</div></pre></td></tr></table></figure>
<p>注意：</p>
<ol>
<li>泛型的类型参数只能是类类型，不能是简单类型。</li>
<li>不能对确切的泛型类型使用instanceof操作。如下面的操作是非法的，编译时会出错。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">if(ex_num instanceof Generic&lt;Number&gt;)&#123;   </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><p>泛型接口与泛型类的定义及使用基本相同。泛型接口常被用在各种类的生产器中，可以看一个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//定义一个泛型接口</div><div class="line">public interface Generator&lt;T&gt; &#123;</div><div class="line">    public T next();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当实现泛型接口的类，未传入泛型实参时：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 未传入泛型实参时，与泛型类的定义相同，在声明类的时候，需将泛型的声明也一起加到类中</div><div class="line"> * 即：class FruitGenerator&lt;T&gt; implements Generator&lt;T&gt;&#123;</div><div class="line"> * 如果不声明泛型，如：class FruitGenerator implements Generator&lt;T&gt;，编译器会报错：&quot;Unknown class&quot;</div><div class="line"> */</div><div class="line">class FruitGenerator&lt;T&gt; implements Generator&lt;T&gt;&#123;</div><div class="line">    @Override</div><div class="line">    public T next() &#123;</div><div class="line">        return null;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当实现泛型接口的类，传入泛型实参时：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 传入泛型实参时：</div><div class="line"> * 定义一个生产器实现这个接口,虽然我们只创建了一个泛型接口Generator&lt;T&gt;</div><div class="line"> * 但是我们可以为T传入无数个实参，形成无数种类型的Generator接口。</div><div class="line"> * 在实现类实现泛型接口时，如已将泛型类型传入实参类型，则所有使用泛型的地方都要替换成传入的实参类型</div><div class="line"> * 即：Generator&lt;T&gt;，public T next();中的的T都要替换成传入的String类型。</div><div class="line"> */</div><div class="line">public class FruitGenerator implements Generator&lt;String&gt; &#123;</div><div class="line"></div><div class="line">    private String[] fruits = new String[]&#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Pear&quot;&#125;;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public String next() &#123;</div><div class="line">        Random rand = new Random();</div><div class="line">        return fruits[rand.nextInt(3)];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="泛型通配符"><a href="#泛型通配符" class="headerlink" title="泛型通配符"></a>泛型通配符</h4><p>我们知道Ingeter是Number的一个子类，同时在特性章节中我们也验证过Generic<ingeter>与Generic<number>实际上是相同的一种基本类型。那么问题来了，在使用Generic<number>作为形参的方法中，能否使用Generic<ingeter>的实例传入呢？在逻辑上类似于Generic<number>和Generic<ingeter>是否可以看成具有父子关系的泛型类型呢？    </ingeter></number></ingeter></number></number></ingeter></p>
<p>为了弄清楚这个问题，我们使用Generic<t>这个泛型类继续看下面的例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public void showKeyValue1(Generic&lt;Number&gt; obj)&#123;</div><div class="line">    Log.d(&quot;泛型测试&quot;,&quot;key value is &quot; + obj.getKey());</div><div class="line">&#125;</div></pre></td></tr></table></figure></t></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Generic&lt;Integer&gt; gInteger = new Generic&lt;Integer&gt;(123);</div><div class="line">Generic&lt;Number&gt; gNumber = new Generic&lt;Number&gt;(456);</div><div class="line"></div><div class="line">showKeyValue(gNumber);</div><div class="line"></div><div class="line">// showKeyValue这个方法编译器会为我们报错：Generic&lt;java.lang.Integer&gt; </div><div class="line">// cannot be applied to Generic&lt;java.lang.Number&gt;</div><div class="line">// showKeyValue(gInteger);</div></pre></td></tr></table></figure>
<p>通过提示信息我们可以看到Generic<integer>不能被看作为`Generic<number>的子类。由此可以看出:<strong>同一种泛型可以对应多个版本（因为参数类型是不确定的），不同版本的泛型类实例是不兼容的</strong>。  </number></integer></p>
<p>回到上面的例子，如何解决上面的问题？总不能为了定义一个新的方法来处理Generic<integer>类型的类，这显然与java中的多台理念相违背。因此我们需要一个在逻辑上可以表示同时是Generic<integer>和Generic<number>父类的引用类型。由此类型通配符应运而生。 </number></integer></integer></p>
<p>我们可以将上面的方法改一下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public void showKeyValue1(Generic&lt;?&gt; obj)&#123;</div><div class="line">    Log.d(&quot;泛型测试&quot;,&quot;key value is &quot; + obj.getKey());</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>类型通配符一般是使用？代替具体的类型实参，注意了，此处’？’是类型实参，而不是类型形参 。再直白点的意思就是，此处的？和Number、String、Integer一样都是一种实际的类型，可以把？看成所有类型的父类。是一种真实的类型。</p>
<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h3><p>在java中,泛型类的定义非常简单，但是泛型方法就比较复杂了。<br>尤其是我们见到的大多数泛型类中的成员方法也都使用了泛型，有的甚至泛型类中也包含着泛型方法，这样在初学者中非常容易将泛型方法理解错了。    </p>
<p><strong>泛型类，是在实例化类的时候指明泛型的具体类型；泛型方法，是在调用方法的时候指明泛型的具体类型 </strong>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 泛型方法的基本介绍</div><div class="line"> * @param tClass 传入的泛型实参</div><div class="line"> * @return T 返回值为T类型</div><div class="line"> * 说明：</div><div class="line"> *     1）public 与 返回值中间&lt;T&gt;非常重要，可以理解为声明此方法为泛型方法。</div><div class="line"> *     2）只有声明了&lt;T&gt;的方法才是泛型方法，泛型类中的使用了泛型的成员方法并不是泛型方法。</div><div class="line"> *     3）&lt;T&gt;表明该方法将使用泛型类型T，此时才可以在方法中使用泛型类型T。</div><div class="line"> *     4）与泛型类的定义一样，此处T可以随便写为任意标识，常见的如T、E、K、V等形式的参数常用于表示泛型。</div><div class="line"> */</div><div class="line">public &lt;T&gt; T genericMethod(Class&lt;T&gt; tClass)throws InstantiationException ,</div><div class="line">  IllegalAccessException&#123;</div><div class="line">        T instance = tClass.newInstance();</div><div class="line">        return instance;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="泛型方法的基本用法"><a href="#泛型方法的基本用法" class="headerlink" title="泛型方法的基本用法"></a>泛型方法的基本用法</h4><p>光看上面的例子有的同学可能依然会非常迷糊，我们再通过一个例子，把泛型方法再总结一下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line">public class GenericTest &#123;</div><div class="line">   //这个类是个泛型类，在上面已经介绍过</div><div class="line">   public class Generic&lt;T&gt;&#123;     </div><div class="line">        private T key;</div><div class="line"></div><div class="line">        public Generic(T key) &#123;</div><div class="line">            this.key = key;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        //我想说的其实是这个，虽然在方法中使用了泛型，但是这并不是一个泛型方法。</div><div class="line">        //这只是类中一个普通的成员方法，只不过他的返回值是在声明泛型类已经声明过的泛型。</div><div class="line">        //所以在这个方法中才可以继续使用 T 这个泛型。</div><div class="line">        public T getKey()&#123;</div><div class="line">            return key;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        /**</div><div class="line">         * 这个方法显然是有问题的，在编译器会给我们提示这样的错误信息&quot;cannot reslove symbol E&quot;</div><div class="line">         * 因为在类的声明中并未声明泛型E，所以在使用E做形参和返回值类型时，编译器会无法识别。</div><div class="line">        public E setKey(E key)&#123;</div><div class="line">             this.key = keu</div><div class="line">        &#125;</div><div class="line">        */</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    /** </div><div class="line">     * 这才是一个真正的泛型方法。</div><div class="line">     * 首先在public与返回值之间的&lt;T&gt;必不可少，这表明这是一个泛型方法，并且声明了一个泛型T</div><div class="line">     * 这个T可以出现在这个泛型方法的任意位置.</div><div class="line">     * 泛型的数量也可以为任意多个 </div><div class="line">     *    如：public &lt;T,K&gt; K showKeyName(Generic&lt;T&gt; container)&#123;</div><div class="line">     *        ...</div><div class="line">     *        &#125;</div><div class="line">     */</div><div class="line">    public &lt;T&gt; T showKeyName(Generic&lt;T&gt; container)&#123;</div><div class="line">        System.out.println(&quot;container key :&quot; + container.getKey());</div><div class="line">        //当然这个例子举的不太合适，只是为了说明泛型方法的特性。</div><div class="line">        T test = container.getKey();</div><div class="line">        return test;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //这也不是一个泛型方法，这就是一个普通的方法，只是使用了Generic&lt;Number&gt;这个泛型类做形参而已。</div><div class="line">    public void showKeyValue1(Generic&lt;Number&gt; obj)&#123;</div><div class="line">        Log.d(&quot;泛型测试&quot;,&quot;key value is &quot; + obj.getKey());</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //这也不是一个泛型方法，这也是一个普通的方法，只不过使用了泛型通配符?</div><div class="line">    //同时这也印证了泛型通配符章节所描述的，?是一种类型实参，可以看做为Number等所有类的父类</div><div class="line">    public void showKeyValue2(Generic&lt;?&gt; obj)&#123;</div><div class="line">        Log.d(&quot;泛型测试&quot;,&quot;key value is &quot; + obj.getKey());</div><div class="line">    &#125;</div><div class="line"></div><div class="line">     /**</div><div class="line">     * 这个方法是有问题的，编译器会为我们提示错误信息：&quot;UnKnown class &apos;E&apos; &quot;</div><div class="line">     * 虽然我们声明了&lt;T&gt;,也表明了这是一个可以处理泛型的类型的泛型方法。</div><div class="line">     * 但是只声明了泛型类型T，并未声明泛型类型E，因此编译器并不知道该如何处理E这个类型。</div><div class="line">    public &lt;T&gt; T showKeyName(Generic&lt;E&gt; container)&#123;</div><div class="line">        ...</div><div class="line">    &#125;  </div><div class="line">    */</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 这个方法也是有问题的，编译器会为我们提示错误信息：&quot;UnKnown class &apos;T&apos; &quot;</div><div class="line">     * 对于编译器来说T这个类型并未项目中声明过，因此编译也不知道该如何编译这个类。</div><div class="line">     * 所以这也不是一个正确的泛型方法声明。</div><div class="line">    public void showkey(T genericObj)&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    */</div><div class="line"></div><div class="line">    public static void main(String[] args) &#123;</div><div class="line"></div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="类中的泛型方法"><a href="#类中的泛型方法" class="headerlink" title="类中的泛型方法"></a>类中的泛型方法</h4><p>当然这并不是泛型方法的全部，泛型方法可以出现杂任何地方和任何场景中使用。但是有一种情况是非常特殊的，当泛型方法出现在泛型类中时，我们再通过一个例子看一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">public class GenericFruit &#123;</div><div class="line">    class Fruit&#123;</div><div class="line">        @Override</div><div class="line">        public String toString() &#123;</div><div class="line">            return &quot;fruit&quot;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    class Apple extends Fruit&#123;</div><div class="line">        @Override</div><div class="line">        public String toString() &#123;</div><div class="line">            return &quot;apple&quot;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    class Person&#123;</div><div class="line">        @Override</div><div class="line">        public String toString() &#123;</div><div class="line">            return &quot;Person&quot;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    class GenerateTest&lt;T&gt;&#123;</div><div class="line">        public void show_1(T t)&#123;</div><div class="line">            System.out.println(t.toString());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        //在泛型类中声明了一个泛型方法，使用泛型E，这种泛型E可以为任意类型。可以类型与T相同，也可以不同。</div><div class="line">        //由于泛型方法在声明的时候会声明泛型&lt;E&gt;，因此即使在泛型类中并未声明泛型，编译器也能够正确识别泛型方法中识别的泛型。</div><div class="line">        public &lt;E&gt; void show_3(E t)&#123;</div><div class="line">            System.out.println(t.toString());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        //在泛型类中声明了一个泛型方法，使用泛型T，注意这个T是一种全新的类型，可以与泛型类中声明的T不是同一种类型。</div><div class="line">        public &lt;T&gt; void show_2(T t)&#123;</div><div class="line">            System.out.println(t.toString());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        Apple apple = new Apple();</div><div class="line">        Person person = new Person();</div><div class="line"></div><div class="line">        GenerateTest&lt;Fruit&gt; generateTest = new GenerateTest&lt;Fruit&gt;();</div><div class="line">        //apple是Fruit的子类，所以这里可以</div><div class="line">        generateTest.show_1(apple);</div><div class="line">        //编译器会报错，因为泛型类型实参指定的是Fruit，而传入的实参类是Person</div><div class="line">        //generateTest.show_1(person);</div><div class="line"></div><div class="line">        //使用这两个方法都可以成功</div><div class="line">        generateTest.show_2(apple);</div><div class="line">        generateTest.show_2(person);</div><div class="line"></div><div class="line">        //使用这两个方法也都可以成功</div><div class="line">        generateTest.show_3(apple);</div><div class="line">        generateTest.show_3(person);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="泛型方法与可变参数"><a href="#泛型方法与可变参数" class="headerlink" title="泛型方法与可变参数"></a>泛型方法与可变参数</h4><p>再看一个泛型方法和可变参数的例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">public &lt;T&gt; void printMsg( T... args)&#123;</div><div class="line">    for(T t : args)&#123;</div><div class="line">        Log.d(&quot;泛型测试&quot;,&quot;t is &quot; + t);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">printMsg(&quot;111&quot;,222,&quot;aaaa&quot;,&quot;2323.4&quot;,55.55);</div></pre></td></tr></table></figure>
<h4 id="静态方法与泛型"><a href="#静态方法与泛型" class="headerlink" title="静态方法与泛型"></a>静态方法与泛型</h4><p>静态方法有一种情况需要注意一下，那就是在类中的静态方法使用泛型：<strong>静态方法无法访问类上定义的泛型；如果静态方法操作的引用数据类型不确定的时候，必须要将泛型定义在方法上</strong>。    </p>
<p>即：<strong>如果静态方法要使用泛型的话，必须将静态方法也定义成泛型方法 </strong>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public class StaticGenerator&lt;T&gt; &#123;</div><div class="line">    ....</div><div class="line">    ....</div><div class="line">    /**</div><div class="line">     * 如果在类中定义使用泛型的静态方法，需要添加额外的泛型声明（将这个方法定义成泛型方法）</div><div class="line">     * 即使静态方法要使用泛型类中已经声明过的泛型也不可以。</div><div class="line">     * 如：public static void show(T t)&#123;..&#125;,此时编译器会提示错误信息：</div><div class="line">          &quot;StaticGenerator cannot be refrenced from static context&quot;</div><div class="line">     */</div><div class="line">    public static &lt;T&gt; void show(T t)&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="泛型上下边界"><a href="#泛型上下边界" class="headerlink" title="泛型上下边界"></a>泛型上下边界</h3><p><strong>泛型添加上边界，即传入的类型实参必须是指定类型的子类型</strong></p>
<p>在使用泛型的时候，我们还可以为传入的泛型类型实参进行上下边界的限制，如：类型实参只准传入某种类型的父类或某种类型的子类。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public void showKeyValue1(Generic&lt;? extends Number&gt; obj)&#123;</div><div class="line">    Log.d(&quot;泛型测试&quot;,&quot;key value is &quot; + obj.getKey());</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Generic&lt;String&gt; generic1 = new Generic&lt;String&gt;(&quot;11111&quot;);</div><div class="line">Generic&lt;Integer&gt; generic2 = new Generic&lt;Integer&gt;(2222);</div><div class="line">Generic&lt;Float&gt; generic3 = new Generic&lt;Float&gt;(2.4f);</div><div class="line">Generic&lt;Double&gt; generic4 = new Generic&lt;Double&gt;(2.56);</div><div class="line"></div><div class="line">//这一行代码编译器会提示错误，因为String类型并不是Number类型的子类</div><div class="line">//showKeyValue1(generic1);</div><div class="line"></div><div class="line">showKeyValue1(generic2);</div><div class="line">showKeyValue1(generic3);</div><div class="line">showKeyValue1(generic4);</div></pre></td></tr></table></figure>
<p>如果我们把泛型类的定义也改一下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class Generic&lt;T extends Number&gt;&#123;</div><div class="line">    private T key;</div><div class="line"></div><div class="line">    public Generic(T key) &#123;</div><div class="line">        this.key = key;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public T getKey()&#123;</div><div class="line">        return key;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//这一行代码也会报错，因为String不是Number的子类</div><div class="line">Generic&lt;String&gt; generic1 = new Generic&lt;String&gt;(&quot;11111&quot;);</div></pre></td></tr></table></figure>
<p>再来一个泛型方法的例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//在泛型方法中添加上下边界限制的时候，必须在权限声明与返回值之间的&lt;T&gt;上添加上下边界，即在泛型声明的时候添加</div><div class="line">//public &lt;T&gt; T showKeyName(Generic&lt;T extends Number&gt; container)，编译器会报错：&quot;Unexpected bound&quot;</div><div class="line">public &lt;T extends Number&gt; T showKeyName(Generic&lt;T&gt; container)&#123;</div><div class="line">    System.out.println(&quot;container key :&quot; + container.getKey());</div><div class="line">    T test = container.getKey();</div><div class="line">    return test;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>通过上面的两个例子可以看出：<strong>泛型的上下边界添加，必须与泛型的声明在一起</strong>。</p>
<h4 id="泛型方法总结"><a href="#泛型方法总结" class="headerlink" title="泛型方法总结"></a>泛型方法总结</h4><p>泛型方法能使方法独立于类而产生变化，以下是一个基本的指导原则：<br><code>无论何时，如果你能做到，你就该尽量使用泛型方法。也就是说，如果使用泛型方法将整个类泛型化，那么就应该使用泛型方法。另外对于一个static的方法而已，无法访问泛型类型的参数。所以如果static方法要使用泛型能力，就必须使其成为泛型方法。</code></p>
<h4 id="泛型数组"><a href="#泛型数组" class="headerlink" title="泛型数组"></a>泛型数组</h4><p>看到了很多文章中都会提起泛型数组，经过查看sun的说明文档，在java中是”<strong>不能创建一个确切的泛型类型的数组</strong>”的。    </p>
<p>也就是说下面的这个例子是不可以的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt;[] ls = new ArrayList&lt;String&gt;[10];</div></pre></td></tr></table></figure></p>
<p>而使用通配符创建泛型数组是可以的，如下面这个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">List&lt;?&gt;[] ls = new ArrayList&lt;?&gt;[10];</div></pre></td></tr></table></figure></p>
<p>这样也是可以的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt;[] ls = new ArrayList[10];</div></pre></td></tr></table></figure></p>
<p>下面使用Sun的一篇文档的一个例子来说明这个问题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt;[] lsa = new List&lt;String&gt;[10]; // Not really allowed.    </div><div class="line">Object o = lsa;    </div><div class="line">Object[] oa = (Object[]) o;    </div><div class="line">List&lt;Integer&gt; li = new ArrayList&lt;Integer&gt;();    </div><div class="line">li.add(new Integer(3));    </div><div class="line">oa[1] = li; // Unsound, but passes run time store check    </div><div class="line">String s = lsa[1].get(0); // Run-time error: ClassCastException.</div></pre></td></tr></table></figure></p>
<p>这种情况下，由于JVM泛型的擦除机制，在运行时JVM是不知道泛型信息的，所以可以给oa[1]赋上一个ArrayList而不会出现异常，但是在取出数据的时候却要做一次类型转换，所以就会出现ClassCastException，如果可以进行泛型数组的声明，上面说的这种情况在编译期将不会出现任何的警告和错误，只有在运行时才会出错。</p>
<p>而对泛型数组的声明进行限制，对于这样的情况，可以在编译期提示代码有类型安全问题，比没有任何提示要强很多。</p>
<p>下面采用通配符的方式是被允许的:数组的类型不可以是类型变量，除非是采用通配符的方式，因为对于通配符的方式，最后取出数据是要做显式的类型转换的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">List&lt;?&gt;[] lsa = new List&lt;?&gt;[10]; // OK, array of unbounded wildcard type.    </div><div class="line">Object o = lsa;    </div><div class="line">Object[] oa = (Object[]) o;    </div><div class="line">List&lt;Integer&gt; li = new ArrayList&lt;Integer&gt;();    </div><div class="line">li.add(new Integer(3));    </div><div class="line">oa[1] = li; // Correct.    </div><div class="line">Integer i = (Integer) lsa[1].get(0); // OK</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://clq2owesome.github.io/2017/08/27/Java/基础/面向对象7大原则/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LeoChan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeoChan's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/27/Java/基础/面向对象7大原则/" itemprop="url">面向对象7大原则</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-27T10:09:45+08:00">
                2017-08-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/基础/" itemprop="url" rel="index">
                    <span itemprop="name">基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>七大原则总脉络图：<br><img src="http://my.csdn.net/uploads/201205/15/1337080249_5362.jpg" alt="image">  </p>
<ol>
<li><p><strong>单一职责原则</strong>（Single Responsibility Principle）  </p>
<p> 可以降低类的复杂度，一个类只负责一项职责，其逻辑肯定要比负责多项职责简单的多；提高类的可读性，提高系统的可维护性；变更引起的风险降低，变更是必然的，如果单一职责原则遵守的好，当修改一个功能时，可以显著降低对其他功能的影响。需要说明的一点是单一职责原则不只是面向对象编程思想所特有的，只要是模块化的程序设计，都适用单一职责原则。</p>
</li>
<li><p><strong>里氏替换原则</strong>（Liskov Substitution Principle）    </p>
<p> 里氏替换原则告诉我们，在软件中将一个基类对象替换成它的子类对象，程序将不会产生任何错误和异常，反过来则不成立，如果一个软件实体使用的是一个子类对象的话，那么它不一定能够使用基类对象。里氏替换原则是实现开闭原则的重要方式之一，由于使用基类对象的地方都可以使用子类对象，因此在程序中尽量使用基类类型来对对象进行定义，而在运行时再确定其子类类型，用子类对象来替换父类对象。  </p>
<p> 使用里氏替换原则时需要注意，子类的所有方法必须在父类中声明，或子类必须实现父类中声明的所有方法。尽量把父类设计为抽象类或者接口，让子类继承父类或实现父接口，并实现在父类中声明的方法，运行时，子类实例替换父类实例，我们可以很方便地扩展系统的功能，同时无须修改原有子类的代码，增加新的功能可以通过增加一个新的子类来实现。  </p>
<p> 从大局看Java的多态就属于这个原则。</p>
</li>
<li><p><strong>依赖倒置原则</strong>（Dependence Inversion Principle）  </p>
<p> 具体依赖抽象，上层依赖下层。假设B是较A低的模块，但B需要使用到A的功能，这个时候，B不应当直接使用A中的具体类；而应当由B定义一抽象接口，并由A来实现这个抽象接口，B只使用这个抽象接口；这样就达到了依赖倒置的目的，B也解除了对A的依赖，反过来是A依赖于B定义的抽象接口。通过上层模块难以避免依赖下层模块，假如B也直接依赖A的实现，那么就可能造成循环依赖。</p>
<p> 采用依赖倒置原则可以减少类间的耦合性，提高系统的稳定性，减少并行开发引起的风险，提高代码的可读性和可维护性。</p>
<p> 从大局看Java的多态就属于这个原则。</p>
</li>
<li><p><strong>接口隔离原则</strong>（Interface Segregation Principle） </p>
<p> 建立单一接口，不要建立庞大的接口，尽量细化接口，接口中的方法尽量少。也就是要为各个类建立专用的接口，而不要试图去建立一个很庞大的接口供所有依赖它的类去调用。依赖几个专用的接口要比依赖一个综合的接口更灵活。接口是设计时对外部设定的约定，通过分散定义多个接口，可以预防外来变更的扩散，提高系统的灵活性和可维护性。</p>
<p> 从大局来说Java的接口可以实现多继承就是接口隔离原则的基础保障。</p>
</li>
<li><p><strong>迪米特法则</strong>（Law Of Demeter）   </p>
<p> 类与类之间的关系越密切，耦合度也就越来越大，只有尽量降低类与类之间的耦合才符合设计模式；对于被依赖的类来说，无论逻辑多复杂都要尽量封装在类的内部；每个对象都会与其他对象有耦合关系，我们称出现成员变量、方法参数、方法返回值中的类为直接的耦合依赖，而出现在局部变量中的类则不是直接耦合依赖，也就是说，不是直接耦合依赖的类最好不要作为局部变量的形式出现在类的内部。</p>
<p> 一个对象对另一个对象知道的越少越好，即一个软件实体应当尽可能少的与其他实体发生相互作用，在一个类里能少用多少其他类就少用多少，尤其是局部变量的依赖类，能省略尽量省略。同时如果两个类不必彼此直接通信，那么这两个类就不应当发生直接的相互作用。如果其中一个类需要调用另一个类的某一方法的话，可以通过第三者转发这个调用。</p>
</li>
<li><p><strong>开闭原则</strong>（Open Close Principle）</p>
<p> 开放封闭原则主要体现在对扩展开放、对修改封闭，意味着有新的需求或变化时，可以对现有代码进行扩展，以适应新的情况。软件需求总是变化的，世界上没有一个软件的是不变的，因此对软件设计人员来说，必须在不需要对原有系统进行修改的情况下，实现灵活的系统扩展。</p>
<p> 可以通过Template Method模式和Strategy模式进行重构，实现对修改封闭，对扩展开放的设计思路。<br> 封装变化，是实现开放封闭原则的重要手段，对于经常发生变化的状态，一般将其封装为一个抽象，拒绝滥用抽象，只将经常变化的部分进行抽象。</p>
</li>
<li><p><strong>组合/聚合复用原则</strong>（Composite/Aggregate Reuse Principle CARP）  </p>
<p> 其实整个设计模式就是在讲如何类与类之间的组合/聚合。在一个新的对象里面通过关联关系（包括组合关系和聚合关系）使用一些已有的对象，使之成为新对象的一部分，新对象通过委派调用已有对象的方法达到复用其已有功能的目的。也就是，要尽量使用类的合成复用，尽量不要使用继承。</p>
<p> 如果为了复用，便使用继承的方式将两个不相干的类联系在一起，违反里氏代换原则，哪是生搬硬套，忽略了继承了缺点。继承复用破坏数据封装性，将基类的实现细节全部暴露给了派生类，基类的内部细节常常对派生类是透明的，白箱复用；虽然简单，但不安全，不能在程序的运行过程中随便改变；基类的实现发生了改变，派生类的实现也不得不改变；从基类继承而来的派生类是静态的，不可能在运行时间内发生改变，因此没有足够的灵活性。</p>
<p> 组合/聚合复用原则可以使系统更加灵活，类与类之间的耦合度降低，一个类的变化对其他类造成的影响相对较少，因此一般首选使用组合/聚合来实现复用；其次才考虑继承，在使用继承时，需要严格遵循里氏代换原则，有效使用继承会有助于对问题的理解，降低复杂度，而滥用继承反而会增加系统构建和维护的难度以及系统的复杂度，因此需要慎重使用继承复用。</p>
</li>
</ol>
<p>　</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="LeoChan" />
          <p class="site-author-name" itemprop="name">LeoChan</p>
           
              <p class="site-description motion-element" itemprop="description">描述啊</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">235</span>
                <span class="site-state-item-name">Artikel</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">43</span>
                <span class="site-state-item-name">Kategorien</span>
              
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LeoChan</span>
</div>


<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
