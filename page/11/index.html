<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LeoChan&#39;s 个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="描述啊">
<meta property="og:type" content="website">
<meta property="og:title" content="LeoChan&#39;s 个人博客">
<meta property="og:url" content="https://clq2owesome.github.io/page/11/index.html">
<meta property="og:site_name" content="LeoChan&#39;s 个人博客">
<meta property="og:description" content="描述啊">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeoChan&#39;s 个人博客">
<meta name="twitter:description" content="描述啊">
  
    <link rel="alternate" href="/atom.xml" title="LeoChan&#39;s 个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LeoChan&#39;s 个人博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">技术都是通用的，重要的是是否具有自主解决问题的能力！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://clq2owesome.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-服务器相关/Hessian/spring支持的几种远程调用方式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/服务器相关/Hessian/spring支持的几种远程调用方式/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/服务器相关/">服务器相关</a>►<a class="article-category-link" href="/categories/服务器相关/Hessian/">Hessian</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/服务器相关/Hessian/spring支持的几种远程调用方式/">spring支持的几种远程调用方式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><blockquote>
<p>spring 官方文档：<a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#remoting" target="_blank" rel="external">http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#remoting</a></p>
<h2 id="传输对象，接口，接口实现类"><a href="#传输对象，接口，接口实现类" class="headerlink" title="传输对象，接口，接口实现类"></a>传输对象，接口，接口实现类</h2><h4 id="传输对象DTO"><a href="#传输对象DTO" class="headerlink" title="传输对象DTO"></a>传输对象DTO</h4><p>必须实现Serializable接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public class Account implements Serializable&#123;</div><div class="line"></div><div class="line">    private String name;</div><div class="line"></div><div class="line">    public String getName()&#123;</div><div class="line">        return name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setName(String name) &#123;</div><div class="line">        this.name = name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</blockquote>
<h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public interface AccountService &#123;</div><div class="line"></div><div class="line">    public void insertAccount(Account account);</div><div class="line"></div><div class="line">    public List&lt;Account&gt; getAccounts(String name);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="实现类"><a href="#实现类" class="headerlink" title="实现类"></a>实现类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// the implementation doing nothing at the moment</div><div class="line">public class AccountServiceImpl implements AccountService &#123;</div><div class="line"></div><div class="line">    public void insertAccount(Account acc) &#123;</div><div class="line">        // do something...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public List&lt;Account&gt; getAccounts(String name) &#123;</div><div class="line">        // do something...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Remote-Method-Invocation-RMI"><a href="#Remote-Method-Invocation-RMI" class="headerlink" title="Remote Method Invocation (RMI)"></a>Remote Method Invocation (RMI)</h2><h4 id="服务端（远程调用提供端）"><a href="#服务端（远程调用提供端）" class="headerlink" title="服务端（远程调用提供端）"></a>服务端（远程调用提供端）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;accountService&quot; class=&quot;example.AccountServiceImpl&quot;&gt;</div><div class="line">    &lt;!-- any additional properties, maybe a DAO? --&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;bean class=&quot;org.springframework.remoting.rmi.RmiServiceExporter&quot;&gt;</div><div class="line">    &lt;!-- does not necessarily have to be the same name as the bean to be exported --&gt;</div><div class="line">    &lt;property name=&quot;serviceName&quot; value=&quot;AccountService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;service&quot; ref=&quot;accountService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;</div><div class="line">    &lt;!-- defaults to 1099 --&gt;</div><div class="line">    &lt;property name=&quot;registryPort&quot; value=&quot;1199&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>这样，远程服务就会绑定到<code>rmi://HOST:1199/AccountService</code></p>
<h4 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;bean class=&quot;example.SimpleObject&quot;&gt;</div><div class="line">    &lt;property name=&quot;accountService&quot; ref=&quot;accountService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div><div class="line"></div><div class="line">&lt;bean id=&quot;accountService&quot; class=&quot;org.springframework.remoting.rmi.RmiProxyFactoryBean&quot;&gt;</div><div class="line">    &lt;property name=&quot;serviceUrl&quot; value=&quot;rmi://HOST:1199/AccountService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>使用远程接口：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class SimpleObject &#123;</div><div class="line"></div><div class="line">    private AccountService accountService;</div><div class="line"></div><div class="line">    public void setAccountService(AccountService accountService) &#123;</div><div class="line">        this.accountService = accountService;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // additional methods using the accountService</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Hessian-or-Burlap"><a href="#Hessian-or-Burlap" class="headerlink" title="Hessian or Burlap"></a>Hessian or Burlap</h2><p>Hessian使用的是二进制方式的远程调用协议，官网：<a href="http://www.caucho.com" target="_blank" rel="external">http://www.caucho.com</a>   </p>
<h4 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h4><p>web.xml配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;servlet&gt;</div><div class="line">    &lt;servlet-name&gt;remoting&lt;/servlet-name&gt;</div><div class="line">    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;</div><div class="line">    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</div><div class="line">&lt;/servlet&gt;</div><div class="line"></div><div class="line">&lt;servlet-mapping&gt;</div><div class="line">    &lt;servlet-name&gt;remoting&lt;/servlet-name&gt;</div><div class="line">    &lt;url-pattern&gt;/remoting/*&lt;/url-pattern&gt;</div><div class="line">&lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure>
<p>需要在<code>WEB-INF</code>目录下添加<code>remoting-servlet.xml</code>配置文件,事实上，如果你的配置为<code>&lt;servlet-name&gt;hessian&lt;/servlet-name&gt;</code>,那么你的配置文件名就应该为<code>hessian-servlet.xml</code>   </p>
<p>remoting-servlet.xml配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;accountService&quot; class=&quot;example.AccountServiceImpl&quot;&gt;</div><div class="line">    &lt;!-- any additional properties, maybe a DAO? --&gt;</div><div class="line">&lt;/bean&gt;</div><div class="line"></div><div class="line">&lt;bean name=&quot;/AccountService&quot; class=&quot;org.springframework.remoting.caucho.HessianServiceExporter&quot;&gt;</div><div class="line">    &lt;property name=&quot;service&quot; ref=&quot;accountService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>这样，远程服务就绑定到地址：<a href="http://HOST:8080/remoting/AccountService" target="_blank" rel="external">http://HOST:8080/remoting/AccountService</a></p>
<h4 id="客户端-1"><a href="#客户端-1" class="headerlink" title="客户端"></a>客户端</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;bean class=&quot;example.SimpleObject&quot;&gt;</div><div class="line">    &lt;property name=&quot;accountService&quot; ref=&quot;accountService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div><div class="line"></div><div class="line">&lt;bean id=&quot;accountService&quot; class=&quot;org.springframework.remoting.caucho.HessianProxyFactoryBean&quot;&gt;</div><div class="line">    &lt;property name=&quot;serviceUrl&quot; value=&quot;http://remotehost:8080/remoting/AccountService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>Burlap 与 Hessian配置类似，只需要替换<code>org.springframework.remoting.caucho.HessianServiceExporter</code>和<code>org.springframework.remoting.caucho.HessianProxyFactoryBean</code>即可</p>
</li>
</ol>
<h2 id="HTTP-invokers-推荐"><a href="#HTTP-invokers-推荐" class="headerlink" title="HTTP invokers(推荐)"></a>HTTP invokers(推荐)</h2><h4 id="服务端-1"><a href="#服务端-1" class="headerlink" title="服务端"></a>服务端</h4><p>   HTTP invokers与Hessian配置类似，将<code>org.springframework.remoting.caucho.HessianServiceExporter</code>替换为<code>org.springframework.remoting.httpinvoker.HttpInvokerServiceExporter</code>即可<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;bean name=&quot;accountExporter&quot; class=&quot;org.springframework.remoting.httpinvoker.HttpInvokerServiceExporter&quot;&gt;</div><div class="line">    &lt;property name=&quot;service&quot; ref=&quot;accountService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure></p>
<p>   HTTP invokers默认使用JDK’s HTTP functionality作为HTTP客户端，你可以更改为使用<code>Apache HttpComponents client</code><br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;property name=&quot;httpInvokerRequestExecutor&quot;&gt;</div><div class="line">    &lt;bean class=&quot;org.springframework.remoting.httpinvoker.HttpComponentsHttpInvokerRequestExecutor&quot;/&gt;</div><div class="line">&lt;/property&gt;</div></pre></td></tr></table></figure></p>
<h4 id="客户端-2"><a href="#客户端-2" class="headerlink" title="客户端"></a>客户端</h4><p>   将<code>org.springframework.remoting.caucho.HessianProxyFactoryBean</code>替换为<code>org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean</code><br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;httpInvokerProxy&quot; class=&quot;org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean&quot;&gt;</div><div class="line">    &lt;property name=&quot;serviceUrl&quot; value=&quot;http://remotehost:8080/remoting/AccountService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/服务器相关/Hessian/spring支持的几种远程调用方式/" data-id="cjei8ydkl00dv7obluce32p48" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-服务器相关/Hessian/整合spring" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/服务器相关/Hessian/整合spring/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/服务器相关/">服务器相关</a>►<a class="article-category-link" href="/categories/服务器相关/Hessian/">Hessian</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/服务器相关/Hessian/整合spring/">整合spring</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><blockquote>
<p>hessian是一个采用二进制格式传输的服务框架，相对传统soap web service，更轻量，更快速。官网地址：<a href="http://hessian.caucho.com/" target="_blank" rel="external">http://hessian.caucho.com/</a></p>
<h2 id="加入依赖包"><a href="#加入依赖包" class="headerlink" title="加入依赖包"></a>加入依赖包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;com.caucho&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;hessian&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;4.0.37&lt;/version&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure>
</blockquote>
<h2 id="web-xml加入拦截"><a href="#web-xml加入拦截" class="headerlink" title="web.xml加入拦截"></a>web.xml加入拦截</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;servlet&gt;</div><div class="line">    &lt;servlet-name&gt;hessian&lt;/servlet-name&gt;</div><div class="line">    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;</div><div class="line">    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</div><div class="line">&lt;/servlet&gt;</div><div class="line">&lt;servlet-mapping&gt;</div><div class="line">    &lt;servlet-name&gt;hessian&lt;/servlet-name&gt;</div><div class="line">    &lt;url-pattern&gt;*.http&lt;/url-pattern&gt;</div><div class="line">&lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure>
<p>这样，以<code>.http</code>结尾的url都会转为远程服务</p>
</li>
</ol>
<h2 id="hessian-servlet-xml"><a href="#hessian-servlet-xml" class="headerlink" title="hessian-servlet.xml"></a>hessian-servlet.xml</h2><p>   发布远程调用接口<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;bean name=&quot;/services/whRemoteService.http&quot; class=&quot;org.springframework.remoting.caucho.HessianServiceExporter&quot;&gt;</div><div class="line">    &lt;property name=&quot;service&quot; ref=&quot;whRemoteService&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;com.xx.remote.service.WhRemoteService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li>调用地址:<a href="http://host/services/whRemoteService.http" target="_blank" rel="external">http://host/services/whRemoteService.http</a></li>
<li>service:远程调用接口名称</li>
<li>serviceInterface:远程调用接口地址</li>
</ul>
<h2 id="调用方配置：applicationContext-remoting-xml"><a href="#调用方配置：applicationContext-remoting-xml" class="headerlink" title="调用方配置：applicationContext-remoting.xml"></a>调用方配置：applicationContext-remoting.xml</h2>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;whRemoteService&quot; class=&quot;org.springframework.remoting.caucho.HessianProxyFactoryBean&quot;&gt;</div><div class="line">    &lt;property name=&quot;serviceUrl&quot; value=&quot;http://host/services/whRemoteService.http&quot;/&gt;</div><div class="line">    &lt;property name=&quot;serviceInterface&quot; value=&quot;com.xx.remote.service.WhRemoteService&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>   传输的对象必须是序列化的，也就是要implements Serializable接口</p>
<h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">public interface OssPaymentRemoteService &#123;</div><div class="line"></div><div class="line">	public List&lt;TransactionRecordDTO&gt; majorAccountSearch(Map&lt;String, Object&gt; params, Integer pageNo, Integer pageSize);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="传输对象dto"><a href="#传输对象dto" class="headerlink" title="传输对象dto"></a>传输对象dto</h4>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public class TransactionRecordDTO  implements Serializable &#123;</div><div class="line">	private static final long serialVersionUID = 1L;</div><div class="line"></div><div class="line">    private Byte type;</div><div class="line">    </div><div class="line">    //getter and setter</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="接口实现类"><a href="#接口实现类" class="headerlink" title="接口实现类"></a>接口实现类</h4>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public class OssPaymentRemoteServiceImpl  implements OssPaymentRemoteService &#123;</div><div class="line">	private Logger logger = LoggerFactory.getLogger(OssPaymentRemoteServiceImpl.class);</div><div class="line"></div><div class="line"></div><div class="line">	@Override</div><div class="line">	public List&lt;TransactionRecordDTO&gt; majorAccountSearch(Map&lt;String, Object&gt; params, Integer pageNo, Integer pageSize) &#123;</div><div class="line">	    //实现逻辑</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/服务器相关/Hessian/整合spring/" data-id="cjei8ydkn00e07obleeapxxag" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络/HTTP请求方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/网络/HTTP请求方法/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络/">网络</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/网络/HTTP请求方法/">HTTP请求方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>根据HTTP标准，HTTP请求可以使用多种请求方法。    </p>
<p>HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。  </p>
<p>HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>GET</td>
<td>请求指定的页面信息，并返回实体主体。</td>
</tr>
<tr>
<td>2</td>
<td>HEAD</td>
<td>类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头</td>
</tr>
<tr>
<td>3</td>
<td>POST</td>
<td>向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。</td>
</tr>
<tr>
<td>4</td>
<td>PUT</td>
<td>从客户端向服务器传送的数据取代指定的文档的内容。</td>
</tr>
<tr>
<td>5</td>
<td>DELETE</td>
<td>请求服务器删除指定的页面。</td>
</tr>
<tr>
<td>6</td>
<td>CONNECT</td>
<td>HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。</td>
</tr>
<tr>
<td>7</td>
<td>OPTIONS</td>
<td>允许客户端查看服务器的性能。</td>
</tr>
<tr>
<td>8</td>
<td>TRACE</td>
<td>回显服务器收到的请求，主要用于测试或诊断。</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/网络/HTTP请求方法/" data-id="cjei8yde100287oblq9by23dm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络/TCP和UDP的区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/网络/TCP和UDP的区别/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络/">网络</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/网络/TCP和UDP的区别/">TCP和UDP的区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="TCP与UDP区别总结："><a href="#TCP与UDP区别总结：" class="headerlink" title="TCP与UDP区别总结："></a>TCP与UDP区别总结：</h3><ol>
<li>TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接</li>
<li>TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付</li>
<li>TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的<br>UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）</li>
<li>每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信</li>
<li>TCP首部开销20字节;UDP的首部开销小，只有8个字节</li>
<li>TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/网络/TCP和UDP的区别/" data-id="cjei8yde2002a7oblclvoqs2r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络/http 消息头" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/网络/http 消息头/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络/">网络</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/网络/http 消息头/">http 消息头</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="四种不同类型的头标："><a href="#四种不同类型的头标：" class="headerlink" title="四种不同类型的头标："></a>四种不同类型的头标：</h3><ol>
<li>通用头标：即可用于请求，也可用于响应，是作为一个整体而不是特定资源与事务相关联。</li>
<li>请求头标：允许客户端传递关于自身的信息和希望的响应形式。</li>
<li>响应头标：服务器和于传递自身信息的响应。</li>
<li>实体头标：定义被传送资源的信息。即可用于请求，也可用于响应。 </li>
</ol>
<h3 id="一般头字段"><a href="#一般头字段" class="headerlink" title="一般头字段"></a>一般头字段</h3><p>一般头字段可用于请求消息和响应消息。<br>| 名称                | 示例值                                |<br>| —————– | ———————————- |<br>| Cache-Control     | “max-age=10”                       |<br>| Connection        | “close”                            |<br>| Date              | “Tue, 11 Jul 2000 18:23:51 GMT”    |<br>| Pragma            | “no-cache”                         |<br>| Trailer           | “Date”                             |<br>| Transfer-Encoding | “chunked”                          |<br>| Upgrade           | “SHTTP/1.3”                        |<br>| Via               | “HTTP/1.1 Proxy1, HTTP/1.1 Proxy2” |<br>| Warning           | “112 Disconnected Operation”       |</p>
<h3 id="请求头字段"><a href="#请求头字段" class="headerlink" title="请求头字段"></a>请求头字段</h3><p>请求头字段仅用于请求消息。<br>| 名称                  | 示例值                                      |<br>| ——————- | —————————————- |<br>| Accept              | “text/html, image/*”                     |<br>| Accept-Charset      | “iso8859-5”                              |<br>| Accept-Encoding     | “gzip, compress”                         |<br>| Accept-Language     | “en, fr”                                 |<br>| Authorization       | [credentials]                            |<br>| Content-Encoding    | “gzip”                                   |<br>| Expect              | “100-continue”                           |<br>| From                | “user@microsoft.com”                     |<br>| Host                | “www.microsoft.com”                      |<br>| If-Match            | “entity_tag001”                          |<br>| If-Modified-Since   | “Tue, 11 Jul 2000 18:23:51 GMT”          |<br>| If-None-Match       | “entity_tag001”                          |<br>| If-Range            | “entity_tag001” or “Tue, 11 Jul 2000 18:23:51 GMT” |<br>| If-Unmodified-Since | “Tue, 11 Jul 2000 18:23:51 GMT”          |<br>| Max-Forwards        | “3”                                      |<br>| Proxy-Authorization | [credentials]                            |<br>| Range               | “bytes=100-599”                          |<br>| Referer             | “<a href="http://www.microsoft.com/resources.asp" target="_blank" rel="external">http://www.microsoft.com/resources.asp</a>“ |<br>| TE                  | “trailers”                               |<br>| User-Agent          | “Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)” |</p>
<h3 id="响应头字段"><a href="#响应头字段" class="headerlink" title="响应头字段"></a>响应头字段</h3><p>响应头字段仅用于响应消息。<br>| 名称                 | 示例值                                     |<br>| —————— | ————————————— |<br>| Accept-Ranges      | “none”                                  |<br>| Age                | “2147483648(2^31)”                      |<br>| ETag               | “b38b9-17dd-367c5dcd”                   |<br>| Last-Modified      | “Tue, 11 Jul 2000 18:23:51 GMT”         |<br>| Location           | “<a href="http://localhost/redirecttarget.asp" target="_blank" rel="external">http://localhost/redirecttarget.asp</a>“   |<br>| Proxy-Authenticate | [challenge]                             |<br>| Retry-After        | “Tue, 11 Jul 2000 18:23:51 GMT” or “60” |<br>| Server             | “Microsoft-IIS/5.0”                     |<br>| Vary               | “Date”                                  |<br>| WWW-Authenticate   | [challenge]                             |</p>
<h3 id="实体头字段"><a href="#实体头字段" class="headerlink" title="实体头字段"></a>实体头字段</h3><p>实体头字段可以用于请求消息或响应消息。实体头字段中包含消息实体正文的有关信息，如使用的编码格式。<br>| 名称               | 示例值                             |<br>| —————- | ——————————- |<br>| Allow            | “GET, HEAD”                     |<br>| Content-Encoding | “gzip”                          |<br>| Content-Language | “en”                            |<br>| Content-Length   | “8445”                          |<br>| Content-Location | “<a href="http://localhost/page.asp" target="_blank" rel="external">http://localhost/page.asp</a>“     |<br>| Content-MD5      | [md5-digest]                    |<br>| Content-Range    | “bytes 2543-4532/7898”          |<br>| Content-Type     | “text/html”                     |<br>| Expires          | “Tue, 11 Jul 2000 18:23:51 GMT” |<br>| Last-Modified    | “Tue, 11 Jul 2000 18:23:51 GMT” |</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/网络/http 消息头/" data-id="cjei8yde3002d7obljn4doac1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络/状态码" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/网络/状态码/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络/">网络</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/网络/状态码/">状态码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>当浏览者访问一个网页时，浏览者的浏览器会向网页所在服务器发出请求。当浏览器接收并显示网页前，此网页所在的服务器会返回一个包含HTTP状态码的信息头（server header）用以响应浏览器的请求。<br>HTTP状态码的英文为HTTP Status Code。</p>
<p>下面是常见的HTTP状态码：</p>
<ul>
<li>200 - 请求成功</li>
<li>301 - 资源（网页等）被永久转移到其它URL</li>
<li>404 - 请求的资源（网页等）不存在</li>
<li>500 - 内部服务器错误</li>
</ul>
<h2 id="HTTP状态码分类"><a href="#HTTP状态码分类" class="headerlink" title="HTTP状态码分类"></a>HTTP状态码分类</h2><p>HTTP状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型，后两个数字没有分类的作用。HTTP状态码共分为5种类型：<br>| 分类   | 分类描述                    |<br>| —- | ———————– |<br>| 1<strong>  | 信息，服务器收到请求，需要请求者继续执行操作  |<br>| 2</strong>  | 成功，操作被成功接收并处理           |<br>| 3<strong>  | 重定向，需要进一步的操作以完成请求       |<br>| 4</strong>  | 客户端错误，请求包含语法错误或无法完成请求   |<br>| 5**  | 服务器错误，服务器在处理请求的过程中发生了错误 |</p>
<p>HTTP状态码列表:<br>| 状态码  |             状态码英文名称             |                   中文描述                   |<br>| :–: | :—————————–: | :————————————–: |<br>| 100  |            Continue             |               继续。客户端应继续其请求               |<br>| 101  |       Switching Protocols       | 切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议 |<br>|      |                                 |                                          |<br>| 200  |               OK                |           请求成功。一般用于GET与POST请求            |<br>| 201  |             Created             |             已创建。成功请求并创建了新的资源             |<br>| 202  |            Accepted             |            已接受。已经接受请求，但未处理完成             |<br>| 203  |  Non-Authoritative Information  |   非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本   |<br>| 204  |           No Content            | 无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档 |<br>| 205  |          Reset Content          | 重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域 |<br>| 206  |         Partial Content         |           部分内容。服务器成功处理了部分GET请求           |<br>|      |                                 |                                          |<br>| 300  |        Multiple Choices         | 多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择 |<br>| 301  |        Moved Permanently        | 永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替 |<br>| 302  |              Found              |   临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI   |<br>| 303  |            See Other            |       查看其它地址。与301类似。使用GET和POST请求查看       |<br>| 304  |          Not Modified           | 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源 |<br>| 305  |            Use Proxy            |           使用代理。所请求的资源必须通过代理访问            |<br>| 306  |             Unused              |              已经被废弃的HTTP状态码               |<br>| 307  |       Temporary Redirect        |         临时重定向。与302类似。使用GET请求重定向          |<br>|      |                                 |                                          |<br>| 400  |           Bad Request           |            客户端请求的语法错误，服务器无法理解            |<br>| 401  |          Unauthorized           |               请求要求用户的身份认证                |<br>| 402  |        Payment Required         |                 保留，将来使用                  |<br>| 403  |            Forbidden            |         服务器理解请求客户端的请求，但是拒绝执行此请求          |<br>| 404  |            Not Found            | 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面 |<br>| 405  |       Method Not Allowed        |               客户端请求中的方法被禁止               |<br>| 406  |         Not Acceptable          |          服务器无法根据客户端请求的内容特性完成请求           |<br>| 407  |  Proxy Authentication Required  |    请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权     |<br>| 408  |        Request Time-out         |           服务器等待客户端发送的请求时间过长，超时           |<br>| 409  |            Conflict             |   服务器完成客户端的PUT请求是可能返回此代码，服务器处理请求时发生了冲突   |<br>| 410  |              Gone               | 客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置 |<br>| 411  |         Length Required         |    服务器无法处理客户端发送的不带Content-Length的请求信息    |<br>| 412  |       Precondition Failed       |              客户端请求信息的先决条件错误              |<br>| 413  |    Request Entity Too Large     | 由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息 |<br>| 414  |      Request-URI Too Large      |        请求的URI过长（URI通常为网址），服务器无法处理        |<br>| 415  |     Unsupported Media Type      |             服务器无法处理请求附带的媒体格式             |<br>| 416  | Requested range not satisfiable |                客户端请求的范围无效                |<br>| 417  |       Expectation Failed        |           服务器无法满足Expect的请求头信息            |<br>|      |                                 |                                          |<br>| 500  |      Internal Server Error      |              服务器内部错误，无法完成请求              |<br>| 501  |         Not Implemented         |            服务器不支持请求的功能，无法完成请求            |<br>| 502  |           Bad Gateway           |      充当网关或代理的服务器，从远端服务器接收到了一个无效的请求       |<br>| 503  |       Service Unavailable       | 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中 |<br>| 504  |        Gateway Time-out         |        充当网关或代理的服务器，未及时从远端服务器获取请求         |<br>| 505  |   HTTP Version not supported    |        服务器不支持请求的HTTP协议的版本，无法完成处理         |</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/网络/状态码/" data-id="cjei8yde4002f7obldrc3hh0b" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络/HTTP 消息结构" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/网络/HTTP 消息结构/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络/">网络</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/网络/HTTP 消息结构/">HTTP 消息结构</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Http-Message结构"><a href="#Http-Message结构" class="headerlink" title="Http Message结构"></a>Http Message结构</h3><p>了解Http Message先看下图：<br><img src="http://pic002.cnblogs.com/img/hyddd/200904/2009041900523663.jpg" alt="image">  </p>
<p>Http Message包含3个部分：</p>
<ul>
<li><strong>请求行/状态行</strong></li>
<li><p><strong>消息头（Message Header）</strong></p>
<ul>
<li>常规头</li>
<li>请求头</li>
<li>响应头</li>
<li>实体头</li>
</ul>
</li>
<li><p><strong>消息体（Message Body）</strong>，这个是可选的。</p>
</li>
</ul>
<h4 id="Http-Message分两类："><a href="#Http-Message分两类：" class="headerlink" title="Http Message分两类："></a>Http Message分两类：</h4><h5 id="1-请求消息（Request-Message）"><a href="#1-请求消息（Request-Message）" class="headerlink" title="1.请求消息（Request Message）"></a>1.请求消息（Request Message）</h5><p>Request Message结构如下：<br><img src="http://images.cnblogs.com/cnblogs_com/hyddd/WindowsLiveWriter/Http_F92D/Request_4.jpg" alt="image"> </p>
<ol>
<li><strong>请求行（Request-Line）</strong>: </li>
</ol>
<p><img src="http://pic002.cnblogs.com/img/hyddd/200904/2009041900533376.jpg" alt="image">         </p>
<ul>
<li>Http方法（Http Method）：主要有8类：GET,POST……下面会介绍。</li>
<li>Request-URI：请求操作的资源。</li>
<li>Http-Version：Http的版本，如：Http/1.0，Http/1.1</li>
</ul>
<ol>
<li><strong>消息头</strong>：<br>请求消息（Request Message）不应包含响应头。</li>
</ol>
<h5 id="2-响应消息（Response-Message）"><a href="#2-响应消息（Response-Message）" class="headerlink" title="2.响应消息（Response Message）"></a>2.响应消息（Response Message）</h5><p>Response Message结构如下：<br><img src="http://pic002.cnblogs.com/img/hyddd/200904/2009041900535013.jpg" alt="image">   </p>
<ol>
<li><strong>状态行（Status-Line）结构</strong>：<br><img src="http://pic002.cnblogs.com/img/hyddd/200904/2009041900541065.jpg" alt="image">   </li>
</ol>
<ul>
<li><p>Http-Version：Http的版本，如：Http/1.0，Http/1.1</p>
</li>
<li><p>Status-Code（状态码）：状态码是一个三位数字，我对状态码的理解是：对请求(request)做出响应的类型/结果。</p>
<p>  状态码第一位数字定义了响应类型，这里分为5种：</p>
<p>  -1XX：Informational，请求接收到了，正在进一步的处理中（Request received, continuing process）。</p>
<p>  -2XX：Success，表示用户请求被正确接收（The action was successfully received,understood, and accepted），这里典型的是：200 OK</p>
<p>  -3XX：Redirection，表示请求没有成功，客户必须采取进一步的动作 (Further action must be taken in order to complete the request.)</p>
<p>  -4XX：Client Error，表示客户端提交的请求有错误（The request contains bad syntax or cannot be fulfilled），典型的有：404 Not Found</p>
<p>  -5XX：Server Error，表示服务器不能完成对请求的处理 (The server failed to fulfill an apparently valid request)，典型的是：503 Service Unavailable</p>
</li>
</ul>
<ol>
<li><strong>消息头</strong>：<br>响应消息（Response Message）不应包含请求头。</li>
</ol>
<h4 id="Http消息头包括4类："><a href="#Http消息头包括4类：" class="headerlink" title="Http消息头包括4类："></a>Http消息头包括4类：</h4><p>Http消息头（Message Header），主要是带上一些处理HTTP消息所需的辅助信息。<br>​<br>Http消息头结构如下：<br><img src="http://pic002.cnblogs.com/img/hyddd/200904/2009041901110863.jpg" alt="image">   </p>
<ul>
<li><p><strong>Field-Name</strong>：下面提到的，如：Cache-Control，Date…等，这些就是Field-Name，在RFC文档中Field-Name的数量是有限的，只有43个，而你自己可以增加自定义的Field-Name，但由于浏览器是按照RFC规范实施的（当然它们也有它们自定义的消息头），所以除非是自己实现服务器和客户端，否则，自定义的Field-Name一般没用。</p>
</li>
<li><p><strong>Field-Vlaue</strong>：根据Field-Name的不同，会有不同的Field-Value</p>
</li>
</ul>
<ol>
<li><strong>常规头</strong></li>
</ol>
<p>常规头（generl-header）：request和response都有可能会用到的，但和消息体无关的一些附加信息。</p>
<p>  (1).Cache-Control（14.9）</p>
<p>  (2).Connection（14.10）</p>
<p>  (3).Date（14.18）</p>
<p>  (4).Pragma（14.32）</p>
<p>  (5).Trailer（14.40）</p>
<p>  (6).Transfer-Encoding（14.41）</p>
<p>  (7).Upgrade（14.42）</p>
<p>  (8).Via（14.45）</p>
<p>  (9).Warning（14.46）</p>
<ol>
<li><strong>请求头</strong></li>
</ol>
<p>请求头（request-header）：一些关于客户端/request的附加信息。</p>
<p>  (1).Accept（14.1）</p>
<p>  (2).Accept-Charset（14.2）</p>
<p>  (3).Accept-Encoding（14.3）</p>
<p>  (4).Accept-Language（14.4）</p>
<p>  (5).Authorization（14.8）</p>
<p>  (6).Expect（14.20）</p>
<p>  (7).From（14.22）</p>
<p>  (8).Host（14.23）</p>
<p>  (9).If-Match（14.24）</p>
<p>  (10).If-Modified-Since（14.25）</p>
<p>  (11).If-None-Match（14.26）</p>
<p>  (12).If-Range（14.27）</p>
<p>  (13).If-Unmodified-Since（14.28）</p>
<p>  (14).Max-Forwards（14.31）</p>
<p>  (15).Proxy-Authorization（14.34）</p>
<p>  (16).Range（14.35）</p>
<p>  (17).Referer（14.36）</p>
<p>  (18).TE（14.39）</p>
<p>  (19).User-Agent（14.43）</p>
<ol>
<li><strong>响应头</strong></li>
</ol>
<p>响应头（response header）：一些关于响应（response）的附加信息。</p>
<p>  (1).Accept-Ranges（14.5）</p>
<p>  (2).Age（14.6）</p>
<p>  (3).ETag（14.19）</p>
<p>  (4).Location（14.30）</p>
<p>  (5).Proxy-Authenticate（14.33）</p>
<ol>
<li><strong>实体头</strong></li>
</ol>
<p>实体头（entity-header）：和消息体有关的附加信息。</p>
<p>  (1).Allow（14.7）</p>
<p>  (2).Content-Encoding（14.11）</p>
<p>  (3).Content-Language（14.12）</p>
<p>  (4).Content-Length（14.13）</p>
<p>  (5).Content-Location（14.14）</p>
<p>  (6).Content-MD5（14.15）</p>
<p>  (7).Content-Range（14.16）</p>
<p>  (8).Content-Type（14.17）</p>
<p>  (9).Expires（14.21）</p>
<p>  (11).Last-Modified（14.29）</p>
<p>  (12).extension-header</p>
<p>看到这里你可能会很奇怪，为什么会没有Cookie，Content-Disposition这种常见的信息头？！这里我说一下，Content-Disposition不是HTTP标准的一部分，但它在其他RFC文档中定义了（RFC1806）。而Cookie呢？首先看看Cookie是用来干嘛的：Cookie和Session是为了解决Http协议中无状态的问题，由于Http的设计者们时就没打算让Http有状态这种特性，故Cookie这种东西是肯定不可能是Http标准中的一部分。其实，它们都属于上面所说的：extension-header。其实各种浏览器都有它们自定义的扩展头，特别是IE！</p>
<h4 id="Http-1-1方法："><a href="#Http-1-1方法：" class="headerlink" title="Http/1.1方法："></a>Http/1.1方法：</h4><p>1.<strong>OPTIONS</strong>：简单说它的作用是查询信息，例如：查询服务器的能力(能干些什么)/查询操作该资源需要一些什么……当然，你可以不查询，直接操作资源/向服务器发送请求，如果服务器直接，它会告诉你成功/失败，如果服务器不支持，它也会告诉你不支持，但这样效率比较低，因为你操作了资源/你需要初始化资源，而OPTIONS不会执行这些操作，它仅仅是询问，当你不知道能否对资源执行此操作时，可以使用OPTIONS提高效率。</p>
<p>2.<strong>GET</strong>：请求资源</p>
<p>3.<strong>HEAD</strong>：主要是获取服务器响应的头信息，它的响应消息(response message)没有消息体(message body)，只有消息头(message headers)，作用是获取服务器的一些信息，如：Cache-Control等，以给客户端足够的信息决定接下来该如何去做。</p>
<p>4.<strong>POST</strong>：更新资料</p>
<p>5.<strong>PUT</strong>：如果请求的URI是已经存在的资源，则PUT请求所附的实体应被当作修改服务器中的资源，成功的话返回200或者204。如果请求的URI资源不存在，则URI可以被定义成新的资源，这时，服务器必须通过201（建立）响应通知用户。</p>
<p>POST和PUT不同点在反映在对request-URI的不同意义。使用POST方法时，URI资源会处理POST所提交的数据，这时的URI资源可以看作是接收并处理数据的程序。而使用PUT方法时，请求(request)中的实体数据会被认为是URI资源，而服务器不会试图用其他资源去接收这个请求。</p>
<p>6.<strong>DELETE</strong>：要求服务器释放请求(request)中URI所指向的资源。在服务器上，DELETE方法可能会被强行制止，所以客户端不能担保操作已经实现，即使服务器返回的状态码说明操作已经成功完成了（当然，如果服务器返回了成功，说明服务器已经打算去删除/移动需要被删除的资源了）。</p>
<p>7.<strong>TRACE</strong>：TRACE 方法用于引起远程的，该请求消息的应用层回射。请求的最终接收者应该反射200（OK）响应，并以该消息作为客户端回收消息的实体。最终接收者是原始服务器或第一个收到请求中的Max-Forwards值为0（0）的代理或网关。TRACE请求(注意是请求不是响应)不能包括实体。以上是RFC文档的解释，或许你没看明白上面到底想说什么，但只要你知道它的作用，你大概也能猜到了:&gt;，TRACE作用是：允许客户端看见请求链上的另一端收到了什么，然后使用该数据作为测试或诊断信息。就是说响应请求(response)的实体里包含了服务器/网关接收到的数据，而其中消息头Via的值有特殊作用，将它作为请求链路径。使用Max-Forwards头部域允许客户端限制请求链的长度，这对于测试无限循环转发消息的代理链非常有用。</p>
<p>8.<strong>CONNECT</strong>：规范保留 CONNECT 方法名。该方法用于代理，使之能够动态切换隧道（例如 SSL隧道）。</p>
<p>9.<strong>extension-method</strong></p>
<h3 id="客户端请求消息"><a href="#客户端请求消息" class="headerlink" title="客户端请求消息"></a>客户端请求消息</h3><p>客户端发送一个HTTP请求到服务器的请求消息包括以下格式：请求行（request line）、请求头部（header）、空行和请求数据四个部分组成，下图给出了请求报文的一般格式。<br><img src="http://www.runoob.com/wp-content/uploads/2013/11/2012072810301161.png" alt="image"></p>
<h3 id="服务器响应消息"><a href="#服务器响应消息" class="headerlink" title="服务器响应消息"></a>服务器响应消息</h3><p>HTTP响应也由四个部分组成，分别是：状态行、消息报头、空行和响应正文。<br><img src="http://www.runoob.com/wp-content/uploads/2013/11/httpmessage.jpg" alt="image">   </p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>下面实例是一点典型的使用GET来传递数据的实例：<br>客户端请求：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">GET /hello.txt HTTP/1.1</div><div class="line">User-Agent: curl/7.16.3 libcurl/7.16.3 OpenSSL/0.9.7l zlib/1.2.3</div><div class="line">Host: www.example.com</div><div class="line">Accept-Language: en, mi</div></pre></td></tr></table></figure></p>
<p>服务端响应:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 200 OK</div><div class="line">Date: Mon, 27 Jul 2009 12:28:53 GMT</div><div class="line">Server: Apache</div><div class="line">Last-Modified: Wed, 22 Jul 2009 19:15:56 GMT</div><div class="line">ETag: &quot;34aa387-d-1568eb00&quot;</div><div class="line">Accept-Ranges: bytes</div><div class="line">Content-Length: 51</div><div class="line">Vary: Accept-Encoding</div><div class="line">Content-Type: text/plain</div></pre></td></tr></table></figure></p>
<p>输出结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Hello World! My payload includes a trailing CRLF.</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/网络/HTTP 消息结构/" data-id="cjei8yddy00217oblmh7zm93w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络/CDN" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/网络/CDN/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络/">网络</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/网络/CDN/">CDN</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><p>全称:Content Delivery Network或Content Ddistribute Network，即内容分发网络</p>
<h3 id="基本思路："><a href="#基本思路：" class="headerlink" title="基本思路："></a>基本思路：</h3><p>尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。</p>
<p>通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。</p>
<h3 id="目的："><a href="#目的：" class="headerlink" title="目的："></a>目的：</h3><p>解决因分布、带宽、服务器性能带来的访问延迟问题，适用于站点加速、点播、直播等场景。使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度和成功率。</p>
<p>控制时延无疑是现代信息科技的重要指标，CDN的意图就是尽可能的减少资源在转发、传输、链路抖动等情况下顺利保障信息的连贯性。</p>
<p>CDN就是扮演者护航者和加速者的角色，更快准狠的触发信息和触达每一个用户，带来更为极致的使用体验。</p>
<h3 id="基础架构："><a href="#基础架构：" class="headerlink" title="基础架构："></a>基础架构：</h3><p>最简单的CDN网络由一个DNS服务器和几台缓存服务器组成：</p>
<ol>
<li>当用户点击网站页面上的内容URL，经过本地DNS系统解析，DNS系统会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。</li>
<li>CDN的DNS服务器将CDN的全局负载均衡设备IP地址返回用户。</li>
<li>用户向CDN的全局负载均衡设备发起内容URL访问请求。</li>
<li>CDN全局负载均衡设备根据用户IP地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。</li>
<li>区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户IP地址，判断哪一台服务器距用户最近；根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的IP地址。</li>
<li>全局负载均衡设备把服务器的IP地址返回给用户。</li>
<li>用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。</li>
</ol>
<h3 id="服务模式："><a href="#服务模式：" class="headerlink" title="服务模式："></a>服务模式：</h3><p>简单地说，CDN是一个经策略性部署的整体系统，包括分布式存储、负载均衡、网络请求的重定向和内容管理4个要件，而内容管理和全局的网络流量管理(Traffic Management)是CDN的核心所在。</p>
<p>通过用户就近性和服务器负载的判断，CDN确保内容以一种极为高效的方式为用户的请求提供服务。</p>
<h3 id="举例说明："><a href="#举例说明：" class="headerlink" title="举例说明："></a>举例说明：</h3><p>国内访问量较高的网站、直播、视频平台，均使用CDN网络加速技术，虽然网站的访问巨大，但无论在什么地方访问都会感觉速度很快。而一般的网站如果服务器在网通，电信用户访问很慢，如果服务器在电信，网通用户访问又很慢。</p>
<p>通过在现有的Internet中增加一层新的网络架构，将网站的内容发布到最接近用户的cache服务器内，通过DNS负载均衡的技术，判断用户来源就近访问cache服务器取得所需的内容，解决Internet网络拥塞状况，提高用户访问网站的响应速度，如同提供了多个分布在各地的加速器，以达到快速、可冗余的为多个网站加速的目的。</p>
<p>CDN服务最初用于确保快速可靠地分发静态内容，这些内容可以缓存，最适合在网速庞大的网络中存储和分发，该网络在几十多个国家的十几个网络中的覆盖CDN网络服务器。由于动态内容必须通过互联网来传输，因此要提供快速的网络体验。如今的CDN可谓是大文件、小文件、点播、直播、动静皆宜！</p>
<p><img src="https://raw.githubusercontent.com/clq2owesome/image/master/v2-9b12ed731f01f8425c688bb13e0d913e_hd.jpg" alt="image"></p>
<h3 id="主要特点："><a href="#主要特点：" class="headerlink" title="主要特点："></a>主要特点：</h3><ol>
<li><strong>本地Cache加速</strong>                       提高了企业站点（尤其含有大量图片和静态页面站点）的访问速度，并大大提高以上性质站点的稳定性</li>
<li><strong>镜像服务</strong> 消除了不同运营商之间互联的瓶颈造成的影响，实现了跨运营商的网络加速，保证不同网络中的用户都能得到良好的访问质量。</li>
<li><strong>远程加速</strong> 远程访问用户根据DNS负载均衡技术 智能自动选择Cache服务器，选择最快的Cache服务器，加快远程访问的速度</li>
<li><strong>带宽优化</strong> 自动生成服务器的远程Mirror（镜像）cache服务器，远程用户访问时从cache服务器上读取数据，减少远程访问的带宽、分担网络流量、减轻原站点WEB服务器负载等功能。</li>
<li><strong>集群抗攻击</strong> 广泛分布的CDN节点加上节点之间的智能冗余机制，可以有效地预防黑客入侵以及降低各种D.D.o.S攻击对网站的影响，同时保证较好的服务质量 。</li>
</ol>
<h3 id="关键技术："><a href="#关键技术：" class="headerlink" title="关键技术："></a>关键技术：</h3><ul>
<li><strong>内容发布</strong>：它借助于建立索引、缓存、流分裂、组播（Multicast）等技术</li>
<li><strong>内容路由</strong>：它是整体性的网络负载均衡技术，通过内容路由器中的重定向（DNS）机制，在多个远程POP上均衡用户的请求，以使用户请求得到最近内容源的响应；</li>
<li><strong>内容交换</strong>：它根据内容的可用性、服务器的可用性以及用户的背景，在POP的缓存服务器上，利用应用层交换、流分裂、重定向（ICP、WCCP）等技术，智能地平衡负载流量；</li>
<li><strong>性能管理</strong>：它通过内部和外部监控系统，获取网络部件的状况信息，测量内容发布的端到端性能（如包丢失、延时、平均带宽、启动时间、帧速率等），保证网络处于最佳的运行状态。</li>
</ul>
<h3 id="适用范围："><a href="#适用范围：" class="headerlink" title="适用范围："></a>适用范围：</h3><p><strong>一般来说以资讯、内容等为主的网站，具有一定访问体量的网站</strong><br>例如资讯网站、政府机构网站、行业平台网站、商城等以动态内容为主的网站  </p>
<p>例如论坛、博客、交友、SNS、网络游戏、搜索/查询、金融等。提供http下载的网站</p>
<p>例如软件开发商、内容服务提供商、网络游戏运行商、源码下载等有大量流媒体点播应用的网站 </p>
<p>例如：拥有视频点播平台的电信运营商、内容服务提供商、体育频道、宽频频道、在线教育、视频博客等</p>
<h3 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h3><ol>
<li><p><strong>CDN加速是对网站所在服务器加速，还是对其域名加速？</strong>    </p>
<p> CDN是只对网站的某一个具体的域名加速。如果同一个网站有多个域名，则访客访问加入CDN的域名获得加速效果，访问未加入CDN的域名，或者直接访问IP地址，则无法获得CDN效果。</p>
</li>
<li><p><strong>CDN和镜像站点比较有何优势？</strong><br> CDN对网站的访客完全透明，不需要访客手动选择要访问的镜像站点，保证了网站对访客的友好性。　　</p>
<p> CDN对每个节点都有可用性检查，不合格的节点会第一时间剔出，从而保证了极高的可用率，而镜像站点无法实现这一点。　　</p>
<p> CDN部署简单，对原站基本不做任何改动即可生效。</p>
</li>
<li><p><strong>CDN和双线机房相比有何优势？</strong>      </p>
<p> 常见的双线机房只能解决网通和电信互相访问慢的问题，其它ISP（譬如教育网，移动网，铁通）互通的问题还是没得到解决。　　而CDN是访问者就近取数据，而CDN的节点遍布各ISP，从而保证了网站到任意ISP的访问速度。另外CDN因为其流量分流到各节点的原理，天然获得抵抗网络攻击的能力。</p>
</li>
</ol>
<ol>
<li><p><strong>CDN使用后，原来的网站是否需要做修改，做什么修改？</strong>    </p>
<p> 一般而言，网站无需任何修改即可使用CDN获得加速效果。只是对需要判断访客IP程序，才需要做少量修改。</p>
</li>
<li><p><strong>为什么我的网站更新后，通过CDN后看到网页还是旧网页，如何解决？</strong>  </p>
<p> 由于CDN采用各节点缓存的机制，网站的静态网页和图片修改后，如果CDN缓存没有做相应更新，则看到的还是旧的网页。为了解决这个问题，CDN管理面板中提供了URL推送服务，来通知CDN各节点刷新自己的缓存。　　在URL推送地址栏中，输入具体的网址或者图片地址，则各节点中的缓存内容即被统一删除，并且当即生效。　　如果需要推送的网址和图片太多，可以选择目录推送，输入 <a href="http://www.kkk.com/news" target="_blank" rel="external">http://www.kkk.com/news</a> 即可以对网站下news目录下所有网页和图片进行了刷新。</p>
</li>
<li><p><strong>能不能让CDN不缓存某些即时性要求很高的网页和图片？</strong>     </p>
<p> 只需要使用动态页面，asp，php，jsp等动态技术做成的页面不被CDN缓存，无需每次都要刷新。或者采用一个网站两个域名，一个启用CDN，另外一个域名不用CDN，对即时性要求高的页面和图片放在不用CDN的域名下。</p>
</li>
<li><p><strong>网站新增了不少网页和图片，这些需要使用URL推送吗？</strong>       </p>
<p> 后来增加的网页和图片，不需要使用URL推送，因为它们本来就不存在缓存中。</p>
</li>
<li><p><strong>网站用CDN后，有些地区反映无法访问了，怎么办？</strong> </p>
<p> CDN启用后，访客不能访问网站有很多种可能，可能是CDN的问题，也可能是源站点出现故障或者源站点被关闭，还可能是访客自己所在的网络出现问题，甚至我们实际故障排除中，还出现过客户自己计算机中毒，导致无法访问网站。</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/网络/CDN/" data-id="cjei8yddx001y7obljfnvgdwa" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网络/7层网络协议" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/网络/7层网络协议/" class="article-date">
  <time datetime="2017-08-02T02:09:45.000Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络/">网络</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/02/网络/7层网络协议/">7层网络协议</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th>OSI中的层</th>
<th>功能</th>
<th>TCP/IP协议族</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用层</td>
<td>文件传输，电子邮件，文件服务，虚拟终端</td>
<td>TFTP，HTTP，SNMP，FTP，SMTP，DNS，Telnet</td>
</tr>
<tr>
<td>表示层</td>
<td>数据格式化，代码转换，数据加密</td>
<td>没有协议</td>
</tr>
<tr>
<td>会话层</td>
<td>解除或建立与别的接点的联系</td>
<td>没有协议</td>
</tr>
<tr>
<td>传输层</td>
<td>提供端对端的接口</td>
<td>TCP，UDP</td>
</tr>
<tr>
<td>网络层</td>
<td>为数据包选择路由</td>
<td>IP，ICMP，RIP，OSPF，BGP，IGMP</td>
</tr>
<tr>
<td>数据链路层</td>
<td>传输有地址的帧以及错误检测功能</td>
<td>SLIP，CSLIP，PPP，ARP，RARP，MTU</td>
</tr>
<tr>
<td>物理层</td>
<td>以二进制数据形式在物理媒体上传输数据</td>
<td>ISO2110，IEEE802。IEEE802.2</td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong>物理层</strong> 为数据链路层提供物理连接，在其上串行传送比特流，即所传送数据的单位是比特。此外，该层中还具有确定连接设备的电气特性和物理特性等功能。</p>
</li>
<li><p><strong>数据链路层</strong> 负责在网络节点间的线路上通过检测、流量控制和重发等手段，无差错地传送以帧为单位的数据。为做到这一点，在每一帧中必须同时带有同步、地址、差错控制及流量控制等控制信息。</p>
</li>
<li><p><strong>网络层</strong> 为了将数据分组从源（源端系统）送到目的地（目标端系统），网络层的任务就是选择合适的路由和交换节点，使源的传输层传下来的分组信息能够正确无误地按照地址找到目的地，并交付给相应的传输层，即完成网络的寻址功能。</p>
</li>
<li><p><strong>传输层</strong> 传输层是高低层之间衔接的接口层。数据传输的单位是报文，当报文较长时将它分割成若干分组,然后交给网络层进行传输。传输层是计算机网络协议分层中的最关键一层，该层以上各层将不再管理信息传输问题。</p>
</li>
<li><p><strong>会话层</strong> 该层对传输的报文提供同步管理服务。在两个不同系统的互相通信的应用进程之间建立、组织和协调交互。例如，确定是双工还是半双工工作。</p>
</li>
<li><p><strong>表示层</strong> 该层的主要任务是把所传送的数据的抽象语法变换为传送语法，即把不同计算机内部的不同表示形式转换成网络通信中的标准表示形式。此外，对传送的数据加密（或解密）、正文压缩（或还原）也是表示层的任务。</p>
</li>
<li><p><strong>应用层</strong> 该层直接面向用户，是OSI中的最高层。它的主要任务是为用户提供应用的接口，即提供不同计算机间的文件传送、访问与管理，电子邮件的内容处理，不同计算机通过网络交互访问的虚拟终端功能等。</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/08/02/网络/7层网络协议/" data-id="cjei8yddv001t7obljpz7rgqr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-数据库相关/mysql/设置mysql可以远程登录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/29/数据库相关/mysql/设置mysql可以远程登录/" class="article-date">
  <time datetime="2017-07-29T02:09:45.000Z" itemprop="datePublished">2017-07-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/数据库相关/">数据库相关</a>►<a class="article-category-link" href="/categories/数据库相关/mysql/">mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/29/数据库相关/mysql/设置mysql可以远程登录/">设置mysql可以远程登录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="打开远程连接"><a href="#打开远程连接" class="headerlink" title="打开远程连接"></a>打开远程连接</h1><h3 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -u root -h localhost -p</div></pre></td></tr></table></figure>
<h3 id="使用mysql数据库"><a href="#使用mysql数据库" class="headerlink" title="使用mysql数据库"></a>使用mysql数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">use mysql  #打开mysql数据库</div></pre></td></tr></table></figure>
<h3 id="更改用户连接的地址"><a href="#更改用户连接的地址" class="headerlink" title="更改用户连接的地址"></a>更改用户连接的地址</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#将host设置为%表示任何ip都能连接mysql，当然您也可以将host指定为某个ip</div><div class="line"></div><div class="line"></div><div class="line">update user set host=&apos;%&apos; where user=&apos;root&apos; and host=&apos;localhost&apos;;</div><div class="line"></div><div class="line">flush privileges;        #刷新权限表，使配置生效</div><div class="line"></div><div class="line">然后我们就能远程连接我们的mysql了。</div></pre></td></tr></table></figure>
<h1 id="关闭远程连接"><a href="#关闭远程连接" class="headerlink" title="关闭远程连接"></a>关闭远程连接</h1><p>如果您想关闭远程连接，恢复mysql的默认设置（只能本地连接），您可以通过以下步骤操作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">use mysql  #打开mysql数据库</div><div class="line"></div><div class="line">#将host设置为localhost表示只能本地连接mysql</div><div class="line"></div><div class="line">update user set host=&apos;localhost&apos; where user=&apos;root&apos;;</div><div class="line"></div><div class="line">flush privileges;        #刷新权限表，使配置生效</div></pre></td></tr></table></figure></p>
<h1 id="添加可以远程连接的用户"><a href="#添加可以远程连接的用户" class="headerlink" title="添加可以远程连接的用户"></a>添加可以远程连接的用户</h1><p>您也可以添加一个用户名为yuancheng，密码为123456，权限为%（表示任意ip都能连接）的远程连接用户。命令参考如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">grant all on *.* to &apos;yuancheng&apos;@&apos;%&apos; identified by &apos;123456&apos;;</div><div class="line"></div><div class="line">flush privileges;</div></pre></td></tr></table></figure></p>
<h1 id="更改3306端口监听所有地址（默认只监听127-0-0-1）"><a href="#更改3306端口监听所有地址（默认只监听127-0-0-1）" class="headerlink" title="更改3306端口监听所有地址（默认只监听127.0.0.1）"></a>更改3306端口监听所有地址（默认只监听127.0.0.1）</h1><h3 id="第一步：查看是都3306端口开启"><a href="#第一步：查看是都3306端口开启" class="headerlink" title="第一步：查看是都3306端口开启"></a>第一步：查看是都3306端口开启</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat -an | grep 3306</div></pre></td></tr></table></figure>
<p>如果结果显示类似：tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN<br>从结果可以看出3306端口只是在IP 127.0.0.1上监听，所以拒绝了其他IP的访问。</p>
<h3 id="第二步：修改配置文件"><a href="#第二步：修改配置文件" class="headerlink" title="第二步：修改配置文件"></a>第二步：修改配置文件</h3><p>修改文件 /etc/mysql/my.cnf文件，打开文件，找到下面内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># Instead of skip-networking the default is now to listen only on</div><div class="line"># localhost which is more compatible and is not less secure.</div><div class="line">bind-address  = 127.0.0.1</div></pre></td></tr></table></figure></p>
<p>把上面这一行注释掉或者把127.0.0.1换成合适的IP，建议注释掉。<br>重新启动后，重新使用netstat检测：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">~# netstat -an | grep 3306</div><div class="line">tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2017/07/29/数据库相关/mysql/设置mysql可以远程登录/" data-id="cjei8ydkj00dr7oblriwqwr4b" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/10/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/12/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Eclipse/">Eclipse</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Cookie/">Cookie</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JAXB/">JAXB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JavaMail/">JavaMail</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/分布式/">分布式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/加密解密／编码解码/">加密解密／编码解码</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/基础/">基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/数据类型/">数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/日记/">日记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/时间日期/">时间日期</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/线程/">线程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/网络NIO/">网络NIO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/队列/">队列</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/集合/">集合</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Application-Event/">Application Event</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/JPA/">JPA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Security/">Security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/">Spring Boot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Session/">Spring Session</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Task/">Task</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/spring-MVC/">spring MVC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/spring-data-redis/">spring data redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/基础/">基础</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/">前端技术相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/forever/">forever</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/javascript/">javascript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库相关/">数据库相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据库相关/mysql/">mysql</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/">服务器相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Hessian/">Hessian</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Hudson-Jenkins/">Hudson & Jenkins</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Memcached/">Memcached</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/red5/">red5</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/redis/">redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/resin/">resin</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则表达式/">正则表达式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/03/08/正则表达式/正则表达式/">正则表达式</a>
          </li>
        
          <li>
            <a href="/2018/02/25/Java/集合/Hashtable与ConcurrentHashMap区别/">Hashtable与ConcurrentHashMap区别</a>
          </li>
        
          <li>
            <a href="/2018/02/25/Java/分布式/分布式事务/">分布式事务</a>
          </li>
        
          <li>
            <a href="/2018/02/25/Java/分布式/分布式锁/">分布式锁</a>
          </li>
        
          <li>
            <a href="/2018/02/25/Java/集合/在List循环中删除元素/">在List循环中删除元素</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 LeoChan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>