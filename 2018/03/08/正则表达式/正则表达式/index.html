<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>正则表达式 | LeoChan&#39;s 个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="语法常用：  \d：代表任意一个数字，0~9的任意一个 \w：任意一个字母或数字或下划线，也就是 A~Z,a~z,0~9,_ 中任意一个 \s：包括空格、制表符、换页符等空白字符的其中任意一个 .：小数点可以匹配除了换行符（\n）以外的任意一个字符（包括数字） \b:匹配这样的位置(字符和边界符之间的位置)：它的前一个字符和后一个字符不全\w,单词边界符可以是中文符号、英文符号、空格、制表符、回车">
<meta property="og:type" content="article">
<meta property="og:title" content="正则表达式">
<meta property="og:url" content="https://clq2owesome.github.io/2018/03/08/正则表达式/正则表达式/index.html">
<meta property="og:site_name" content="LeoChan&#39;s 个人博客">
<meta property="og:description" content="语法常用：  \d：代表任意一个数字，0~9的任意一个 \w：任意一个字母或数字或下划线，也就是 A~Z,a~z,0~9,_ 中任意一个 \s：包括空格、制表符、换页符等空白字符的其中任意一个 .：小数点可以匹配除了换行符（\n）以外的任意一个字符（包括数字） \b:匹配这样的位置(字符和边界符之间的位置)：它的前一个字符和后一个字符不全\w,单词边界符可以是中文符号、英文符号、空格、制表符、回车">
<meta property="og:updated_time" content="2018-03-08T08:31:51.130Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="正则表达式">
<meta name="twitter:description" content="语法常用：  \d：代表任意一个数字，0~9的任意一个 \w：任意一个字母或数字或下划线，也就是 A~Z,a~z,0~9,_ 中任意一个 \s：包括空格、制表符、换页符等空白字符的其中任意一个 .：小数点可以匹配除了换行符（\n）以外的任意一个字符（包括数字） \b:匹配这样的位置(字符和边界符之间的位置)：它的前一个字符和后一个字符不全\w,单词边界符可以是中文符号、英文符号、空格、制表符、回车">
  
    <link rel="alternate" href="/atom.xml" title="LeoChan&#39;s 个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LeoChan&#39;s 个人博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">技术都是通用的，重要的是是否具有自主解决问题的能力！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://clq2owesome.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-正则表达式/正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/08/正则表达式/正则表达式/" class="article-date">
  <time datetime="2018-03-08T02:09:45.000Z" itemprop="datePublished">2018-03-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/正则表达式/">正则表达式</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      正则表达式
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p>常用：</p>
<ul>
<li><code>\d</code>：代表任意一个数字，0~9的任意一个</li>
<li><code>\w</code>：任意一个字母或数字或下划线，也就是 A~Z,a~z,0~9,_ 中任意一个</li>
<li><code>\s</code>：包括空格、制表符、换页符等空白字符的其中任意一个</li>
<li><code>.</code>：小数点可以匹配除了换行符（\n）以外的任意一个字符（包括数字）</li>
<li><code>\b</code>:匹配这样的位置(字符和边界符之间的位置)：它的前一个字符和后一个字符不全\w,单词边界符可以是中文符号、英文符号、空格、制表符、回车符号，以及各种边界，比如单词在开头，单词在结尾。 比如：”end\b”可以匹配”weekend”，”weekend “, “weekend,”等</li>
</ul>
<p>以上写法，当其为大写时刚好相反</p>
<ul>
<li><code>\S</code>：匹配所有非空白字符（”\s” 可匹配各个空白字符）</li>
<li><code>\D</code>：匹配所有的非数字字符</li>
<li><code>\W</code>：匹配所有的字母、数字、下划线以外的字符</li>
<li><code>\B</code>：<code>\b</code>相反，匹配字符和非边界符之间的位置,比如：”\Bee\B”可以匹配”weekend”</li>
</ul>
<p>特殊符号的含义：</p>
<ul>
<li><code>?</code>：匹配表达式0次或者1次，相当于 {0,1}，比如：”a[cd]?”可以匹配 “a”,”ac”,”ad”</li>
<li><code>+</code>：表达式至少出现1次，相当于 {1,}，比如：”a+b”可以匹配 “ab”,”aab”,”aaab”</li>
<li><code>*</code>：表达式不出现或出现任意次，相当于 {0,}，比如：”a*b”可以匹配 “b”,”aaaab”.</li>
<li><code>^</code>：与字符串开始的地方匹配，不匹配任何字符，比如：”^aaa”可以匹配”aaasdsd”，”\^a”可以匹配”^av”</li>
<li>$：与字符串结束的地方匹配，不匹配任何字符，比如：”aaa$”可以匹配”sdsdaaa”</li>
<li><code>|</code>：左右两边表达式之间 “或” 关系，匹配左边或者右边，比如“Tom|Jack‘可以匹配到”hi,Tom, i am Jack”</li>
</ul>
<h3 id="的用法"><a href="#的用法" class="headerlink" title="{}的用法"></a>{}的用法</h3><p>一般放在被修饰的表达式的后面</p>
<ul>
<li><code>{n}</code>：表达式重复n次，比如：”a{5}” 相当于 “aaaaa”</li>
<li><code>{m,n}</code>：表达式至少重复m次，最多重复n次，比如：”ba{1,3}”可以匹配 “ba”或”baa”或”baaa”</li>
<li><code>{m,}</code>：表达式至少重复m次，比如：”\w\d{2,}”可以匹配 “a12”,”_456”,”M12344”</li>
</ul>
<h3 id="的用法-1"><a href="#的用法-1" class="headerlink" title="[]的用法"></a>[]的用法</h3><p>使用方括号 [ ] 包含一系列字符，能够匹配其中任意一个字符。用 [^ ] 包含一系列字符，则能够匹配其中字符之外的任意一个字符。同样的道理，虽然可以匹配其中任意一个，但是只能是一个，不是多个。<br>例如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[ab5@] ：匹配 <span class="string">"a"</span> 或 <span class="string">"b"</span> 或 <span class="string">"5"</span> 或 <span class="string">"@"</span></div><div class="line">[^abc]：匹配 <span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span> 之外的任意一个字符</div><div class="line">[f-k]：匹配 <span class="string">"f"</span>~<span class="string">"k"</span> 之间的任意一个字母</div><div class="line">[^A-F0<span class="number">-3</span>]：匹配 <span class="string">"A"</span>~<span class="string">"F"</span>,<span class="string">"0"</span>~<span class="string">"3"</span> 之外的任意一个字符</div></pre></td></tr></table></figure></p>
<h3 id="的用法-2"><a href="#的用法-2" class="headerlink" title="()的用法"></a>()的用法</h3><p>括号的作用，其实三言两语就能说明白，括号提供了分组，便于我们引用它。</p>
<h4 id="1-分组和分支结构"><a href="#1-分组和分支结构" class="headerlink" title="1. 分组和分支结构"></a>1. 分组和分支结构</h4><p>这二者是括号最直接的作用，也是最原始的功能。</p>
<h5 id="1-1-分组"><a href="#1-1-分组" class="headerlink" title="1.1 分组"></a>1.1 分组</h5><p>我们知道/a+/匹配连续出现的“a”，而要匹配连续出现的“ab”时，需要使用/(ab)+/。</p>
<p>其中括号是提供分组功能，使量词“+”作用于“ab”这个整体，测试如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(ab)+/g</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"ababa abbb ababab"</span>;</div><div class="line"><span class="built_in">console</span>.log( string.match(regex) ); <span class="comment">// ["abab", "ab", "ababab"]</span></div></pre></td></tr></table></figure></p>
<h5 id="1-2-分支结构"><a href="#1-2-分支结构" class="headerlink" title="1.2 分支结构"></a>1.2 分支结构</h5><p>而在多选分支结构(p1|p2)中，此处括号的作用也是不言而喻的，提供了子表达式的所有可能  </p>
<p>比如，要匹配如下的字符串：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">I love JavaScript</div><div class="line">I love Regular Expression</div></pre></td></tr></table></figure></p>
<p>可以使用正则：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/^I love (JavaScript|Regular Expression)$/</span>;</div><div class="line"><span class="built_in">console</span>.log( regex.test(<span class="string">"I love JavaScript"</span>) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(<span class="string">"I love Regular Expression"</span>) ); <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p>如果去掉正则中的括号，即<code>/^I love JavaScript|Regular Expression$/</code>，匹配字符串是”I love JavaScript”和”Regular Expression”，当然这不是我们想要的。</p>
<h4 id="2-引用分组"><a href="#2-引用分组" class="headerlink" title="2. 引用分组"></a>2. 引用分组</h4><p>是括号一个重要的作用，有了它，我们就可以进行数据提取，以及更强大的替换操作。</p>
<p>而要使用它带来的好处，必须配合使用实际环境的API。</p>
<p>以日期为例。假设格式是yyyy-mm-dd的，我们可以先写一个简单的正则：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125;/</span>;</div></pre></td></tr></table></figure></p>
<p>然后再修改成括号版的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</div></pre></td></tr></table></figure></p>
<h5 id="2-1-提取数据"><a href="#2-1-提取数据" class="headerlink" title="2.1 提取数据"></a>2.1 提取数据</h5><p>比如提取出年、月、日，可以这么做：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"2017-06-12"</span>;</div><div class="line"><span class="built_in">console</span>.log( string.match(regex) ); </div><div class="line"><span class="comment">// =&gt; ["2017-06-12", "2017", "06", "12", index: 0, input: "2017-06-12"]</span></div></pre></td></tr></table></figure></p>
<p>match返回的一个数组，第一个元素是整体匹配结果，然后是各个分组（括号里）匹配的内容，然后是匹配下标，最后是输入的文本。（注意：如果正则是否有修饰符g，match返回的数组格式是不一样的）。</p>
<p>另外也可以使用正则对象的exec方法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"2017-06-12"</span>;</div><div class="line"><span class="built_in">console</span>.log( regex.exec(string) ); </div><div class="line"><span class="comment">// =&gt; ["2017-06-12", "2017", "06", "12", index: 0, input: "2017-06-12"]</span></div></pre></td></tr></table></figure></p>
<p>同时，也可以使用构造函数的全局属性$1至$9来获取：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"2017-06-12"</span>;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">1</span>); <span class="comment">// "2017"</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">2</span>); <span class="comment">// "06"</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">3</span>); <span class="comment">// "12"</span></div></pre></td></tr></table></figure></p>
<h5 id="2-2-替换"><a href="#2-2-替换" class="headerlink" title="2.2 替换"></a>2.2 替换</h5><p>比如，想把yyyy-mm-dd格式，替换成mm/dd/yyyy怎么做？<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"2017-06-12"</span>;</div><div class="line"><span class="keyword">var</span> result = string.replace(regex, <span class="string">"$2/$3/$1"</span>);</div><div class="line"><span class="built_in">console</span>.log(result); <span class="comment">// "06/12/2017"</span></div></pre></td></tr></table></figure></p>
<p>其中replace中的，第二个参数里用$1、$2、$3指代相应的分组。等价于如下的形式：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"2017-06-12"</span>;</div><div class="line"><span class="keyword">var</span> result = string.replace(regex, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="built_in">RegExp</span>.$<span class="number">2</span> + <span class="string">"/"</span> + <span class="built_in">RegExp</span>.$<span class="number">3</span> + <span class="string">"/"</span> + <span class="built_in">RegExp</span>.$<span class="number">1</span>;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(result); <span class="comment">// "06/12/2017"</span></div></pre></td></tr></table></figure></p>
<p>也等价于：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var regex = /(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/;</div><div class="line">var string = &quot;2017-06-12&quot;;</div><div class="line">var result = string.replace(regex, function(match, year, month, day) &#123;</div><div class="line">	return month + &quot;/&quot; + day + &quot;/&quot; + year;</div><div class="line">&#125;);</div><div class="line">console.log(result); // &quot;06/12/2017&quot;</div></pre></td></tr></table></figure></p>
<h4 id="3-反向引用"><a href="#3-反向引用" class="headerlink" title="3. 反向引用"></a>3. 反向引用</h4><p>除了使用相应API来引用分组，也可以在正则本身里引用分组。但只能引用之前出现的分组，即反向引用。</p>
<p>还是以日期为例。</p>
<p>比如要写一个正则支持匹配如下三种格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">2016-06-12</div><div class="line">2016/06/12</div><div class="line">2016.06.12</div></pre></td></tr></table></figure></p>
<p>最先可能想到的正则是:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/\d&#123;4&#125;(-|\/|\.)\d&#123;2&#125;(-|\/|\.)\d&#123;2&#125;/</span>;</div><div class="line"><span class="keyword">var</span> string1 = <span class="string">"2017-06-12"</span>;</div><div class="line"><span class="keyword">var</span> string2 = <span class="string">"2017/06/12"</span>;</div><div class="line"><span class="keyword">var</span> string3 = <span class="string">"2017.06.12"</span>;</div><div class="line"><span class="keyword">var</span> string4 = <span class="string">"2016-06/12"</span>;</div><div class="line"><span class="built_in">console</span>.log( regex.test(string1) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(string2) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(string3) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(string4) ); <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p>其中/和.需要转义。虽然匹配了要求的情况，但也匹配”2016-06/12”这样的数据。</p>
<p>假设我们想要求分割符前后一致怎么办？此时需要使用反向引用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/\d&#123;4&#125;(-|\/|\.)\d&#123;2&#125;\1\d&#123;2&#125;/</span>;</div><div class="line"><span class="keyword">var</span> string1 = <span class="string">"2017-06-12"</span>;</div><div class="line"><span class="keyword">var</span> string2 = <span class="string">"2017/06/12"</span>;</div><div class="line"><span class="keyword">var</span> string3 = <span class="string">"2017.06.12"</span>;</div><div class="line"><span class="keyword">var</span> string4 = <span class="string">"2016-06/12"</span>;</div><div class="line"><span class="built_in">console</span>.log( regex.test(string1) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(string2) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(string3) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(string4) ); <span class="comment">// false</span></div></pre></td></tr></table></figure></p>
<p>注意里面的\1，表示的引用之前的那个分组(-|\/|.)。不管它匹配到什么（比如-），\1都匹配那个同样的具体某个字符。</p>
<p>我们知道了\1的含义后，那么\2和\3的概念也就理解了，即分别指代第二个和第三个分组。</p>
<p>看到这里，此时，恐怕你会有三个问题。</p>
<h5 id="括号嵌套怎么办？"><a href="#括号嵌套怎么办？" class="headerlink" title="括号嵌套怎么办？"></a>括号嵌套怎么办？</h5><p>以左括号（开括号）为准。比如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/^((\d)(\d(\d)))\1\2\3\4$/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"1231231233"</span>;</div><div class="line"><span class="built_in">console</span>.log( regex.test(string) ); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log( <span class="built_in">RegExp</span>.$<span class="number">1</span> ); <span class="comment">// 123</span></div><div class="line"><span class="built_in">console</span>.log( <span class="built_in">RegExp</span>.$<span class="number">2</span> ); <span class="comment">// 1</span></div><div class="line"><span class="built_in">console</span>.log( <span class="built_in">RegExp</span>.$<span class="number">3</span> ); <span class="comment">// 23</span></div><div class="line"><span class="built_in">console</span>.log( <span class="built_in">RegExp</span>.$<span class="number">4</span> ); <span class="comment">// 3</span></div></pre></td></tr></table></figure></p>
<p>我们可以看看这个正则匹配模式：</p>
<p>第一个字符是数字，比如说1，</p>
<p>第二个字符是数字，比如说2，</p>
<p>第三个字符是数字，比如说3，</p>
<p>接下来的是\1，是第一个分组内容，那么看第一个开括号对应的分组是什么，是123，</p>
<p>接下来的是\2，找到第2个开括号，对应的分组，匹配的内容是1，</p>
<p>接下来的是\3，找到第3个开括号，对应的分组，匹配的内容是23，</p>
<p>最后的是\4，找到第3个开括号，对应的分组，匹配的内容是3。</p>
<p>这个问题，估计仔细看一下，就该明白了。</p>
<h5 id="3-2-10表示什么呢？"><a href="#3-2-10表示什么呢？" class="headerlink" title="3.2 \10表示什么呢？"></a>3.2 \10表示什么呢？</h5><p>另外一个疑问可能是，即\10是表示第10个分组，还是\1和0呢？答案是前者，虽然一个正则里出现\10比较罕见。测试如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(1)(2)(3)(4)(5)(6)(7)(8)(9)(#) \10+/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"123456789# ######"</span></div><div class="line"><span class="built_in">console</span>.log( regex.test(string) );</div></pre></td></tr></table></figure></p>
<h5 id="3-3-引用不存在的分组会怎样？"><a href="#3-3-引用不存在的分组会怎样？" class="headerlink" title="3.3 引用不存在的分组会怎样？"></a>3.3 引用不存在的分组会怎样？</h5><p>因为反向引用，是引用前面的分组，但我们在正则里引用了不存在的分组时，此时正则不会报错，只是匹配反向引用的字符本身。例如\2，就匹配”\2”。注意”\2”表示对2进行了转意。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/\1\2\3\4\5\6\7\8\9/</span>;</div><div class="line"><span class="built_in">console</span>.log( regex.test(<span class="string">"\1\2\3\4\5\6\7\8\9"</span>) ); <span class="comment">//true</span></div></pre></td></tr></table></figure></p>
<h4 id="4-非捕获分组"><a href="#4-非捕获分组" class="headerlink" title="4. 非捕获分组"></a>4. 非捕获分组</h4><p>之前文中出现的分组，都会捕获它们匹配到的数据，以便后续引用，因此也称他们是捕获型分组。</p>
<p>如果只想要括号最原始的功能，但不会引用它，即，既不在API里引用，也不在正则里反向引用。此时可以使用非捕获分组(?:p)，例如本文第一个例子可以修改为：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/(?:ab)+/g</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"ababa abbb ababab"</span>;</div><div class="line"><span class="built_in">console</span>.log( string.match(regex) ); <span class="comment">// ["abab", "ab", "ababab"]</span></div></pre></td></tr></table></figure></p>
<h4 id="5-相关案例"><a href="#5-相关案例" class="headerlink" title="5. 相关案例"></a>5. 相关案例</h4><p>至此括号的作用已经讲完了，总结一句话，就是提供了可供我们使用的分组，如何用就看我们的了。</p>
<h5 id="5-1-字符串trim方法模拟"><a href="#5-1-字符串trim方法模拟" class="headerlink" title="5.1 字符串trim方法模拟"></a>5.1 字符串trim方法模拟</h5><p>trim方法是去掉字符串的开头和结尾的空白符。有两种思路去做。</p>
<p>第一种，匹配到开头和结尾的空白符，然后替换成空字符。如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">trim</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> str.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">''</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log( trim(<span class="string">"  foobar   "</span>) ); <span class="comment">// "foobar"</span></div></pre></td></tr></table></figure></p>
<p>第二种，匹配整个字符串，然后用引用来提取出相应的数据：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">trim</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> str.replace(<span class="regexp">/^\s*(.*?)\s*$/g</span>, <span class="string">"$1"</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log( trim(<span class="string">"  foobar   "</span>) ); <span class="comment">// "foobar"</span></div></pre></td></tr></table></figure></p>
<p>这里使用了惰性匹配*?，不然也会匹配最后一个空格之前的所有空格的。<br>当然，前者效率高。</p>
<h5 id="5-2-将每个单词的首字母转换为大写"><a href="#5-2-将每个单词的首字母转换为大写" class="headerlink" title="5.2 将每个单词的首字母转换为大写"></a>5.2 将每个单词的首字母转换为大写</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">titleize</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> str.toLowerCase().replace(<span class="regexp">/(?:^|\s)\w/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> c.toUpperCase();</div><div class="line">	&#125;);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log( titleize(<span class="string">'my name is epeli'</span>) ); <span class="comment">// "My Name Is Epeli"</span></div></pre></td></tr></table></figure>
<p>思路是找到每个单词的首字母，当然这里不使用非捕获匹配也是可以的。</p>
<h5 id="5-3-驼峰化"><a href="#5-3-驼峰化" class="headerlink" title="5.3 驼峰化"></a>5.3 驼峰化</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">camelize</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> str.replace(<span class="regexp">/[-_\s]+(.)?/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match, c</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> c ? c.toUpperCase() : <span class="string">''</span>;</div><div class="line">	&#125;);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log( camelize(<span class="string">'-moz-transform'</span>) ); <span class="comment">// MozTransform</span></div></pre></td></tr></table></figure>
<p>首字母不会转化为大写的。其中分组(.)表示首字母，单词的界定，前面的字符可以是多个连字符、下划线以及空白符。正则后面的?的目的，是为了应对str尾部的字符可能不是单词字符，比如str是’-moz-transform ‘。</p>
<h5 id="5-4-中划线化"><a href="#5-4-中划线化" class="headerlink" title="5.4 中划线化"></a>5.4 中划线化</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">unction dasherize(str) &#123;</div><div class="line">	<span class="keyword">return</span> str.replace(<span class="regexp">/([A-Z])/g</span>, <span class="string">'-$1'</span>).replace(<span class="regexp">/[-_\s]+/g</span>, <span class="string">'-'</span>).toLowerCase();</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log( dasherize(<span class="string">'MozTransform'</span>) ); <span class="comment">// -moz-transform</span></div></pre></td></tr></table></figure>
<p>驼峰化的逆过程。</p>
<h5 id="5-5-html转义和反转义"><a href="#5-5-html转义和反转义" class="headerlink" title="5.5 html转义和反转义"></a>5.5 html转义和反转义</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 将HTML特殊字符转换成等值的实体</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeHTML</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> escapeChars = &#123;</div><div class="line">	  <span class="string">'¢'</span> : <span class="string">'cent'</span>,</div><div class="line">	  <span class="string">'£'</span> : <span class="string">'pound'</span>,</div><div class="line">	  <span class="string">'¥'</span> : <span class="string">'yen'</span>,</div><div class="line">	  <span class="string">'€'</span>: <span class="string">'euro'</span>,</div><div class="line">	  <span class="string">'©'</span> :<span class="string">'copy'</span>,</div><div class="line">	  <span class="string">'®'</span> : <span class="string">'reg'</span>,</div><div class="line">	  <span class="string">'&lt;'</span> : <span class="string">'lt'</span>,</div><div class="line">	  <span class="string">'&gt;'</span> : <span class="string">'gt'</span>,</div><div class="line">	  <span class="string">'"'</span> : <span class="string">'quot'</span>,</div><div class="line">	  <span class="string">'&amp;'</span> : <span class="string">'amp'</span>,</div><div class="line">	  <span class="string">'\''</span> : <span class="string">'#39'</span></div><div class="line">	&#125;;</div><div class="line">	<span class="keyword">return</span> str.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'['</span> + <span class="built_in">Object</span>.keys(escapeChars).join(<span class="string">''</span>) +<span class="string">']'</span>, <span class="string">'g'</span>), <span class="function"><span class="keyword">function</span>(<span class="params">match</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">'&amp;'</span> + escapeChars[match] + <span class="string">';'</span>;</div><div class="line">	&#125;);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log( escapeHTML(<span class="string">'&lt;div&gt;Blah blah blah&lt;/div&gt;'</span>) );</div><div class="line"><span class="comment">// =&gt; &amp;lt;div&amp;gt;Blah blah blah&amp;lt;/div&amp;gt;</span></div></pre></td></tr></table></figure>
<p>其中使用了用构造函数生成的正则，然后替换相应的格式就行了，这个跟本文没多大关系。</p>
<p>倒是它的逆过程，使用了括号，以便提供引用，也很简单，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">// 实体字符转换为等值的HTML。</div><div class="line">function unescapeHTML(str) &#123;</div><div class="line">	var htmlEntities = &#123;</div><div class="line">	  nbsp: &apos; &apos;,</div><div class="line">	  cent: &apos;¢&apos;,</div><div class="line">	  pound: &apos;£&apos;,</div><div class="line">	  yen: &apos;¥&apos;,</div><div class="line">	  euro: &apos;€&apos;,</div><div class="line">	  copy: &apos;©&apos;,</div><div class="line">	  reg: &apos;®&apos;,</div><div class="line">	  lt: &apos;&lt;&apos;,</div><div class="line">	  gt: &apos;&gt;&apos;,</div><div class="line">	  quot: &apos;&quot;&apos;,</div><div class="line">	  amp: &apos;&amp;&apos;,</div><div class="line">	  apos: &apos;\&apos;&apos;</div><div class="line">	&#125;;</div><div class="line">	return str.replace(/\&amp;([^;]+);/g, function(match, key) &#123;</div><div class="line">		if (key in htmlEntities) &#123;</div><div class="line">			return htmlEntities[key];</div><div class="line">		&#125;</div><div class="line">		return match;</div><div class="line">	&#125;);</div><div class="line">&#125;</div><div class="line">console.log( unescapeHTML(&apos;&amp;lt;div&amp;gt;Blah blah blah&amp;lt;/div&amp;gt;&apos;) );</div><div class="line">// =&gt; &lt;div&gt;Blah blah blah&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>通过key获取相应的分组引用，然后作为对象的键。</p>
<h5 id="5-6-匹配成对标签"><a href="#5-6-匹配成对标签" class="headerlink" title="5.6 匹配成对标签"></a>5.6 匹配成对标签</h5><p>要求匹配：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>regular expression<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>laoyao bye bye<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>不匹配：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>wrong!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>匹配一个开标签，可以使用正则<code>&lt;[^&gt;]+&gt;</code>，</p>
<p>匹配一个闭标签，可以使用<code>&lt;\/[^&gt;]+&gt;</code>，</p>
<p>但是要求匹配成对标签，那就需要使用反向引用，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var regex = /&lt;([^&gt;]+)&gt;[\d\D]*&lt;\/\1&gt;/;</div><div class="line">var string1 = &quot;&lt;title&gt;regular expression&lt;/title&gt;&quot;;</div><div class="line">var string2 = &quot;&lt;p&gt;laoyao bye bye&lt;/p&gt;&quot;;</div><div class="line">var string3 = &quot;&lt;title&gt;wrong!&lt;/p&gt;&quot;;</div><div class="line">console.log( regex.test(string1) ); // true</div><div class="line">console.log( regex.test(string2) ); // true</div><div class="line">console.log( regex.test(string3) ); // false</div></pre></td></tr></table></figure></p>
<p>其中开标签<code>&lt;[^&gt;]+&gt;</code>改成<code>&lt;([^&gt;]+)&gt;</code>，使用括号的目的是为了后面使用反向引用，而提供分组。闭标签使用了反向引用，<code>&lt;\/\1&gt;</code>。</p>
<p>另外<code>[\d\D]</code>的意思是，这个字符是数字或者不是数字，因此，也就是匹配任意字符的意思。</p>
<h2 id="正则表达式中-括号-方括号-大括号-的区别"><a href="#正则表达式中-括号-方括号-大括号-的区别" class="headerlink" title="正则表达式中(括号) [方括号] {大括号}的区别"></a>正则表达式中(括号) [方括号] {大括号}的区别</h2><ul>
<li><p><code>括号()</code> ： 括号是多个匹配，它把括号内的当做一组来处理，限制一些多选的范围，比如上面的需求只能是com cn net结尾的用括号就是最好的选择。<br>括号能提取字符串，如(com|cn|net)就可以限制，只能是com或cn或net。<br>括号将括号里面的内容作为一组，这就是与[]不同的地方。</p>
</li>
<li><p><code>方括号[]</code>： 方括号是单个匹配，如[abc]他限制的不是abc连续出现，而是只能是其中一个，这样写那么规则就是找到这个位置时只能是a或是b或是c；<br>方括号是正则表达式中最常用的，常用的用法有：[a-zA-Z0-9]匹配所有英文字母和数字，[^a-zA-Z0-9]匹配所有非英文字母和数字。</p>
</li>
<li><p><code>大括号{}</code>： 大括号的用法很简单，就是匹配次数，它需要和其他有意义的正则表达式一起使用。<br>比如[a-c]{2}意思就是匹配a-c之间的一个字母出现且只出现两次；<br>比如(com){1}意思就是com必须出现一次<br>比如\W{1,3}意思就是非字母数字最少出现一次最多出现3次。</p>
</li>
</ul>
<h2 id="贪婪与非贪婪模式"><a href="#贪婪与非贪婪模式" class="headerlink" title="贪婪与非贪婪模式"></a>贪婪与非贪婪模式</h2><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><p>贪婪与非贪婪模式影响的是被量词修饰的子表达式的匹配行为，贪婪模式在整个表达式匹配成功的前提下，尽可能多的匹配，而非贪婪模式在整个表达式匹配成功的前提下，尽可能少的匹配。非贪婪模式只被部分NFA引擎所支持。 </p>
<p>属于贪婪模式的量词，也叫做匹配优先量词，包括：<br><code>{m,n}</code>、<code>{m,}</code>、<code>?</code>、<code>*</code>和<code>+</code>。    </p>
<p>在一些使用NFA引擎的语言中，在匹配优先量词后加上“?”，即变成属于非贪婪模式的量词，也叫做忽略优先量词，包括：<br><code>{m,n}?</code>、<code>{m,}?</code>、<code>??</code>、<code>*?</code>和<code>+?</code>。 </p>
<p>从正则语法的角度来讲，被匹配优先量词修饰的子表达式使用的就是贪婪模式，如“(Expression)+”；被忽略优先量词修饰的子表达式使用的就是非贪婪模式，如“(Expression)+?”。 </p>
<p>对于贪婪模式，各种文档的叫法基本一致，但是对于非贪婪模式，有的叫懒惰模式或惰性模式，有的叫勉强模式，其实叫什么无所谓，只要掌握原理和用法，能够运用自如也就是了。个人习惯使用贪婪与非贪婪的叫法</p>
<p>这两种模式如下图所示：<br>| 贪婪   | 非贪婪  | 意　　义（X为表达式）           |<br>| —— | ——- | ——————————- |<br>| X?     | X??     | 匹配 X 零次或一次               |<br>| X<em>     | X</em>?     | 匹配 X 零次或多次               |<br>| X+     | X+?     | 匹配 X 一次或多次               |<br>| X{n,}  | X{n,}?  | 匹配 X 至少 n 次                |<br>| X{n,m} | X{n,m}? | 匹配 X 至少 n 次，但不多于 m 次 |</p>
<p>看下一个例子，假定要分析的字符串是xfooxxxxxxfoo</p>
<ul>
<li><p><strong>贪婪模式</strong>:<br>  最大匹配方式。模式分为子模式p1(.*)和子模式p2(foo)两个部分. 其中p1中的量词匹配方式使用默认方式(贪婪型)。 匹配开始时,吃入所有字符xfooxxxxxx去匹配子模式p1。匹配成功,但这样以来就没有了字符串去匹配子模式p2。本轮匹配失败；第二轮：减少p1部分的匹配量，吐出最后一个字符, 把字符串分割成xfooxxxxxxfo和o两个子字符串s1和s2。 s1匹配p1, 但s2不匹配p2。本轮匹配失败；第三轮，再次减少p1部分匹配量，吐出两个字符, 字符串被分割成xfooxxxxxxfo和oo两部分。结果同上。第四轮，再次减少p1匹配量, 字符串分割成xfooxxxxxx和foo两个部分, 这次s1/s2分别和p1/p2匹配。停止尝试,返回匹配成功。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/.*foo/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"xfooxxxxxxfoo"</span>;</div><div class="line"><span class="built_in">console</span>.log( string.match(regex) ); <span class="comment">//xfooxxxxxxfoo</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>非贪婪模式</strong>:<br>  最小匹配方式。第一次尝试匹配, p1由于是0或任意次，因此被忽略，用字符串去匹配p2,失败；第二次，读入第一个字符x, 尝试和p1匹配, 匹配成功; 字符串剩余部分fooxxxxxxfoo中前三个字符和p2也是匹配的. 因此, 停止尝试, 返回匹配成功。在这种模式下，如果对剩余字符串继续去寻找和模式相匹配的子字符串，还会找到字符串末尾的另一个xfoo，而在贪婪模式下，由于第一次匹配成功的子串就已经是所有字符，因此不存在第二个匹配子串。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/.*?foo/</span>;</div><div class="line"><span class="keyword">var</span> string = <span class="string">"xfooxxxxxxfoo"</span>;</div><div class="line"><span class="built_in">console</span>.log( string.match(regex) ); <span class="comment">//xfoo</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="JavaScript-RegExp-对象"><a href="#JavaScript-RegExp-对象" class="headerlink" title="JavaScript RegExp 对象"></a>JavaScript RegExp 对象</h2><p>正则表达式是描述字符模式的对象。</p>
<p>正则表达式用于对字符串模式匹配及检索替换，是对字符串执行模式匹配的强大工具。</p>
<h5 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> patt=<span class="keyword">new</span> <span class="built_in">RegExp</span>(pattern,modifiers);</div><div class="line"></div><div class="line">或者更简单的方式:</div><div class="line"></div><div class="line"><span class="keyword">var</span> patt=<span class="regexp">/pattern/m</span>odifiers;</div></pre></td></tr></table></figure>
<ul>
<li>pattern（模式） 描述了表达式的模式</li>
<li>modifiers(修饰符) 用于指定全局匹配、区分大小写的匹配和多行匹配</li>
</ul>
<p>注意：当使用构造函数创造正则对象时，需要常规的字符转义规则（在前面加反斜杠 \）。比如，以下是等价的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\w+"</span>);</div><div class="line"><span class="keyword">var</span> re = <span class="regexp">/\w+/</span>;</div></pre></td></tr></table></figure></p>
<p>例如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\w+"</span>);</div><div class="line">re.test(<span class="string">"abc"</span>);<span class="comment">//true</span></div><div class="line"></div><div class="line">/\w+\.test(<span class="string">"abc"</span>);<span class="comment">//true</span></div></pre></td></tr></table></figure></p>
<p><strong>修饰符</strong><br>修饰符用于执行区分大小写和全局匹配:</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>执行对大小写不敏感的匹配。</td>
</tr>
<tr>
<td>g</td>
<td>执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。</td>
</tr>
<tr>
<td>m</td>
<td>执行多行匹配。</td>
</tr>
</tbody>
</table>
<h6 id="exec"><a href="#exec" class="headerlink" title="exec()"></a>exec()</h6><p>exec() 方法用于检索字符串中的正则表达式的匹配。</p>
<p>如果字符串中有匹配的值返回该匹配值，否则返回 null。</p>
<p><strong>语法：</strong><br>RegExpObject.exec(string)</p>
<p><strong>例子:</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str=<span class="string">"Hello world!"</span>;</div><div class="line"><span class="comment">//查找"Hello"</span></div><div class="line"><span class="keyword">var</span> patt=<span class="regexp">/Hello/g</span>;</div><div class="line"><span class="built_in">console</span>.log(patt.exec(str)); <span class="comment">//Hello</span></div></pre></td></tr></table></figure></p>
<h6 id="test"><a href="#test" class="headerlink" title="test()"></a>test()</h6><p>test() 方法用于检测一个字符串是否匹配某个模式.</p>
<p>如果字符串中有匹配的值返回 true ，否则返回 false。</p>
<p><strong>语法：</strong><br>RegExpObject.test(string)</p>
<p><strong>例子:</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str=<span class="string">"Hello world!"</span>;</div><div class="line"><span class="comment">//查找"Hello"</span></div><div class="line"><span class="keyword">var</span> patt=<span class="regexp">/Hello/g</span>;</div><div class="line"><span class="built_in">console</span>.log(patt.test(str)); <span class="comment">//true</span></div></pre></td></tr></table></figure></p>
<h6 id="match"><a href="#match" class="headerlink" title="match()"></a>match()</h6><p>找到一个或多个正则表达式的匹配。</p>
<p><strong>语法：</strong><br>string.match(regexp)</p>
<p><strong>例子:</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">有修饰符g</div><div class="line"><span class="keyword">var</span> str=<span class="string">"The rain in SPAIN stays mainly in the plain"</span>; </div><div class="line"><span class="built_in">console</span>.log(str.match(<span class="regexp">/ain/g</span>));<span class="comment">//"ain", "ain", "ain"</span></div><div class="line"></div><div class="line">没有修饰符g</div><div class="line"><span class="keyword">var</span> str=<span class="string">"The rain in SPAIN stays mainly in the plain"</span>; </div><div class="line"><span class="built_in">console</span>.log(str.match(<span class="regexp">/ain/</span>));<span class="comment">//"ain"</span></div></pre></td></tr></table></figure></p>
<p>注意： match() 方法将检索字符串 String Object，以找到一个或多个与 regexp 匹配的文本。这个方法的行为在很大程度上有赖于 regexp 是否具有标志 g。如果 regexp 没有标志 g，那么 match() 方法就只能在 stringObject 中执行一次匹配。如果没有找到任何匹配的文本， match() 将返回 null。否则，它将返回一个数组，其中存放了与它找到的匹配文本有关的信息。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://clq2owesome.github.io/2018/03/08/正则表达式/正则表达式/" data-id="cjfvvphho001rm9fyvt2beley" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/04/12/服务器相关/Tomcat/Tomcat类加载机制/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Tomcat类加载机制
        
      </div>
    </a>
  
  
    <a href="/2018/02/25/Java/分布式/分布式事务/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">分布式事务</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Eclipse/">Eclipse</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Cookie/">Cookie</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JAXB/">JAXB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JavaMail/">JavaMail</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/分布式/">分布式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/加密解密／编码解码/">加密解密／编码解码</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/基础/">基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/数据类型/">数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/日记/">日记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/时间日期/">时间日期</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/线程/">线程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/网络NIO/">网络NIO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/队列/">队列</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/集合/">集合</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Application-Event/">Application Event</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/JPA/">JPA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Security/">Security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/">Spring Boot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Session/">Spring Session</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Task/">Task</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/spring-MVC/">spring MVC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/spring-data-redis/">spring data redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/基础/">基础</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/">前端技术相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/forever/">forever</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端技术相关/javascript/">javascript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库相关/">数据库相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据库相关/mysql/">mysql</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/">服务器相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Hessian/">Hessian</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Hudson-Jenkins/">Hudson & Jenkins</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Memcached/">Memcached</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/red5/">red5</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/redis/">redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/resin/">resin</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则表达式/">正则表达式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/04/12/服务器相关/Tomcat/TOMCAT原理详解及请求过程/">TOMCAT原理详解及请求过程</a>
          </li>
        
          <li>
            <a href="/2018/04/12/网络/HTTPS工作原理/">HTTPS工作原理</a>
          </li>
        
          <li>
            <a href="/2018/04/12/网络/三次握手和四次挥手/">三次握手和四次挥手</a>
          </li>
        
          <li>
            <a href="/2018/04/12/服务器相关/Tomcat/内存分配/">内存分配</a>
          </li>
        
          <li>
            <a href="/2018/04/12/服务器相关/Tomcat/Tomcat整体架构浅析/">Tomcat整体架构浅析</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 LeoChan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>